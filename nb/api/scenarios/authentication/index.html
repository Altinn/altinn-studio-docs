<!DOCTYPE html>
<html lang="nb" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Hvordan autentisere ved å bruke APIene.">

<title>Autentisering – Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">
    <link href="/css/horsey.css" rel="stylesheet">
    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/nb/api/scenarios/authentication/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Hopp til hovedinnholdet</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Hopp til hovedmeny</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/nb/" class="a-globalNav-logo">
            <img src="/images/altinnstudio-logo-white.svg" alt="Altinn Studio logo" class="adocs-logo">
            <span class="sr-only">Til forsiden</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Vis/skjul meny</span></button>
          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="d-md-none dropdown"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  Language
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle"><a aria-hidden="true" class="dropdown-item" href="/api/scenarios/authentication/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English</span><br><span>Most content is available in english.</span></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/nb/api/scenarios/authentication/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokmål ✓</span><br><span>Noe innhold er tilgjengelig på bokmål.</span></p>
    </a></div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/app/">apps</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/community/">community</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/nb/technology/">tech</a>
              </li>
            </ul>
          </div>

        </nav> 
        <ul class="nav nav-pills a-header-options" id="nav-list">
          <li class="nav-item dropdown d-none d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  Language
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle"><a aria-hidden="true" class="dropdown-item" href="/api/scenarios/authentication/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English</span><br><span>Most content is available in english.</span></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/nb/api/scenarios/authentication/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokmål ✓</span><br><span>Noe innhold er tilgjengelig på bokmål.</span></p>
    </a></div>
</li>
        </ul>
      </div>
    </div> 
  </div> 
</header>
<div class="container pt-2 pt-md-3 pt-lg-5">
      <div class="adocs-scrollcontainer">
        <div class="row">
            <div class="col-sm-12"><nav id="sidebar" class=""><div class="highlightable">
    <div id="header-wrapper"><div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Søk...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>
<script src="/js/lunr.min.js"></script>
<script src="/js/horsey.js"></script>
<script>
    var baseurl = "https:\/\/docs.altinn.studio\/";
</script>
<script src="/js/search.js"></script></div>
    <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/nb/app/"><span>Lage apper</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/"><span>Kom i gang</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/intro/"><span>Introduksjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/first-time-setup/"><span>Opprette bruker</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/dashboard/"><span>Dashboard</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/copy-app/"><span>Kopier app</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/create-app/"><span>Opprette app</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/migrate-services/"><span>Migrere tjenester</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/"><span>Navigasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/designer/"><span>Designer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/designer/ui-editor/"><span>UI editor</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/repos/"><span>Repos</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/code/"><span>Code</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/"><span>Tilganger</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/studio/"><span>Studio</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/local-dev/"><span>Lokal utvikling</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/"><span>Introkurs</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/case/"><span>Case</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul1/"><span>Modul 1</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul2/"><span>Modul 2</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul3/"><span>Modul 3</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul4/"><span>Modul 4</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul5/"><span>Modul 5</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul6/"><span>Modul 6</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul7/"><span>Modul 7</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/losningsforslag/"><span>Løsningsforslag</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/design/"><span>Design</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/insight/"><span>Innsiktsfase</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/prototype/"><span>Prototype</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/usertest/"><span>Brukertest</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/"><span>Retningslinjer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/design-principles/"><span>Designprinsipper</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/link-to-app/"><span>Inngang til skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/content/"><span>Innhold i skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/consistency/"><span>Konsistens</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/"><span>UI-komponenter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/title-and-paragraph/"><span>Tittel og avsnitt</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/button/"><span>Knapp og lenke</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/input/"><span>Input</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/date/"><span>Dato</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/checkbox/"><span>Avkrysningsboks</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/radiobutton/"><span>Radioknapp</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/select/"><span>Nedtrekksliste</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/helptext/"><span>Hjelpetekst</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/error-message/"><span>Feilmeldinger</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/file-upload/"><span>Filopplasting</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/picture-component/"><span>Bilde</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/tone-of-voice/"><span>Språk</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/wcag/"><span>Tilgjengelighet</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/"><span>Utvikling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/data/"><span>Data</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/"><span>Datamodell</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/prefill/"><span>Preutfylling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/options/"><span>Kodelister</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/attachments/"><span>Vedlegg</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/"><span>Brukergrensesnitt</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/"><span>Komponenter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/panel/"><span>Panel</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/printbutton/"><span>PrintButton</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/likert/"><span>Likert</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/"><span>Sider</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/navigation/"><span>Navigasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/tracks/"><span>Sporvalg</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/summary/"><span>Oppsummering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/layout-sets/"><span>Flere skjema</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/"><span>Felter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/"><span>Gruppering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/setup/"><span>Oppsett</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/repeating/"><span>Repeterende</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/alternatives/"><span>Innstillinger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/settings/"><span>Innstillinger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/styling/"><span>Styling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/images/"><span>Bilder</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/texts/"><span>Tekster</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/texts/translation/"><span>Oversettelse av tekster</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pdf/"><span>PDF</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/widgets/"><span>Widgets</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/"><span>Logikk</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/logic/generic/"><span>Generelt</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/services/"><span>Tjenester</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/dataprocessing/"><span>Dataprosessering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/dynamic/"><span>Dynamikk</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/instantiation/"><span>Instansiering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/calculation/"><span>Kalkuleringer</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/validation/"><span>Validering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/"><span>Konfigurasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/"><span>Meldingsboks</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/presentationfields/"><span>Presentasjonsfelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/hide_instances/"><span>Skjule instanser</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/"><span>Autorisasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/rules/"><span>Regelbibliotek</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/partytype/"><span>Aktørtyper</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/datafields/"><span>Datafelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/"><span>Prosess</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/auto-delete/"><span>Automatisk sletting</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/message/"><span>Melding</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/customize/"><span>Tilpasse visninger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/queryparameters/"><span>Query parametere</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/secrets/"><span>Secrets</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/eformidling/"><span>eFormidling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/events/"><span>Events</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/settings/"><span>Settings</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/startup/"><span>Startup</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/stateless/"><span>Stateless</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/deployment/"><span>Deployment</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authentication/"><span>Autentisering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/"><span>API</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/api/expose/"><span>Eksponere</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/instance/"><span>Instans</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/consume/"><span>Konsumere</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/"><span>Testing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/"><span>Lokalt</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/"><span>API tests</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/org/"><span>Org</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/user/"><span>Sluttbruker</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/debug/"><span>Debugging</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/testusers/"><span>Testbrukere</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/deploy/"><span>I testmiljø</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/deployment/"><span>Produksjonssetting</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/"><span>Kjøremiljø</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/resource-allocation/"><span>Ressurserfordeling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/resource-allocation-tips/"><span>Tips til ressurserfordeling</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/maintainance/"><span>Vedlikehold</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/maintainance/dependencies/"><span>Avhengigheter</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/"><span>Lanserte tjenester</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/"><span>Digdir</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/bli-tjenesteeier/"><span>Bli tjenesteeier</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/godkjenn-bruksvilkaar/"><span>Godkjenn bruksvilkår</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/oed/"><span>Oppgjør etter dødsfall</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/be-om-api-nokkel/"><span>Tilgang til REST API</span></a></li></ul></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/"><span>API</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/"><span>App</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/metadata/"><span>Metadata</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/instances/"><span>Instanser</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/data-elements/"><span>Data-elementer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/data-elements/tags/"><span>Tags</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/apps/stateless-data-elements/"><span>Tilstandsløse data</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/process/"><span>Prosess</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/validation/"><span>Validering</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/"><span>Authentication</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/authentication/maskinporten/"><span>Maskinporten</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/enterpriseuser/"><span>Virksomhetsbruker</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/id-porten/"><span>ID-porten</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/delegate-scopes/"><span>Delegere API-tilganger</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/events/"><span>Events</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/events/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/models/"><span>Modeller</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/models/app-metadata/"><span>App metadata</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/models/instance/"><span>Instance</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/models/data-element/"><span>DataElement</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/scenarios/"><span>Scenarier</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/scenarios/authentication/"><span>Autentisering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/storage/"><span>Storage</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/storage/instances/"><span>Instanser</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/storage/instance-events/"><span>Instance events</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/storage/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/studio/"><span>Studio</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/"><span>Community</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/about/"><span>Om</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/about/open-source/"><span>Åpen kildekode</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/about/goals/"><span>Mål</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/"><span>Bidra til utvikling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/contributing/propose-component/"><span>Foreslå en ny komponent</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/develop-component/"><span>Utvikle en komponent</span></a></li><li class="dd-item">
          <a href="/nb/community/contributing/intro/">
            <span>Intro for utviklere</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/handbook/"><span>Håndbok</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/"><span>Endringslogg</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/"><span>App frontend</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/whats-new/"><span>Hva er nytt?</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/"><span>App nuget</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/"><span>v6</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/"><span>v5</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/"><span>v4</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/whats-new/"><span>Hva er nytt?</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/"><span>Deployment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/migration/"><span>Migrering</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/"><span>v1</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/whats-new/"><span>Hva er nytt</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/"><span>v2</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/whats-new/"><span>Hva er nytt</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/"><span>Storage Interface</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/v3/"><span>v3</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/v2/"><span>v2</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/roadmap/"><span>Roadmap</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/roadmap/studio/"><span>Studio</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/roadmap/studio/appowner/"><span>App-eier</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/roadmap/studio/enduser/"><span>Sluttbruker</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/devops/"><span>DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/devops/definition-of-ready/"><span>Definition of Ready</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/roadmapprocess/"><span>Roadmap prosess</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/"><span>Teams</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/platform/"><span>Platform</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/studio/"><span>Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/presentations/"><span>Presentasjoner</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/technology/"><span>Teknologi</span></a></li></ul>
  </div>
</nav>

<script>
          $("li.dd-item a[href='/nb/api/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/api/scenarios/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/api/scenarios/authentication/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">
            <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links"><a href='/nb/api/'>API</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/api/scenarios/'>Scenarier</a> <span class='adocs-breadcrumb-divider'> / </span> Autentisering</span>
            </div>
          </div><div id="tags"><a class="label label-default" href="https://docs.altinn.studio/tags/api">api</a><a class="label label-default" href="https://docs.altinn.studio/tags/translate-to-norwegian">translate-to-norwegian</a></div><div id="body-inner"><h1 class="a-fontBold">Autentisering</h1>
              <p class="a-leadText" id="leadText">Hvordan autentisere ved å bruke APIene.</p><h2>På denne siden:</h2><nav id="TableOfContents">
  <ul>
    <li><a href="#authentication-for-application-owners">Authentication for application owners</a></li>
    <li><a href="#authentication-for-end-user-system">Authentication for end user system</a></li>
    <li><a href="#open-id-connect-configuration">Open ID Connect configuration</a></li>
  </ul>
</nav><h2 id="authentication-for-application-owners">Authentication for application owners</h2>
<p>Application owners should be authenticated with <a href="https://www.digdir.no/felleslosninger/maskinporten/869">Maskinporten</a>.</p>
<h3 id="api-provisioning-in-maskinporten">API provisioning in Maskinporten</h3>
<h4 id="api-provider">API-provider</h4>
<p>To provide an API in maskinporten Altinn has to do two operations.</p>
<ol>
<li>As API-provider Altinn registres a scope in <em>Maskinporten</em>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>POST /scopes
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;prefix&#34;</span>: <span style="color:#f1fa8c">&#34;altinn&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;subscope&#34;</span>: <span style="color:#f1fa8c">&#34;instances/metadata.read&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;description&#34;</span>: <span style="color:#f1fa8c">&#34;Clients can access metadata for all instances for all apps of the organisation&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>As API-provider Altinn has to give access to its scope for a given organisation
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>PUT /scopes/access/889640782?scope=altinn:apps.read
</span></span></code></pre></div>Here we have given organisation 889640782 access to the scope <code>altinn:instances/metadata.read</code>.
The organisation must then create a client that uses the scope.</li>
</ol>
<h4 id="api-consumer">API-consumer</h4>
<p>To access the Altinn API an organisation must create a client.</p>
<ol>
<li>As API-consumer the organisation must create a client in <em>Maskinporten</em> with scopes provided by Altinn:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>POST /clients
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;client_name&#34;</span>: <span style="color:#f1fa8c">&#34;altinnOrgRead&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;client_type&#34;</span>: <span style="color:#f1fa8c">&#34;CONFIDENTIAL&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;description&#34;</span>: <span style="color:#f1fa8c">&#34;Client for accessing the my orgs app data&#34;</span>,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>    <span style="color:#ff79c6">&#34;scopes&#34;</span>: [ <span style="color:#f1fa8c">&#34;altinn:instances/metadata.read&#34;</span> ],
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;token_reference&#34;</span>: <span style="color:#f1fa8c">&#34;SELF_CONTAINED&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ol>
<h3 id="scopes">Scopes</h3>
<p>scope names must follow the following regexp:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-perl" data-lang="perl"><span style="display:flex;"><span><span style="color:#ff79c6">^</span>([a<span style="color:#ff79c6">-</span>z0<span style="color:#ff79c6">-</span><span style="color:#bd93f9">9</span>]<span style="color:#ff79c6">+\/</span>?)<span style="color:#ff79c6">+</span>[a<span style="color:#ff79c6">-</span>z0<span style="color:#ff79c6">-</span><span style="color:#bd93f9">9</span>]<span style="color:#ff79c6">+</span>(<span style="color:#ff79c6">\.</span>[a<span style="color:#ff79c6">-</span>z0<span style="color:#ff79c6">-</span><span style="color:#bd93f9">9</span>]<span style="color:#ff79c6">+</span>)?<span style="color:#8be9fd;font-style:italic">$?</span>
</span></span></code></pre></div><p>It means that we cannot have <code>-</code> or <code>_</code> in scope names.</p>
<h4 id="all-instances-scope">All instances scope</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>altinn<span style="color:#ff79c6">:</span>serviceowner<span style="color:#ff79c6">/</span>instances.read
</span></span><span style="display:flex;"><span>altinn<span style="color:#ff79c6">:</span>serviceowner<span style="color:#ff79c6">/</span>instances.write
</span></span></code></pre></div><p>This is the most general scope which can be given to an organisation by Altinn.
It means that the application owner can create a client that can access all instances of apps issued by that application owner.</p>
<p>Clients with <em>write</em> scope will be able to instantiate applications through direct access to the app&rsquo;s api, update metadata,
update process state, upload data, validate data, and change process of an instance.</p>
<p>Clients with <em>read</em> token will only be allowed to read metadata, data and events information.</p>
<h3 id="exchange-of-jwt-token">Exchange of JWT token</h3>
<p>Application owners register clients in Maskinporten and selects the scope they need.</p>
<p>A client is authenticated by <em>Maskinporten</em> and are given a <em>Maskinporten JWT access token</em>.</p>
<p>This token has to be validated and replaced with an <em>Altinn JWT access token</em> which should be used to access the apis.</p>
<h4 id="maskinporten-jwt-access-token-input">Maskinporten JWT access token (input)</h4>
<p>Client provides a self-contained access-token.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>Autorization: Bearer eyJraWQiOiJIdFlaMU1UbFZXUGNCV0JQVWV3TmxZd1RCRklicU1Hb081OFJ4bmN6TWJNIiwiYWxnIjoiUlMyNTYifQ.eyJhdWQiOiJ0ZXN0X3JwIiwic2NvcGUiOiJ ...
</span></span><span style="display:flex;"><span>GET /authentication/api/v1/exchange/maskinporten
</span></span></code></pre></div><p>The token looks something like this (after base64-decoding):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;kid&#34;</span>: <span style="color:#f1fa8c">&#34;HtYZ1MTlVWPcBWBPUewNlYwTBFIbqMGoO58RxnczMbM&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;alg&#34;</span>: <span style="color:#f1fa8c">&#34;RS256&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;aud&#34;</span>: <span style="color:#f1fa8c">&#34;https://tt02.altinn.no/maskinporten-api/&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;scope&#34;</span>: <span style="color:#f1fa8c">&#34;altinn:instances.write&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iss&#34;</span>: <span style="color:#f1fa8c">&#34;https://oidc-ver2.difi.no/idporten-oidc-provider/&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;client_amr&#34;</span>: <span style="color:#f1fa8c">&#34;virksomhetssertifikat&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;token_type&#34;</span>: <span style="color:#f1fa8c">&#34;Bearer&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;exp&#34;</span>: <span style="color:#bd93f9">1571935870</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iat&#34;</span>: <span style="color:#bd93f9">1571923870</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;client_id&#34;</span>: <span style="color:#f1fa8c">&#34;0de19f7a-f5fa-45d1-874c-3d2e88ce97d9&#34;</span>,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;client_orgno&#34;</span>: <span style="color:#f1fa8c">&#34;974760673&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;jti&#34;</span>: <span style="color:#f1fa8c">&#34;U3HMLIY8b_X454CADQzfttSuWpCADPQhc57iZXVF_Ac&#34;</span>,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;consumer&#34;</span>: {
</span></span><span style="display:flex; background-color:#3d3f4a"><span>    <span style="color:#ff79c6">&#34;authority&#34;</span>: <span style="color:#f1fa8c">&#34;iso6523-actorid-upis&#34;</span>,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>    <span style="color:#ff79c6">&#34;ID&#34;</span>: <span style="color:#f1fa8c">&#34;0192:974760673&#34;</span>
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>&lt;&lt;signature&gt;&gt;
</span></span></code></pre></div><p>Maksinporten provides the legal <code>consumer</code> (the client) in ISO 6523 format. The <code>client_orgno</code> claim is deprecated.</p>
<h4 id="the-altinn-jwt-access-token-output">The Altinn JWT Access token (output)</h4>
<p>The convert operation validates the incoming token and generates a new JWT token with the same scope as the token.
The scopes is copied. The <code>orgNumber</code> and <code>org</code> is added by the token converter.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;scope&#34;</span>: <span style="color:#f1fa8c">&#34;altinn:instances.read altinn:instances.write&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;token_type&#34;</span>: <span style="color:#f1fa8c">&#34;Bearer&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;exp&#34;</span>: <span style="color:#bd93f9">1571996946</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iat&#34;</span>: <span style="color:#bd93f9">1571995146</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;client_id&#34;</span>: <span style="color:#f1fa8c">&#34;0de19f7a-f5fa-45d1-874c-3d2e88ce97d9&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;client_orgno&#34;</span>: <span style="color:#f1fa8c">&#34;974760673&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;jti&#34;</span>: <span style="color:#f1fa8c">&#34;BcNIAuZKXdjpECmmwalAm-pcBp0iNc56T6eXhlxNBZE&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;consumer&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;authority&#34;</span>: <span style="color:#f1fa8c">&#34;iso6523-actorid-upis&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ID&#34;</span>: <span style="color:#f1fa8c">&#34;0192:974760673&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;org&#34;</span>: <span style="color:#f1fa8c">&#34;brg&#34;</span>,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;orgNumber&#34;</span>: <span style="color:#bd93f9">974760673</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iss&#34;</span>: <span style="color:#f1fa8c">&#34;https://platform.altinn.cloud/&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;AuthenticateMethod&#34;</span>: <span style="color:#f1fa8c">&#34;maskinporten&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;AuthenticationLevel&#34;</span>: <span style="color:#bd93f9">3</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;nbf&#34;</span>: <span style="color:#bd93f9">1571995146</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>&lt;&lt;signature&gt;&gt;
</span></span></code></pre></div><h2 id="authentication-for-end-user-system">Authentication for end user system</h2>
<p>End user systems should be authentication with <a href="https://difi.github.io/felleslosninger/idporten_overordnet.html">ID-porten</a>.
When authenticated the system may exchange an access token provided by ID-porten with an Altinn token by instructions below.</p>
<h4 id="exchange-of-jwt-token-1">Exchange of JWT token</h4>
<p>This token has to be validated and replaced with an <em>Altinn JWT access token</em> which should be used to access the apis.</p>
<h5 id="id-porten-jwt-access-token-input">ID-porten JWT access token (input)</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>Autorization: Bearer eyJraWQiOiJjWmswME1rbTVIQzRnN3Z0NmNwUDVGSFpMS0pzdzhmQkFJdUZiUzRSVEQ0IiwiYWxnIjoiUlMyNTYifQ.eyJhdF9 ...
</span></span><span style="display:flex;"><span>GET /authentication/api/v1/exchange/id-porten
</span></span></code></pre></div><p>The token looks something like this (after decoding):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;kid&#34;</span>: <span style="color:#f1fa8c">&#34;cZk00Mkm5HC4g7vt6cpP5FHZLKJsw8fBAIuFbS4RTD4&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;alg&#34;</span>: <span style="color:#f1fa8c">&#34;RS256&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;at_hash&#34;</span>: <span style="color:#f1fa8c">&#34;IF-jpSLtMjzoHdEhLq9pnw&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;sub&#34;</span>: <span style="color:#f1fa8c">&#34;PZcxQYOR_ylbrlj69pXn_HdTmrpDRpA3X0rTyOEyN5I=&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;amr&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;Minid-PIN&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iss&#34;</span>: <span style="color:#f1fa8c">&#34;https://oidc-ver2.difi.no/idporten-oidc-provider/&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;pid&#34;</span>: <span style="color:#f1fa8c">&#34;191080XXXXX&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;locale&#34;</span>: <span style="color:#f1fa8c">&#34;nb&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;nonce&#34;</span>: <span style="color:#f1fa8c">&#34;1584978003167642&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;sid&#34;</span>: <span style="color:#f1fa8c">&#34;bQDBkJmjrX3bx2agu4q7BS5QW6TPf9CHnJX11vEthZg&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;aud&#34;</span>: <span style="color:#f1fa8c">&#34;38e634d9-5682-44ae-9b60-db636efe3156&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;acr&#34;</span>: <span style="color:#f1fa8c">&#34;Level3&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;auth_time&#34;</span>: <span style="color:#bd93f9">1584978021</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;exp&#34;</span>: <span style="color:#bd93f9">1584978141</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iat&#34;</span>: <span style="color:#bd93f9">1584978021</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;jti&#34;</span>: <span style="color:#f1fa8c">&#34;_Og8JT1zMKzzHFB4WoVCdvqzmEpoY1hPhLa47bieJ94&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>&lt;&lt;signature&gt;&gt;
</span></span></code></pre></div><h5 id="the-altinn-jwt-access-token-output-1">The Altinn JWT Access token (output)</h5>
<p>The exchange operation validates the incomming token and generates a new JWT token that contains user data
retrieved from the database using the provided pid (person identification number) and pre-existing data from the ID-porten token.</p>
<p><code>pid</code> is referred to as ssn (social security number) i Altinn Platform.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;nameid&#34;</span>: <span style="color:#f1fa8c">&#34;20000011&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;urn:altinn:userid&#34;</span>: <span style="color:#f1fa8c">&#34;20000011&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;urn:altinn:username&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;urn:altinn:partyid&#34;</span>: <span style="color:#bd93f9">50002119</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;urn:altinn:authenticatemethod&#34;</span>: <span style="color:#f1fa8c">&#34;Minid-PIN&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;urn:altinn:authlevel&#34;</span>: <span style="color:#bd93f9">3</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;amr&#34;</span>: <span style="color:#f1fa8c">&#34;Minid-PIN&#34;</span>,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;pid&#34;</span>: <span style="color:#f1fa8c">&#34;191080XXXXX&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;locale&#34;</span>: <span style="color:#f1fa8c">&#34;nb&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;nonce&#34;</span>: <span style="color:#f1fa8c">&#34;1585045781364132&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;sid&#34;</span>: <span style="color:#f1fa8c">&#34;BYSqEpVGRrh6rElmnzzTjcU0roC95rxNCC2kAsB2hmY&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;acr&#34;</span>: <span style="color:#f1fa8c">&#34;Level3&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;auth_time&#34;</span>: <span style="color:#bd93f9">1585045793</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;exp&#34;</span>: <span style="color:#bd93f9">1585047785</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iat&#34;</span>: <span style="color:#bd93f9">1585045985</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;nbf&#34;</span>: <span style="color:#bd93f9">1585045985</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>&lt;&lt;signature&gt;&gt;
</span></span></code></pre></div><h2 id="open-id-connect-configuration">Open ID Connect configuration</h2>
<div class="notices warning" >
This is work-in-progress. The response is still missing required information and might be inconsistent with actual authentication mechanisms.
</div>
<p>Metadata about Altinn as an Open ID provider is exposed as a .well-known endpoint as defined
by <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfig">OpenID Connect Discovery</a>.</p>
<p>The primary porpose of this endpoint is to make available the Altinn signing certificate for the JSON Web Tokens being generated.
It is recommended that clients of Altinn use this discovery endpoint to automatically have their systems updated when Altinn changes their signing certificate.</p>
<table>
<thead>
<tr>
<th>Environment</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>AT2x</td>
<td><a href="https://platform.at2x.altinn.cloud/authentication/api/v1/openid/.well-known/openid-configuration">https://platform.at2x.altinn.cloud/authentication/api/v1/openid/.well-known/openid-configuration</a></td>
</tr>
<tr>
<td>YT01</td>
<td><a href="https://platform.yt01.altinn.cloud/authentication/api/v1/openid/.well-known/openid-configuration">https://platform.yt01.altinn.cloud/authentication/api/v1/openid/.well-known/openid-configuration</a></td>
</tr>
<tr>
<td>TT02</td>
<td><a href="https://platform.tt02.altinn.no/authentication/api/v1/openid/.well-known/openid-configuration">https://platform.tt02.altinn.no/authentication/api/v1/openid/.well-known/openid-configuration</a></td>
</tr>
</tbody>
</table>


<footer class=" footline" ></footer>
                </div>
              </div>
              

            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/api/scenarios/authentication/_index.nb.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Endre denne siden i GitHub
                  </a>
                </div></section>
        </div> 
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">Om Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://altinn.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <script>
      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
<script src="/js/custom.js"></script></body>
</html>

