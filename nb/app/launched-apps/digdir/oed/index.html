<!DOCTYPE html>
<html lang="nb" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Dokumentasjon av arkitektur, design, funksjonalitet og apper relatert til oppgjør etter dødsfall.">

<title>Oppgjør etter dødsfall – Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">
    <link href="/css/horsey.css" rel="stylesheet">
    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/nb/app/launched-apps/digdir/oed/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Hopp til hovedinnholdet</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Hopp til hovedmeny</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/nb/" class="a-globalNav-logo">
            <img src="/images/altinnstudio-logo-white.svg" alt="Altinn Studio logo" class="adocs-logo">
            <span class="sr-only">Til forsiden</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Vis/skjul meny</span></button>
          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="d-md-none dropdown"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  Language
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle"><a aria-hidden="true" class="dropdown-item" href="/app/launched-apps/digdir/oed/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English</span><br><span>Most content is available in english.</span></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/nb/app/launched-apps/digdir/oed/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokmål ✓</span><br><span>Noe innhold er tilgjengelig på bokmål.</span></p>
    </a></div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/app/">apps</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/community/">community</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/nb/technology/">tech</a>
              </li>
            </ul>
          </div>

        </nav> 
        <ul class="nav nav-pills a-header-options" id="nav-list">
          <li class="nav-item dropdown d-none d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  Language
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle"><a aria-hidden="true" class="dropdown-item" href="/app/launched-apps/digdir/oed/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English</span><br><span>Most content is available in english.</span></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/nb/app/launched-apps/digdir/oed/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokmål ✓</span><br><span>Noe innhold er tilgjengelig på bokmål.</span></p>
    </a></div>
</li>
        </ul>
      </div>
    </div> 
  </div> 
</header>
<div class="container pt-2 pt-md-3 pt-lg-5">
      <div class="adocs-scrollcontainer">
        <div class="row">
            <div class="col-sm-12"><nav id="sidebar" class=""><div class="highlightable">
    <div id="header-wrapper"><div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Søk...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>
<script src="/js/lunr.min.js"></script>
<script src="/js/horsey.js"></script>
<script>
    var baseurl = "https:\/\/docs.altinn.studio\/";
</script>
<script src="/js/search.js"></script></div>
    <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/nb/app/"><span>Lage apper</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/"><span>Kom i gang</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/intro/"><span>Introduksjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/first-time-setup/"><span>Opprette bruker</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/dashboard/"><span>Dashboard</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/copy-app/"><span>Kopier app</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/create-app/"><span>Opprette app</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/migrate-services/"><span>Migrere tjenester</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/"><span>Navigasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/designer/"><span>Designer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/designer/ui-editor/"><span>UI editor</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/repos/"><span>Repos</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/code/"><span>Code</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/"><span>Tilganger</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/studio/"><span>Studio</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/local-dev/"><span>Lokal utvikling</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/"><span>Introkurs</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/case/"><span>Case</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul1/"><span>Modul 1</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul2/"><span>Modul 2</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul3/"><span>Modul 3</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul4/"><span>Modul 4</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul5/"><span>Modul 5</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul6/"><span>Modul 6</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul7/"><span>Modul 7</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/losningsforslag/"><span>Løsningsforslag</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/design/"><span>Design</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/insight/"><span>Innsiktsfase</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/prototype/"><span>Prototype</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/usertest/"><span>Brukertest</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/"><span>Retningslinjer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/design-principles/"><span>Designprinsipper</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/link-to-app/"><span>Inngang til skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/content/"><span>Innhold i skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/consistency/"><span>Konsistens</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/"><span>UI-komponenter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/title-and-paragraph/"><span>Tittel og avsnitt</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/button/"><span>Knapp og lenke</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/input/"><span>Input</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/date/"><span>Dato</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/checkbox/"><span>Avkrysningsboks</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/radiobutton/"><span>Radioknapp</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/select/"><span>Nedtrekksliste</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/helptext/"><span>Hjelpetekst</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/error-message/"><span>Feilmeldinger</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/file-upload/"><span>Filopplasting</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/picture-component/"><span>Bilde</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/tone-of-voice/"><span>Språk</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/wcag/"><span>Tilgjengelighet</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/"><span>Utvikling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/data/"><span>Data</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/"><span>Datamodell</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/prefill/"><span>Preutfylling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/options/"><span>Kodelister</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/attachments/"><span>Vedlegg</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/"><span>Brukergrensesnitt</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/"><span>Komponenter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/panel/"><span>Panel</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/printbutton/"><span>PrintButton</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/likert/"><span>Likert</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/"><span>Sider</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/navigation/"><span>Navigasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/tracks/"><span>Sporvalg</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/summary/"><span>Oppsummering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/layout-sets/"><span>Flere skjema</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/"><span>Felter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/"><span>Gruppering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/setup/"><span>Oppsett</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/repeating/"><span>Repeterende</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/alternatives/"><span>Innstillinger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/settings/"><span>Innstillinger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/styling/"><span>Styling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/images/"><span>Bilder</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/texts/"><span>Tekster</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/texts/translation/"><span>Oversettelse av tekster</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pdf/"><span>PDF</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/widgets/"><span>Widgets</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/"><span>Logikk</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/logic/generic/"><span>Generelt</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/services/"><span>Tjenester</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/dataprocessing/"><span>Dataprosessering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/dynamic/"><span>Dynamikk</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/instantiation/"><span>Instansiering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/calculation/"><span>Kalkuleringer</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/validation/"><span>Validering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/"><span>Konfigurasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/"><span>Meldingsboks</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/presentationfields/"><span>Presentasjonsfelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/hide_instances/"><span>Skjule instanser</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/"><span>Autorisasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/rules/"><span>Regelbibliotek</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/partytype/"><span>Aktørtyper</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/datafields/"><span>Datafelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/"><span>Prosess</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/auto-delete/"><span>Automatisk sletting</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/message/"><span>Melding</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/customize/"><span>Tilpasse visninger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/queryparameters/"><span>Query parametere</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/secrets/"><span>Secrets</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/eformidling/"><span>eFormidling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/events/"><span>Events</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/settings/"><span>Settings</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/startup/"><span>Startup</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/stateless/"><span>Stateless</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/deployment/"><span>Deployment</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authentication/"><span>Autentisering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/"><span>API</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/api/expose/"><span>Eksponere</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/instance/"><span>Instans</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/consume/"><span>Konsumere</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/"><span>Testing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/"><span>Lokalt</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/"><span>API tests</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/org/"><span>Org</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/user/"><span>Sluttbruker</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/debug/"><span>Debugging</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/testusers/"><span>Testbrukere</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/deploy/"><span>I testmiljø</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/deployment/"><span>Produksjonssetting</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/"><span>Kjøremiljø</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/resource-allocation/"><span>Ressurserfordeling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/resource-allocation-tips/"><span>Tips til ressurserfordeling</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/maintainance/"><span>Vedlikehold</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/maintainance/dependencies/"><span>Avhengigheter</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/"><span>Lanserte tjenester</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/"><span>Digdir</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/bli-tjenesteeier/"><span>Bli tjenesteeier</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/godkjenn-bruksvilkaar/"><span>Godkjenn bruksvilkår</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/oed/"><span>Oppgjør etter dødsfall</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/be-om-api-nokkel/"><span>Tilgang til REST API</span></a></li></ul></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/"><span>API</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/"><span>App</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/metadata/"><span>Metadata</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/instances/"><span>Instanser</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/data-elements/"><span>Data-elementer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/data-elements/tags/"><span>Tags</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/apps/stateless-data-elements/"><span>Tilstandsløse data</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/process/"><span>Prosess</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/validation/"><span>Validering</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/"><span>Authentication</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/authentication/maskinporten/"><span>Maskinporten</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/enterpriseuser/"><span>Virksomhetsbruker</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/id-porten/"><span>ID-porten</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/delegate-scopes/"><span>Delegere API-tilganger</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/events/"><span>Events</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/events/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/models/"><span>Modeller</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/models/app-metadata/"><span>App metadata</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/models/instance/"><span>Instance</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/models/data-element/"><span>DataElement</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/scenarios/"><span>Scenarier</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/scenarios/authentication/"><span>Autentisering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/storage/"><span>Storage</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/storage/instances/"><span>Instanser</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/storage/instance-events/"><span>Instance events</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/storage/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/studio/"><span>Studio</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/"><span>Community</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/about/"><span>Om</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/about/open-source/"><span>Åpen kildekode</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/about/goals/"><span>Mål</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/"><span>Bidra til utvikling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/contributing/propose-component/"><span>Foreslå en ny komponent</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/develop-component/"><span>Utvikle en komponent</span></a></li><li class="dd-item">
          <a href="/nb/community/contributing/intro/">
            <span>Intro for utviklere</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/handbook/"><span>Håndbok</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/"><span>Endringslogg</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/"><span>App frontend</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/whats-new/"><span>Hva er nytt?</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/"><span>App nuget</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/"><span>v6</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/"><span>v5</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/"><span>v4</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/whats-new/"><span>Hva er nytt?</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/"><span>Deployment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/migration/"><span>Migrering</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/"><span>v1</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/whats-new/"><span>Hva er nytt</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/"><span>v2</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/whats-new/"><span>Hva er nytt</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/"><span>Storage Interface</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/v3/"><span>v3</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/v2/"><span>v2</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/roadmap/"><span>Roadmap</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/roadmap/studio/"><span>Studio</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/roadmap/studio/appowner/"><span>App-eier</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/roadmap/studio/enduser/"><span>Sluttbruker</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/devops/"><span>DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/devops/definition-of-ready/"><span>Definition of Ready</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/roadmapprocess/"><span>Roadmap prosess</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/"><span>Teams</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/platform/"><span>Platform</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/studio/"><span>Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/presentations/"><span>Presentasjoner</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/technology/"><span>Teknologi</span></a></li></ul>
  </div>
</nav>

<script>
          $("li.dd-item a[href='/nb/app/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/app/launched-apps/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/app/launched-apps/digdir/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/app/launched-apps/digdir/oed/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">
            <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links"><a href='/nb/app/'>Lage apper</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/app/launched-apps/'>Lanserte tjenester</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/app/launched-apps/digdir/'>Digdir</a> <span class='adocs-breadcrumb-divider'> / </span> Oppgjør etter dødsfall</span>
            </div>
          </div><div id="tags"><a class="label label-default" href="https://docs.altinn.studio/tags/app">app</a></div><div id="body-inner"><h1 class="a-fontBold">Oppgjør etter dødsfall</h1>
              <p class="a-leadText" id="leadText">Dokumentasjon av arkitektur, design, funksjonalitet og apper relatert til oppgjør etter dødsfall.</p><h2>På denne siden:</h2><nav id="TableOfContents">
  <ul>
    <li><a href="#innledning">Innledning</a></li>
    <li><a href="#oppdeling-i-tjenester-30-apper">Oppdeling i Tjenester 3.0 apper</a></li>
    <li><a href="#grensesnitt-mot-domstolene">Grensesnitt mot Domstolene</a></li>
    <li><a href="#grensesnitt-data-fra-eksterne-aktører">Grensesnitt data fra eksterne aktører</a></li>
    <li><a href="#grensesnitt-for-å-hente-ut-data">Grensesnitt for å hente ut data</a></li>
    <li><a href="#custom-gui-for-hoved-app">Custom GUI for hoved app</a></li>
    <li><a href="#drift-og-overvåkning">Drift og overvåkning</a></li>
  </ul>
</nav><h2 id="innledning">Innledning</h2>
<p>Figuren under viser de viktigste komponentene i løsningen. OED er
realisert som en serie Tjenester 3.0 app&rsquo;er med en overordnet app med
skreddersydd GUI og øvrige Tjenester 3.0 apper for spesifikke formål.</p>
<figure><a href="applikasjonsarkitektur-overordnet.svg"><img src="applikasjonsarkitektur-overordnet.svg" alt="Overordnet applikasjonsarkitektur" title="Overordnet applikasjonsarkitektur" /></a><figcaption><h4>Overordnet applikasjonsarkitektur</h4></figcaption></figure>
<p>App&rsquo;ene kan ikke instansieres fra tjenestekatalogen. Hovedapp&rsquo;en
instansieres utelukkende fra Domstol grensesnittet, og «Altinn avgiver»
(process instance owner) er avdøde. Arvinger og evt andre som skal
benytte løsningen får tilgang til instansen via tildelte roller i Altinn
autorisasjon. Brukeren (arvingen) finner app&rsquo;en fra en melding «Altinn
correspondence» i meldingsboksen i Altinn. Meldingen inneholder en
direktelenke til riktig instans i Tjenester 3.0. Se for øvrig 3
Grensesnitt mot Domstolene.</p>
<p>Løsningens hovedapp har følgende adresse i Altinn Studio:
<a href="https://altinn.studio/designer/digdir/oed">designer</a> og
<a href="https://altinn.studio/repos/digdir/oed">kode</a>.</p>
<h2 id="oppdeling-i-tjenester-30-apper">Oppdeling i Tjenester 3.0 apper</h2>
<figure><a href="applikasjonsarkitektur-subapps.svg"><img src="applikasjonsarkitektur-subapps.svg" alt="Subapper applikasjonsarkitektur" title="Subapper applikasjonsarkitektur" /></a><figcaption><h4>Subapper applikasjonsarkitektur</h4></figcaption></figure>
<p>Hovedapp&rsquo;en har et skreddersydd brukergrensesnitt fordi Tjenester 3.0
p.t. ikke støtter å lage vilkårlige applikasjoner. Løsningen er derfor
splittet opp i flere app&rsquo;er slik at mest mulig realiseres som standard
tjeneste 3.0 apper. I første omgang gjelder dette skjemautfylling. På
sikt kan det også være aktuelt å flytte «innsynsfunksjonalitet» ut i
Tjenester 3.0 app&rsquo;er, men p.t. er støtten for GUI design i Tjenester 3.0
såvidt begrenset at det er vanskelig å implementere ønsket
brukeropplevelse.</p>
<p>Skjema app&rsquo;ene blir instansiert og preutfylt fra hovedapp&rsquo;en når
brukeren tar initiativ til å starte skjemautfylling. Skjemaet blir
instansiert med avdøde som «Altinn avgiver» (process instance owner), og
fødselsnummer til den arvingen som startet skjemautfylling blir lagt som
en nøkkel på instansdataene med Tjenester 3.0 mekanismen «data value»
med nøkkel «ssn».</p>
<p>Det er lagt opp til at alle arvingene aksesserer de samme
skjemainstansene bortsett fra skjemaet «oed-signature». I sistnevnte
skjema blir det en unik instans per arving.</p>
<p>All innsending av data fra arvingene gjøres via skjema app&rsquo;er. Signering
ved innsending benytter derfor standard Tjenester 3.0 funksjonalitet.
Hvis gjeldene funksjonalitet for signering ikke tilfredsstiller formelle
krav til løsningen (f.eks. om man ønsker nivå 4 signering), må dette
være utvidelser/forbedringer i Tjenester 3.0 plattformen &ndash; ikke
spesifikt i OED løsningen.</p>
<p>Følgende app&rsquo;er finnes p.t.:</p>
<ul>
<li>oed (hoved app)</li>
<li>oed-register-agri-property</li>
<li>oed-register-heirs</li>
<li>oed-register-marriage-pact</li>
<li>oed-register-testament</li>
<li>oed-signature</li>
</ul>
<p>Mer dokumentasjon knyttet mot applikasjoner vedrørende Tjenester 3.0
finnes her:</p>
<p>OED: <a href="https://github.com/Altinn/oed/issues/442">https://github.com/Altinn/oed/issues/442</a><br>
T3.0: <a href="https://github.com/Altinn/altinn-studio/issues/6880">https://github.com/Altinn/altinn-studio/issues/6880</a></p>
<h2 id="grensesnitt-mot-domstolene">Grensesnitt mot Domstolene</h2>
<p>Grensesnittet for å motta data fra Domstolene er definert av Domstolene
og ligger på <a href="https://github.com/Altinn/oed-da">GitHub - Altinn/oed-da</a>.
Dette er et hendelsesbasert grensesnitt med samme oppbygning som
eksiterende Altinn grensesnitt mot Folkeregisteret. P.t. er det bare
spesifisert overføringer av nye avdøde og arvinger, men det er forventet
at grensesnittet kan utvides til endringer på avdøde og arvinger samt
testamentinformasjon.</p>
<p>Prosjektet har besluttet å implementere grensesnittet som en Altinn II
batch. Bakgrunnen for at grensesnittet ikke ble implementert i Tjenester
3.0 er:</p>
<ul>
<li>Tjenester 3.0 støttet ikke batch jobber da beslutningen ble tat</li>
<li>Tjenester 3.0 har ikke et regime for driftsoppfølging av batcher</li>
<li>Tjenester 3.0 tilbyr ikke databaser for app&rsquo;er utover lagring av
skjemadata og instansdata. Domstol grensesnittet krever at man
lagrer en tilstand mellom hver kjøring.</li>
<li>Altinn II har ikke eksponert eksterne tjenester for å laste inn
roller/rettigheter. Altinn II batch jobber kan benytte interne
tjenester.</li>
</ul>
<p>Batchen kjøres automatisk ved regelmessige intervaller og gjør følgende:</p>
<ul>
<li>Henter nye arvinger fra Domstolene</li>
<li>Tildeler roller mellom arving og avdøde i Altinn Autorisasjon</li>
<li>Gjør oppslag mot KRR (Altinn kopi) angående reservasjon mot
elektronisk behandling. Det er p.t. ikke avgjort om Altinn skal ha
ansvar for dette og hva som eventuelt skal være konsekvensen hvis
det foreligger en reservasjon.</li>
<li>Hente utfyllende informasjon om arving og avdøde fra Folkeregisteret
(Altinn kopi).</li>
<li>Sjekke om det finnes en instans av boet. Opprette instans hvis den
ikke finnes</li>
<li>Legge arving inn blant instansdata</li>
<li>Sende melding til arving (Altinn II Correspondence). Meldingen blir
liggende i Altinn meldingsboks dyplenke inn til avdødes instans</li>
<li>Sende varsling til arving på epost/SMS basert på informasjon fra
KRR. (Gjøres som en integrert del av forrige punkt.)</li>
</ul>
<p>Batchen ligger i Altinn II repo for batcher og heter
Altinn.SBL.Batch.DA.</p>
<h2 id="grensesnitt-data-fra-eksterne-aktører">Grensesnitt data fra eksterne aktører</h2>
<h3 id="autorisasjon">Autorisasjon</h3>
<p>Nedenfor beskrives hva som ligger til grunn for autorisasjonen.</p>
<figure><a href="applikasjonsarkitektur-autorisasjon.svg"><img src="applikasjonsarkitektur-autorisasjon.svg" alt="Autorisasjon applikasjonsarkitektur" title="Autorisasjon applikasjonsarkitektur" /></a><figcaption><h4>Autorisasjon applikasjonsarkitektur</h4></figcaption></figure>
<p><strong>Implisitt fullmakt fra DA (1-2)</strong></p>
<p>Altinn mottar en implisitt fullmakt fra DA (dvs at en person er en
arving) ved hjelp av DA grensesnittet (1). Fullmakten lagres i Altinn
(2). Fullmakten lagres logisk to steder:</p>
<ul>
<li>
<p>I boets instans i OED appen<br>
Det lagres hvem som er avdød og hvilke arvinger som har fullmakt. Se
for øvrig åpne punkter nederst i dokumentet.</p>
</li>
<li>
<p>Som autorisasjonsregler i Altinn sin standard autorisasjonsløsning<br>
Det lages en eller flere autorisasjonsregler per arving.</p>
</li>
</ul>
<p><strong>Aksess til eksterne ressurser fra OED basert på fullmakt (3-7)</strong></p>
<p>Basert på fullmakt fra DA kan OED hente data fra eksterne kilder på
vegne av arvinger med fullmakt. OED gjør system-til-system oppslag mot
eksterne kilder. Oppslagene autoriseres ved hjelp av egnet
autorisasjonsinfrastruktur &ndash; primært Maskinporten (3-4). Maskinporten
returnerer et token (4) som sendes med til eksternt system (5). Tokenet
er bevis overfor eksterne parter at forespørselen kommer fra OED.
Oppslagene har nesten alltid avdødes fødselsnummer som
forespørselsnøkkel (5). Eksterne systemer må stole på at OED kun gjøre
forespørsel når det foreligger en fullmakt samt at OED ikke viser
dataene til arvinger uten fullmakt. Avdødes fødselsnummer er nøkkel til
fullmakten i OED (2).</p>
<p>Beskrivelsen i dette dokumentet gjelder uavhengig av om man teknisk gjør
oppslag mot eksterne kilder basert på en arvings aktivitet i portalen
eller om det gjøres asynkront &ndash; uavhengig av brukerinteraksjon. I
figuren over er det antydet at dataene lagres i OED (7), men hvis man
velger å ikke lagre dataene, påvirker ikke dette den øvrige
beskrivelsen.</p>
<p><strong>Vise data fra eksterne aktører til arvinger (8-12)</strong><br>
Det defineres i OED hvilket krav man har til autentisering (8) av
arvingene. Det er naturlig at man definerer et nivå som ID-Porten eller
høyere. Alle innlogginger logges i Altinn (samt i ID-Porten eller annen
ekstern infrastruktur for autentisering) (8-10). OED vet derfor alltid
hvem brukeren er. OED definerer også autorisasjonsregler som gjør at det
ikke er mulig for noen andre enn de som har fått autorisasjonsregler fra
fullmakten å aksessere et gitt dødsbo (11). Når brukeren får tilgang til
eksterne data, er disse hentet ut basert på fullmakten som foreligger
fra DA, og de vises til brukeren (12) basert på autorisasjonsreglene fra
fullmakten.</p>
<p><strong>Revisjonsspor</strong></p>
<p>At de ikke blir utlevert opplysninger fra ekstern kilde uten fullmakt
kan dokumenteres ved følgende revisjonsspor:</p>
<ul>
<li>
<p>Fullmakten ligger lagret i Altinn (2). Fullmakten inkluderes saks-id
fra DA. Fullmakten peker tilbake til kilden hos DA (1).</p>
</li>
<li>
<p>Altinn gjør oppslag mot eksterne kilder ved hjelp av
autorisasjonsinfrastruktur (primært Maskinporten) som beviser at
oppslaget ble gjort fra OED (3-4). Oppslaget blir gjort med avdødes
fødselsnummer som nøkkel (5-6), og samme fødselsnummer er nøkkel til
fullmakten (2).</p>
</li>
<li>
<p>Arvingene må autentisere seg før aksess til OED (8). Alle
autentiseringsforsøk blir logget i Altinn sin TTP (trusted third
party) database (9-10).</p>
</li>
<li>
<p>All aksess til OED autoriseres. Alle autorisasjoner logges i altinn
sin TTP (trusted third party) database (11). Autorisasjonsloggen
inkluderer aktuell bruker, tidspunkt, hvilken ressurs som ble
forsøkt aksessert (i dette tilfellet referanse til avdødes instans
med tilhørende fullmakt i OED) og utfall av autorisasjonen.</p>
</li>
</ul>
<p><strong>Åpne punkter</strong></p>
<p>Skal alle arvinger med tilgang til OED ha fullmakt? I motsatt fall må
det gjøres intern autorisasjon i OED som differensierer hva slags
informasjon som skal vises avhengig av hvilken arving som har logget
inn.</p>
<p>Er fullmakt implisitt dekket av eksisterende DA grensesnitt (ny arving
foreligger i boet) eller trenger man en ny hendelse &ndash; fullmakt &ndash; i DA
grensesnittet? Er for øvrig relatert til forrige punkt. Hvorvidt
fullmakt blir en ny hendelse eller ikke påvirker ikke beskrivelsen over
annet enn at DA grensesnittet eventuelt må oppdateres.</p>
<h3 id="lagring-av-innhentede-data">Lagring av innhentede data</h3>
<p>Det er gjort konfigurerbart (via felles kode &ndash; se 4.3 Intern
implementasjon) hvorvidt man skal lagre data fra aktørene blant
instansdataene etter at de er framvist for arvingen. P.t. prøver man
først å hente friske data når arvingen åpner app&rsquo;en. Dataene lagres
samtidig. Hvis man ikke får tak i data og det ligger data på instansen
fra før, vises disse.</p>
<h3 id="intern-implementasjon">Intern implementasjon</h3>
<p>De fleste grensesnittene har Swagger spesifikasjoner. Der dette ikke
finnes lager vi Swagger manuelt. Det benyttes standard mekanismer i
Visual Studio for å importere Swagger definisjonene og generere
klientkode &ndash; «Connected Services».</p>
<p>Motparten til den genererte koden ligger i klasser i katalogen
ExternalApi. I disse klassene kalles Api, og og det blir gjort en
mapping til intern domenemodell.</p>
<p>Hver grensesnitt er tilgjengelig fra GUI via ExternalAPIController.
Kontrolleren har felles kode for alle grensesnittene for å:</p>
<ul>
<li>Kalle grensesnitt</li>
<li>Hente instans</li>
<li>Lagre respons i instans</li>
<li>Benytte lagret respons hvis gjeldende oppslag ikke returnerer data</li>
<li>Gjøre evt mapping av fødselsnummer &ndash; se 4.3 Testdata</li>
<li>Returnere data til GUI</li>
</ul>
<p>De genererte klientene konfigureres i startup.cs. Her hentes vertsnavn
fra miljøspesifikke konfigurasjonsfiler.</p>
<h3 id="liste-over-grensesnitt">Liste over grensesnitt</h3>
<p>P.t. benyttes følgende grensesnitt</p>
<table>
<thead>
<tr>
<th>Aktør</th>
<th>Eks*)</th>
<th>Swagger</th>
</tr>
</thead>
<tbody>
<tr>
<td>Skatt</td>
<td></td>
<td><a href="https://altinn.studio/repos/digdir/oed/src/branch/master/App/OpenAPIs/SkattAvregning.json">Skatt avregning</a></td>
</tr>
<tr>
<td>Skatt</td>
<td></td>
<td><a href="https://altinn.studio/repos/digdir/oed/src/branch/master/App/OpenAPIs/Skatt2020.json">Skatt 2020</a></td>
</tr>
<tr>
<td>Skatt</td>
<td></td>
<td><a href="https://altinn.studio/repos/digdir/oed/src/branch/master/App/OpenAPIs/SkattAvailableData.json">Skatt tilgjengelige data</a></td>
</tr>
<tr>
<td>Kartverket</td>
<td>x</td>
<td><a href="https://syntest.grunnbok.no/oed/v2/api-docs">API docs</a></td>
</tr>
<tr>
<td>SVV</td>
<td>x</td>
<td><a href="https://vegvesen.github.io/ak-api/filer/api/api_kjoretoysok_46.json">Kjøretøy søk</a></td>
</tr>
<tr>
<td>Norsk Pensjon</td>
<td>x</td>
<td><a href="https://webservice.preprod.norskpensjon.no/oed/v3/api-docs">API docs</a></td>
</tr>
<tr>
<td>Bank KAR</td>
<td>x</td>
<td><a href="https://bitsnorge.github.io/dsop-kfr-api/dsop-kfr-api.yaml">DSOP KFR API</a></td>
</tr>
<tr>
<td>Bank konto</td>
<td>x</td>
<td><a href="https://bitsnorge.github.io/dsop-accounts-api-v1p1/dsop-accounts-api-v1p1.yaml">DSOP Konto API</a></td>
</tr>
<tr>
<td>Geo Norge</td>
<td>x</td>
<td><a href="https://ws.geonorge.no/kommuneinfo/v1/openapi.json">Kommune API</a></td>
</tr>
<tr>
<td>Geo Norge</td>
<td>x</td>
<td><a href="https://ws.geonorge.no/adresser/v1/openapi.json">Adresse API</a></td>
</tr>
<tr>
<td>Landbruk</td>
<td></td>
<td><a href="https://altinn.studio/repos/digdir/oed/src/branch/master/App/OpenAPIs/Landbruk.json">API docs</a></td>
</tr>
<tr>
<td>Ektepakt</td>
<td>x</td>
<td><a href="https://ws-test.brreg.no/losore/heftelser/LosoreOnlineService?wsdl">n/a SOAP grensesnitt</a></td>
</tr>
</tbody>
</table>
<p>*) Betyr at swagger kommer fra aktør og ikke er konstruert av OED</p>
<h3 id="testdata">Testdata</h3>
<p>Det mest optimale hadde vært om man kunne definere felles testdata på
tvers av alle aktører i OED. Dette er imidlertid ikke realistisk på kort
sikt. Det er definert en modul for mappe avdødes fødselsnummer, som
benyttes som nøkkel i nesten alle eksterne grensesnitt, til et passende
fødselsnummer hos aktuell aktør.</p>
<p>Mappingen utføres bare når man kjører løsningen i et testmiljø.
Mappingen ligger som kode i metoden MapSsn i ExternalAPIController.</p>
<p>Kode for å autorisere mot Maskinporten og eventuell utveksling av token
fra Maskinporten til Altinn JWT ligger i Util/MaskinportenUtil.</p>
<h2 id="grensesnitt-for-å-hente-ut-data">Grensesnitt for å hente ut data</h2>
<p>Eksterne aktører &ndash; i første omgang primært Domstolene &ndash; kan hente ut
data via standardiserte Api fra Tjenester 3.0. Dette er beskrevet i
<a href="/api/storage/">Storage API &ndash; Altinn</a>.</p>
<p>Det anbefales å benytte en hendelsesbasert innfallsvinkel til å hente ut
data. Dette er beskrevet i <a href="/technology/architecture/capabilities/runtime/integration/">Integration &amp; Data Transport Capabilties &ndash;Altinn</a>.</p>
<p>Det finnes tilgjengelige data fra hver app. Det antas at Domstolene i
første omgang vil hente data fra skjema app&rsquo;ene. Avdøde vil være
«instance owner». Fødselsnummeret til den arvingen som fylte ut
skjemaet, vil ligge som «data value» med nøkkel «ssn».</p>
<h2 id="custom-gui-for-hoved-app">Custom GUI for hoved app</h2>
<p>Tjenester 3.0 tilbyr p.t. ingen støtte for skreddersydde
brukergrensesnitt, som man trenger i hovedapp. Det er derfor tatt
utgangspunkt i en kopi av Tjenester 3.0 sin fulle klient for
skjemautfylling. I denne klienten er det i noen grad fjernet komponenter
som ikke er relevante for en skreddersydd klient, men det gjenstående er
likevel stort og komplekst.</p>
<p>Klienten - altinn-app-frontend.js - lenkes inn i fila
App\views\Home\Index.cshtml. I utviklingsmiljøet benyttes lokal node
modul mens i prod- og testmiljøer refereres den ferdig kompilerte
.js-fila fra bygg prosessen.</p>
<p>OED spesifikk kode for klienten ligger hovedsakelig under mappen
features/custom, der mapper og filer oppdeles logisk basert på
visningstype og fagområde. Det har blitt tatt i bruk eksisterende
biblioteker, basert på kopien av Tjenester 3.0 sin fulle klient og ikke
lagt til nye utenom React testing library og Cypress. Disse bibliotekene
blir brukt for enhetstesting, ende-til-ende testing og universell
utforming tester.</p>
<p>Det har blitt utviklet en del komponenter, både spesifikt tilknyttet OED
design men også tilknyttet Altinn 3 Figma Designsystem ettersom
Tjenester 3.0 per nå har ingen felles bibliotek som brukes av andre
klienter. Det har vært mye samarbeid mellom OED og Tjenester 3.0 for å
løse slik problematikk og OED har utviklet, tildelsvis med Tjenester 3.0
en rekke enkle komponenter med tilhørende design basert på Altinn 3
Designsystem. Disse ligger innunder mappen
features/custom/common/inputs. Tanken har vært at disse enkle
komponentene kan tas rett ut fra prosjektet og legges ut på npm for
felles bruk av alle klienter. Dette har stoppet opp da det ikke har vært
relevant for OED lenger å utvikle egne skjema komponenter, som nevnt
innunder kapittel 2.</p>
<p>Redux og React Context brukes av OED for intern state håndtering da
Redux var allerede vesentlig brukt av Tjenester 3.0. I Redux ligger det
mye data som kommer fra kopien av Tjenester 3.0 sin klient og Redux
Store har blitt utvidet til å inneha data fra eksterne aktører,
eksempelvis data fra banker, Statens Vegvesen, Norsk Pensjon og andre.</p>
<h2 id="drift-og-overvåkning">Drift og overvåkning</h2>
<p>Før man kan gå i produksjon må det avklares hvordan løsningen kan
driftes og overvåkes. Viktige momenter vil være:</p>
<ul>
<li>Monitorere at Tjenester 3.0 app&rsquo;ene er oppe og fungerer</li>
<li>Monitorere at batch for DA grensesnitt kjører og fungerer. Det må
avklares om Altinn Forvaltning skal benyttes i denne sammenheng.</li>
<li>Analyse av feillogger</li>
<li>Sanering av data</li>
</ul>


<footer class=" footline" ></footer>
                </div>
              </div>
              

            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/app/launched-apps/digdir/oed/_index.nb.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Endre denne siden i GitHub
                  </a>
                </div></section>
        </div> 
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">Om Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://altinn.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <script>
      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
<script src="/js/custom.js"></script></body>
</html>

