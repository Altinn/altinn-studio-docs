---
title: PersonLookup
linktitle: PersonLookup
description: Search the National Population Register
schemaname: PersonLookup # Component schema name used to autogenerate list of properties from json schema (replace with appropriate component name)
weight: 10 # Do not change, the components will be sorted alphabetically
toc: true
---

## Usage

<!-- Brief description of the component and how it is used. -->

The PersonLookup component searches the National Population Register based on user provided input for NIN (National identity number) and surname, and stores the result using a data model binding.

## Anatomy

The component consists of a main title, help text, description, NIN-input title, NIN-input, surname-input title, surname-input name and a fetch button.

<iframe style="border: 0px solid rgba(0, 0, 0, 0);" width="100%" height="300" src="https://embed.figma.com/proto/ycDW0BPrMDW3SKZ56de4hY/https%3A%2F%2Fdocs.altinn.studio?page-id=0%3A1&node-id=1-43040&viewport=429%2C-4932%2C0.72&scaling=contain&content-scaling=responsive&starting-point-node-id=1%3A43040&show-proto-sidebar=0&embed-host=share" allowfullscreen></iframe>

{{% anatomy-list %}}

1. **Heading** - Main title.
2. **Help text** - Click for help pop-up.
3. **Show description** - You can describe it.
4. **Personnumber input** - Input field for NIN.
5. **Surname** - Input field for surname.
6. **Fetch** - Button which fetches data based on the inputs.

{{% /anatomy-list %}}

## Behavior

Before a user interacts with the component, it simply displays the input fields.

![Two input fields and a fetch button](image-1.png)

On a successful fetch the component adds a description to the fields, indicating that the data displayed is fetched from the National Population Register. The button transforms from a fetch button to a remove button.

![Locked input fields, button changed from "fetch" to "remove"](image-2.png)

The component has built in validation for the input fields on blur and on fetch. The NIN-input field validates the format of the National identity number according to the official guidelines for NINs. The surname input field checks that a surname is provided.
The error messages for the input validations are displayed on the PersonLookup component.

![Validation of input fields](image-3.png)

Given valid input, but a mismatch between NIN and surname, the component displays an error message after attempting to fetch. There is a limit on the amount of unique failed lookups before the user is temporarily blocked.

![Error on unknown combination of ssn and surname](image-4.png)

When the number of allowed unique failed lookups is exceeded, the components reflects this.

![Error on too many failed searches](image-5.png)

## Properties

The following is an autogenerated list of the properties available for {{% title %}} based on the component's JSON schema file (linked below).

{{% notice warning %}}
We are currently updating how we implement components, and the list of properties may not be entirely accurate.
{{% /notice %}}

| **Property**                           | **Type** | **Description**                                                                                                    |
| -------------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------ |
| `id`                                   | string   | The component ID. Must be unique within all setups/pages in a configuration set. Cannot end with <hyphen><number>. |
| `type`                                 | string   | "PersonLookup"                                                                                                     |
| `dataModelBindings.person_lookup_ssn`  | string   | Where in the data model the result (SSN) should be stored.                                                         |
| `dataModelBindings.person_lookup_name` | string   | Where in the data model the result (name) should be stored.                                                        |
| `textResourceBindings.title`           | string   | Prompt text (optional)                                                                                             |
| `textResourceBindings.description`     | string   | Description (optional)                                                                                             |
| `textResourceBindings.help`            | string   | Help text (optional)                                                                                               |

## Configuration

{{% notice warning %}}
We are currently updating Altinn Studio Designer with more configuration options!
The documentation is continuously updated, and there may be more settings available than what is described here, and some settings may be in beta version.
{{% /notice %}}

## Example

In the following example, we configure the component to add a board chairman.
We indicate that providing an organization is mandatory, and we override the title.
We choose not to use the description or the help text.
The result will be in the data model at `Styre.Styreleder`.

<iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="100%" height="175" src="https://embed.figma.com/proto/ycDW0BPrMDW3SKZ56de4hY/https%3A%2F%2Fdocs.altinn.studio?page-id=0%3A1&node-id=1183-7931&viewport=634%2C2793%2C0.78&scaling=contain&content-scaling=responsive&starting-point-node-id=1183%3A7931&show-proto-sidebar=0&embed-host=share" allowfullscreen></iframe>

{{<content-version-selector classes="border-box">}}
{{<content-version-container version-label="Code">}}

Basic component:

{{< code-title >}}
App/ui/layouts/{page}.json
{{< /code-title >}}

```json{hl_lines="6-"}
{
  "$schema": "https://altinncdn.no/toolkits/altinn-app-frontend/4/schemas/json/layout/layout.schema.v1.json",
  {
    "data": {
      "layout": [
        {
          {
            "id": "Styreleder-lookup",
            "type": "PersonLookup",
            "dataModelBindings": {
              "person_lookup_ssn": "Styre.Styreleder.Foedselsnummer",
              "person_lookup_name": "Styre.Styreleder.Name"
            },
            "textResourceBindings": {
              "title": "styre-og-revisjon.Group-1.title"
            },
            "required": true
          },
        }
      ]
    }
  }
}
```

{{</content-version-container>}}
{{<content-version-container version-label="Altinn Studio Designer">}}

There is currently no support for the PersonLookup component in [Altinn Studio Designer](/altinn-studio/getting-started/).

{{</content-version-container>}}
{{</content-version-selector>}}
