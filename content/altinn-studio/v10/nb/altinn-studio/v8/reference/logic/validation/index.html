<!DOCTYPE html>
<html lang="nb" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Hvordan legge til logikk for å validere skjemadata?" />
<meta name="altinn_pagedir" class="elastic" content="altinn-studio/v8/reference/logic/validation/" />
<meta name="altinn_title" class="elastic" content="Validering" />
<meta name="product" data-pagefind-filter="Produkt[content]" content="Altinn Studio" />
<meta name="diataxis" data-pagefind-filter="Type[content]" content="Referanse" />

<title>Validering – Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">

    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script>

<script>
if (window.location.hostname != "localhost") {
    
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://siteimproveanalytics.com/js/siteanalyze_6255470.js';
    document.head.appendChild(script);
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/nb/altinn-studio/v8/reference/logic/validation/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Hopp til hovedinnholdet</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Hopp til hovedmeny</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/nb/" class="a-globalNav-logo">
            <img src="/images/altinn-new-logo-white.svg" alt="Altinn logo" class="adocs-logo">
            <span class="sr-only">Til forsiden</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Vis/skjul meny</span></button>

          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <span>Produkt</span>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle">
    <a aria-hidden="true" class="dropdown-item" href="/nb/altinn-studio/v8/">
      <p class="product-item">Altinn Studio</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/authorization/">
      <p class="product-item">Autorisasjon</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/dialogporten/">
      <p class="product-item">Dialogporten</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/broker/">
      <p class="product-item">Formidling</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/events/">
      <p class="product-item">Events</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/correspondence/">
      <p class="product-item">Melding</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/notifications/">
      <p class="product-item">Varsling</p>
    </a>
</div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/nb/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/nb/community/">community</a>
              </li>
            </ul>
          </div>
        </nav> 

        <ul class="nav nav-pills a-header-options" id="nav-list">
           <li class="nav-item d-md-block">
              <button id="search-button" class="nav-link adocs-toggle-search" type="button"
                  data-toggle="collapse" data-target="#collapseSearchContent" aria-expanded="false" aria-controls="collapseSearchContent"
                  onclick="setTimeout(function(){document.getElementsByClassName('pagefind-ui__search-input')[0].focus()},100); return true;">
                  <span>
                      <i class="ai ai-search">
                        <span class="sr-only">Søk</span></i>
                  </span>
              </button>
          </li>
          <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <img src="/images/nb.svg" class="" alt="Language" style="height: 1.2em; vertical-align: bottom;"/>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle" style="z-index:100000;"><a aria-hidden="true" class="dropdown-item" href="/nb/altinn-studio/v8/reference/logic/validation/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokmål ✓</span><br></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/en/altinn-studio/v8/reference/logic/validation/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English</span><br></p>
    </a></div>
</li>
        </ul>

      </div>
    </div> 
  </div> 
</header>

<div id="collapseSearchContent" class="a-collapseContent adocs-collapseSearch collapse">
  <div class="a-collapseContent-inside px-0">
    <div class="bg-white pt-3 pb-3"><div class="container">
    <div class="row">
         
        <div class="form-group a-form-group a-form-group-large col-sm-12">
            <label class="a-h2" for="search-by">Hva leter du etter?</label>
            <div id="search-by" style="margin: auto;" class=""></div>
        </div>
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
        <script src="/pagefind/pagefind-ui.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search-by",
                    pageSize: 10,
                    excerptLength: 25,
                    showSubResults: true,
                    resetStyles: true,
                    showImages: true,
                    processResult: function (result) {
                        if (result?.meta?.image) {
                            let resultBase = new URL(result.url, window.location);
                            let remappedImage = new URL(result.meta.image, resultBase);
                            if (remappedImage.hostname !== window.location.hostname) {
                                result.meta.image = remappedImage.toString();
                            } else {
                                result.meta.image = remappedImage.pathname;
                            }
                        }
                    }
                });
                
                var searchField = document.getElementsByClassName("pagefind-ui__search-input")[0];
                if (searchField) {
                    searchField.setAttribute('aria-label', 'Søk');
                }

                var sKey = "as";
                searchField.addEventListener("blur", () => {
                    sessionStorage.setItem(sKey, searchField.value);
                });

                var searchButton = document.getElementById("search-button");
                searchButton.addEventListener("click", () => {
                    var scrollContainer = document.getElementsByClassName('adocs-scrollcontainer')[0];
                    if (!searchField.checkVisibility()) {
                        scrollContainer.setAttribute('style', 'visibility: hidden !important');
                    } else {
                        scrollContainer.removeAttribute('style');
                    }
                }); 
                
                if (sessionStorage.getItem(sKey)) {
                    searchField.value = sessionStorage.getItem(sKey);
                    searchField.dispatchEvent(new Event("input"));
                }
            });
        </script>
        <style>
          :root {
            --pagefind-ui-scale: 0.9;
            --pagefind-ui-text: #000000;
            --pagefind-ui-border: #1EAEF7;
            --pagefind-ui-border-radius: 0;
          }
          .pagefind-ui__search-input::placeholder {
            color: #757575 !important;
            opacity: 1 !important;
            font-weight: normal !important;
          }
          .pagefind-ui__result-link:hover, .pagefind-ui__result-link:hover {
            text-decoration: none !important;
          }
          .pagefind-ui__form:before {
            opacity: 1 !important;
          }
        </style>
        
    </div>
</div></div>
  </div>
</div>
<div class="container pt-2 pt-md-3 pt-lg-5">      
      <div class="adocs-scrollcontainer">
        <div class="row">
          <div class="col-sm-12 col-md-10 last-modified">Sist endret: 29. sep. 2025</div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-10"><nav id="sidebar" class=""><div class="highlightable">
  <ul id="docsmenu" class="topics">
<div id="version-dropdown-top" class="product-version-dropdown">
    <div class="version-selector-wrapper">
        <label class="version-label" for="version-selector-button" id="version-selector-label">
        Versjon:
        </label>
        <div class="dropdown">
        <button
            type="button"
            id="version-selector-button"
            class="nav-link dropdown-toggle version-switcher"
            role="combobox"
            aria-controls="version-dropdown-menu"
            aria-expanded="false"
            aria-haspopup="listbox"
            aria-labelledby="version-selector-label"
            aria-describedby="version-selector-help"
            data-toggle="dropdown">
            <span id="current-version-top">Gjeldende (V8)</span>
        </button>
        <div
            class="dropdown-menu version-dropdown"
            role="listbox"
            aria-labelledby="version-selector-label"
            id="version-dropdown-menu"><a
                class="dropdown-item version-option"
                href="/nb/altinn-studio/v8/"
                data-version="v8"
                role="option"
                tabindex="-1"
                aria-selected="true">
                <span class="version-item">Gjeldende (V8)</span>
            </a></div>
        </div>
        <div id="version-selector-help" class="sr-only">
          Bruk piltastene for å navigere mellom versjoner og Enter for å velge        
        </div>
    </div>
</div>

<style>
   
  .product-version-dropdown {
    background: #f8f9fa;
    padding: 10px;
    border-bottom: 1px solid #ddd !important;
    margin-bottom: 0;
  }
  #sidebar .product-version-dropdown {
    border-bottom: 1px solid #ddd !important;
  }
  .version-selector-wrapper {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  .dropdown {
    position: relative;
  }
  .version-label {
    font-size: 12px;
    font-weight: 600;
    color: #555 !important;
    margin: 0 !important;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .version-switcher {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    color: #333 !important;
    text-decoration: none !important;
    border: 1px solid #ccc;
    border-radius: 4px;
    background: white;
    width: 100%;
    box-sizing: border-box;
    cursor: pointer;
    font-family: inherit;
    font-size: inherit;
    text-align: left;
  }
  .version-switcher::after {
    margin-left: auto;
  }
  #sidebar .version-switcher {
    border-bottom: 1px solid #ccc !important;
  }
  .version-switcher:hover,
  .version-switcher:focus {
    background: #e9ecef;
    outline: none;
    border-color: #007bff;
  }
  .version-switcher:focus {
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
  .version-option:focus,
  .version-option:hover {
    background: #007bff !important;
    color: white !important;
    outline: none;
  }
  .version-option[aria-selected="true"] {
    background: #28a745 !important;
    color: white !important;
  }
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
  .version-dropdown {
    min-width: 200px;
    max-height: none !important;
    overflow-y: visible !important;
    position: absolute;
    z-index: 1000;
  }
  .version-item {
    margin: 0;
    padding: 4px 0;
  }
  .version-section {
    padding-top: 10px;
  }

    
  .version-root-item {
    display: block !important;
  }

   
  .version-content .version-section > li {
    list-style: none;
  }
</style>

<script>
  (function() {
    
    setupVersionSelectorAccessibility();

    function setupVersionSelectorAccessibility() {
      var button = document.getElementById('version-selector-button');
      var dropdown = document.getElementById('version-dropdown-menu');

      if (!button || !dropdown) return;

      var options = dropdown.querySelectorAll('.version-option');
      var currentFocusIndex = -1;

      button.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ' || e.key === 'ArrowDown') {
          e.preventDefault();
          if (dropdown.style.display === 'none' || !dropdown.classList.contains('show')) {
            showDropdown();
            focusOption(0);
          }
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          showDropdown();
          focusOption(options.length - 1);
        }
      });

      dropdown.addEventListener('keydown', function(e) {
        if (e.key === 'ArrowDown') {
          e.preventDefault();
          focusOption(currentFocusIndex + 1);
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          focusOption(currentFocusIndex - 1);
        } else if (e.key === 'Enter') {
          e.preventDefault();
          if (currentFocusIndex >= 0 && options[currentFocusIndex]) {
            window.location.href = options[currentFocusIndex].href;
          }
        } else if (e.key === 'Escape') {
          e.preventDefault();
          hideDropdown();
          button.focus();
        }
      });

      button.addEventListener('click', function(e) {
        e.preventDefault();
        if (dropdown.style.display === 'none' || !dropdown.classList.contains('show')) {
          showDropdown();
        } else {
          hideDropdown();
        }
      });

      function showDropdown() {
        button.setAttribute('aria-expanded', 'true');
        dropdown.classList.add('show');
        dropdown.style.display = 'block';
      }

      function hideDropdown() {
        button.setAttribute('aria-expanded', 'false');
        dropdown.classList.remove('show');
        dropdown.style.display = 'none';
        currentFocusIndex = -1;
        updateAriaSelected();
      }

      function focusOption(index) {
        if (index < 0) index = options.length - 1;
        if (index >= options.length) index = 0;

        currentFocusIndex = index;
        options[currentFocusIndex].focus();
        updateAriaSelected();
      }

      function updateAriaSelected() {
        
        var currentVersion = button.querySelector('#current-version-top').textContent.trim();
        options.forEach(function(option) {
          var optionVersion = option.getAttribute('data-version');
          option.setAttribute(
            'aria-selected',
            optionVersion === currentVersion ? 'true' : 'false'
          );
        });
      }

      
      document.addEventListener('click', function(e) {
        if (!button.contains(e.target) && !dropdown.contains(e.target)) {
          hideDropdown();
        }
      });
    }
  })();
</script>
<li class="dd-item parent version-root-item">
              <a href="/nb/altinn-studio/v8/">
                <span>Altinn Studio</span>
                <i class="fa fa-sort-down fa-lg category-icon"></i></a>
              <ul class="version-content">
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/about/"><span>Om Altinn Studio</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/about/usecases/"><span>Bruksområder for Altinn Studio-apper</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/what-do-you-get/"><span>Hva får du?</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/"><span>Kom i gang</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/create-user/"><span>Opprette bruker</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/navigation/"><span>Navigere Altinn Studio</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/navigation/designer/"><span>Designer</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/navigation/dashboard/"><span>Dashboard</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/navigation/repos/"><span>Repos</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/"><span>Introkurs</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/case/"><span>Case</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/modul1/"><span>Modul 1: Opprette tjenesten</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/modul2/"><span>Modul 2: Tilpasse datamodellen</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/modul3/"><span>Modul 3: Utforme skjemaet</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/modul4/"><span>Modul 4: Lage infoside</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/modul5/"><span>Modul 5: Publisere tjenesten</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/modul6/"><span>Modul 6: Legge til kodelister</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/getting-started/app-dev-course/modul7/"><span>Modul 7: Legge til dynamikk</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/"><span>Guider</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/"><span>Design</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/insight/"><span>Innsiktsfase</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/prototype/"><span>Prototype</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/usertest/"><span>Brukertest</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/"><span>Retningslinjer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/design-principles/"><span>Designprinsipper</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/link-to-app/"><span>Inngang til skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/content/"><span>Innhold i skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/consistency/"><span>Konsistens</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/"><span>UI-komponenter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/title-and-paragraph/"><span>Typografi</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/button/"><span>Knapp og lenke</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/input/"><span>Input</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/date/"><span>Dato</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/checkbox/"><span>Avkrysningsboks</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/radiobutton/"><span>Radioknapp</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/dropdown/"><span>Nedtrekksliste</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/helptext/"><span>Hjelpetekst</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/error-message/"><span>Feilmeldinger</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/file-upload/"><span>Filopplasting</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/components/picture-component/"><span>Bilde</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/tone-of-voice/"><span>Språk</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/design/guidelines/wcag/"><span>Tilgjengelighet</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/"><span>Utvikling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/basic-form/"><span>Lage et enkelt skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/organisation-library/"><span>Organisasjonsbibliotek</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/eformidling/"><span>eFormidling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/eformidling/legacy/"><span>eFormidling legacy</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/eformidling/service-task/"><span>eFormidling service task</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/fiks-arkiv/"><span>Fiks Arkiv</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/pdf/"><span>PDF</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/subform-pdf/"><span>PDF underskjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/dynamics/"><span>Dynamikk</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/branching/"><span>Grener</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/prefill/"><span>Forhåndsutfylling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/prefill/config/"><span>Konfigurasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/prefill/custom/"><span>Egendefinert kode</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/prefill/instantiation/"><span>Http post</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/prefill/query-params/"><span>Spørringsparametere</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/"><span>Svaralternativer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/sources/"><span>Kilder</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/sources/static/"><span>Statisk</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/sources/dynamic/"><span>Dynamisk</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/sources/from-data-model/"><span>Fra datamodellen</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/sources/organisation-library/"><span>Organisasjonsbibliotek</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/sources/shared/"><span>Felles</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/sources/altinn2/"><span>Fra Altinn 2</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/functionality/"><span>Funksjonalitet</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/functionality/data-binding/"><span>Dataknytning</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/functionality/automatic-cleanup/"><span>Automatisk opprydding</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/functionality/texts/"><span>Tekster</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/functionality/filtering/"><span>Filtrering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/functionality/preselection/"><span>Forhåndsvalg</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/options/functionality/sorting/"><span>Sortering</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/restricted-data/"><span>Beskyttede data</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/payment/"><span>Betaling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/summary2/"><span>Oppsummering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/signing/"><span>Signering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/signing/runtime-delegated-signing/"><span>Brukerstyrt signering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/signing/role-based-signing/"><span>Rolle/tilgangspakke</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/signing/sign-and-submit/"><span>Signer og send inn</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/signing/api-signing/"><span>API-basert signering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/subform/"><span>Underskjema</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/subform/config-options/"><span>Konfigurasjon</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/undeploy/"><span>Avpublisering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/copy-app/"><span>Kopier app</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/multi-app-solution/"><span>Flerappsløsning</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/multi-app-solution/instructions/"><span>Instruksjoner</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/multi-app-solution/instructions/app-a/"><span>Applikasjon A</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/multi-app-solution/instructions/app-b/"><span>Applikasjon B</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/multi-app-solution/testing/"><span>Testing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/local-dev/"><span>Lokal utvikling</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/service-tasks/"><span>Systemoppgaver</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/development/service-tasks/custom/"><span>Egendefinert</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/administration/"><span>Forvaltning</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/administration/maintainance/"><span>Vedlikehold</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/administration/maintainance/dependencies/"><span>Avhengigheter</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/administration/access-management/"><span>Tilgangsstyring</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/administration/access-management/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/administration/access-management/studio/"><span>Studio</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/administration/monitor-and-instrument/"><span>Monitorer og instumenter</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/integration/"><span>Integrasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/integration/sbs/"><span>Sluttbrukersystemer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/integration/sbs/setup/"><span>Oppsett og konfigurasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/integration/sbs/apis/"><span>API integrasjon</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/integration/maskinporten/"><span>Maskinporten</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/integration/correspondence/"><span>Meldingstjenesten</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul><li class="dd-item">
          <a href="/nb/altinn-studio/v8/guides/integration/correspondence/maskinporten/">
            <span>Med Maskinporten</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/altinn-2/"><span>Altinn 2</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/altinn-2/altinn-2-datamodel/"><span>Altinn 2 Datamodell</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/altinn-2/seres-migration/"><span>Sereserstatning</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/altinn-2/migrate-services/"><span>Migrere tjenester</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/contributing/"><span>Bidra</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/contributing/create-new-component/"><span>Opprett en ny komponent</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/guides/contributing/add-new-component/"><span>Legg til en ny komponent i Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/"><span>Referanse</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/data/"><span>Data</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/data/data-modeling/"><span>Datamodellering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/data/prefill/"><span>Forhåndsutfylling</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/data/persistence/"><span>Lagring</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/data/attachments/"><span>Vedlegg</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/data/external-api/"><span>Eksternt API</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/"><span>Brukergrensesnitt</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/"><span>Komponenter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/commondefs/"><span>CommonProps</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/accordion/"><span>Accordion</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/accordiongroup/"><span>AccordionGroup</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/actionbutton/"><span>ActionButton</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/address/"><span>Address</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/alert/"><span>Alert</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/attachmentlist/"><span>AttachmentList</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/audio/"><span>Audio</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/checkboxes/"><span>Avkrysningsbokser</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/image/"><span>Bilde</span></a></li><li class="dd-item">
          <a href="/nb/altinn-studio/v8/reference/ux/components/imageupload/">
            <span>Bildeopplaster</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/button/"><span>Button</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/button-group/"><span>ButtonGroup</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/cards/"><span>Cards</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/custom/"><span>Custom</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/custombutton/"><span>CustomButton</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/date/"><span>Date</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/datepicker/"><span>Datepicker</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/fileupload/"><span>FileUpload</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/fileuploadwithtag/"><span>FileUploadWithTag</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/grid/"><span>Grid</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/group/"><span>Group</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/header/"><span>Header</span></a></li><li class="dd-item">
          <a href="/nb/altinn-studio/v8/reference/ux/components/iframe/">
            <span>IFrame</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/input/"><span>Input</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/instanceinformation/"><span>InstanceInformation</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/instantiationbutton/"><span>InstantiationButton</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/likert/"><span>Likert</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/link/"><span>Link</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/listcomponent/"><span>List</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/map/"><span>Map</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/multipleselect/"><span>MultipleSelect</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/navigationbar/"><span>NavigationBar</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/navigationbuttons/"><span>NavigationButtons</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/dropdown/"><span>Nedtrekksliste</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/number/"><span>Number</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/option/"><span>Option</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/organizationlookup/"><span>OrganisationLookup</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/panel/"><span>Panel</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/paragraph/"><span>Paragraph</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/personlookup/"><span>PersonLookup</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/printbutton/"><span>PrintButton</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/radiobuttons/"><span>RadioButtons</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/signeelist/"><span>SigneeList</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/signingactions/"><span>SigningActions</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/signingdocumentlist/"><span>SigningDocumentList</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/divider/"><span>Skillelinje</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/summary/"><span>Summary</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/summary2/"><span>Summary2</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/tabs/"><span>Tabs</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/text/"><span>Text</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/timepicker/"><span>TimePicker</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/components/video/"><span>Video</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/pages/"><span>Sider</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/pages/navigation/"><span>Navigasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/pages/tracks/"><span>Sporvalg</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/pages/summary/"><span>Oppsummering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/"><span>Felter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/"><span>Gruppering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/repeating/"><span>Repeterende</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/repeating/edit/"><span>Redigering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/repeating/table/"><span>Tabell</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/repeating/dynamics/"><span>Dynamikk</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/repeating/multipage/"><span>Flere sider</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/repeating/attachments/"><span>Vedlegg</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/non-repeating/"><span>Ikke-repeterende</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/grouping/panel/"><span>Panel</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/fields/settings/"><span>Innstillinger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/footer/"><span>Bunntekst</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/logo/"><span>Logo</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/styling/"><span>Styling</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/texts/"><span>Tekster</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/texts/translation/"><span>Oversettelse av tekster</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/ux/pdf/"><span>PDF</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/"><span>Logikk</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/events/"><span>App Events</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/events/subscribing/"><span>Abonnement</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/generic/"><span>Generelt</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/services/"><span>Tjenester</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/notifications/"><span>Varsler</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/notifications/email/"><span>E-post</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/notifications/sms/"><span>SMS</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/dataprocessing/"><span>Dataprosessering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/dynamic/"><span>Dynamikk</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/instantiation/"><span>Instansiering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/expressions/"><span>Uttrykk</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/validation/"><span>Validering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/validation/files/"><span>Utvidet filvalidering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/logic/validation/expression-validation/"><span>Validering med uttrykk</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/"><span>Konfigurasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/messagebox/"><span>Meldingsboks</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/messagebox/create_copy/"><span>Lag kopi</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/messagebox/presentationfields/"><span>Presentasjonsfelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/messagebox/hide_instances/"><span>Skjule instanser</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/messagebox/advanced-sync/"><span>Synk-innstillinger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/"><span>Autorisasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul><li class="dd-item">
          <a href="/nb/altinn-studio/v8/reference/configuration/authorization/api-scopes/">
            <span>API Scopes</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/rules/"><span>Regelbibliotek</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/"><span>Veiledning</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/"><span>Roller</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/"><span>Altinn-roller</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_administration/"><span>Administrator roller</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_persons/"><span>Personroller</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_enterprices/"><span>Virksomhetsroller</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_er/"><span>ER-roller</span></a></li><li class="dd-item">
          <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_ske/">
            <span>SKE-roller</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/test_authorization_application/"><span>Testing</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/partytype/"><span>Aktørtyper</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/datafields/"><span>Datafelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/shadowfields/"><span>Hjelpefelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/process/"><span>Prosess</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/process/auto-delete/"><span>Automatisk sletting</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/process/pre-post-hooks/"><span>Definer egendefinerte prosess hooks</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/process/exclusive-gateways/"><span>Exclusive Gateways</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/process/message/"><span>Melding</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/process/customize/"><span>Tilpasse visninger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/queryparameters/"><span>Query parametere</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/secrets/"><span>Secrets</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/eformidling/"><span>eFormidling</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/events/"><span>Events</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/filescan/"><span>Virus skanning</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/settings/"><span>Settings</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/startup/"><span>Startup</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/stateless/"><span>Stateless</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/deployment/"><span>Publisering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/authentication/"><span>Autentisering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/configuration/autosavebehavior/"><span>Automatisk lagring</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/analysis/"><span>Analyse</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/analysis/rules/altinnapp0500/"><span>ALTINNAPP0500: farlig bruk av IHttpContextAccessor</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/api/"><span>API</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/api/auth/"><span>Autentisering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/api/expose/"><span>Eksponere</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/api/instance/"><span>Instans</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/api/consume/"><span>Konsumere</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/testing/"><span>Testing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/testing/local/"><span>Lokalt</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/testing/local/apitests/"><span>API tests</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/testing/local/apitests/org/"><span>Org</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/testing/local/apitests/user/"><span>Sluttbruker</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/testing/local/debug/"><span>Debugging</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/testing/local/testusers/"><span>Testbrukere</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/testing/deploy/"><span>I testmiljø</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/cli/"><span>Altinn Studio CLI</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/cli/install/"><span>Installering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/deployment/"><span>Produksjonssetting</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/deployment/firewall/"><span>Brannmur og IP konfigurasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/deployment/runtime-environment/"><span>Kjøremiljø</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/deployment/runtime-environment/resource-allocation/"><span>Ressurserfordeling</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/deployment/runtime-environment/resource-allocation-tips/"><span>Tips til ressurserfordeling</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/process/"><span>Prosess handling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/process/tasks/"><span>Prosess oppgaver</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/process/tasks/signing/"><span>Signerings task</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/process/flowcontrol/"><span>Flytkontroll</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/process/actions/"><span>Handlinger</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/process/actions/serveraction/"><span>Server Action</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/process/actions/process-actions/"><span>Process actions</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/monitoring/"><span>Monitorering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/monitoring/configuration/"><span>Konfigurasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/monitoring/instrumentation/"><span>Instrumentering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/monitoring/registry/"><span>Telemetri-register</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/monitoring/registry/metrics/"><span>Metrikker</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/monitoring/visualisation/"><span>Visualisering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/monitoring/faq/"><span>FAQ</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/monitoring/references/"><span>Ressurser</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/access-management/"><span>Tilgangsstyring</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/access-management/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/reference/access-management/studio/"><span>Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/"><span>Konsepter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/payment/"><span>Betaling</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/data-model/"><span>Datamodell</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/data-model/restricted-data/"><span>Beskyttede data</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/prefill/"><span>Forhåndsutfylling</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/organisation-library/"><span>Organisasjonsbibliotek</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/organisation-library/code-lists/"><span>Publiserte bibliotekskodelister</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/signing/"><span>Signering</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/process/"><span>Prosess</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/concepts/undeploy/"><span>Avpublisering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/news/"><span>Nyheter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/news/launched-apps/"><span>Eksempler lanserte apper</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/news/launched-apps/external/"><span>Eksterne</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/news/launched-apps/digdir/"><span>Digdir</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/news/launched-apps/digdir/bli-tjenesteeier/"><span>Bli tjenesteeier</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/news/launched-apps/digdir/godkjenn-bruksvilkaar/"><span>Godkjenn bruksvilkår</span></a></li>
      <li class="dd-item">
        <a href="/nb/altinn-studio/v8/news/launched-apps/digdir/be-om-api-nokkel/"><span>Tilgang til REST API</span></a></li></ul></li></ul></li></ul></li></ul>
            </li></ul>
</div>
</nav>

<script>
          $("li.dd-item a[href='/nb/altinn-studio/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/altinn-studio/v8/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/altinn-studio/v8/reference/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/altinn-studio/v8/reference/logic/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/altinn-studio/v8/reference/logic/validation/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">            
            <div id="breadcrumbs">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links" data-pagefind-meta="🍞"><a href='/nb/altinn-studio/'>Altinn Studio</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/altinn-studio/v8/'>Gjeldende (V8)</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/altinn-studio/v8/reference/'>Referanse</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/altinn-studio/v8/reference/logic/'>Logikk</a> <span class='adocs-breadcrumb-divider'> / </span> Validering</span>
            </div>            
          </div><div id="body-inner" data-pagefind-body><h1 class="a-fontBold">Validering</h1>
              <p class="a-leadText" id="leadText">Hvordan legge til logikk for å validere skjemadata?</p>

<h2 id="introduksjon">Introduksjon</h2>
<p>Valideringer sørger for at brukerens input er gyldig med tanke på datamodellen,
i tillegg til alle egendefinerte regler som settes opp for applikasjonen.
Valideringer kan kjøres enten på klient (dvs. browseren) eller serversiden.</p>
<p>Man kan også sette opp validering til å <a href="/nb/altinn-studio/v8/reference/ux/pages/navigation/#angi-validering-ved-sidebytte">kjøre ved sidebytte</a>.</p>
<h2 id="klientside-validering">Klientside-validering</h2>
<p>Dette er validering som kjøres i browseren, FØR data er sendt til server for lagring. Dette gjør det mulig å gi raske tilbakemeldinger til
sluttbruker underveis i utfylling.</p>
<p>Klientside-validering baserer seg på datamodellen som hører til skjemaet, og bruker denne til å bestemme hva som er gyldig input i et felt.
Helt konkret brukes JSON Schema utgaven av datamodellen for valideringen. Denne genereres automatisk når man laster opp XSD.
Det går an å gjøre endringer i JSON schema direkte for å tilpasse valideringen ved behov.</p>
<p><strong>Merk at dersom man gjør tilpasninger i JSON schema manuelt, for å så oppdatere XSD og laste inn på nytt, vil nytt
JSON schema også genereres, og alle manuelle tilpasninger må gjøres på nytt. Derfor er det anbefalt å gjøre endringer i XSD og/eller datamodelleringsverktøyet
for at disse endringene skal reflekteres i JSON schema.</strong></p>
<p>Et eksempel på hvordan et felt kan defineres i JSON schema datamodellen er:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#f1fa8c">&#34;someField&#34;</span>: {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;string&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;maxLength&#34;</span>: <span style="color:#f1fa8c">&#34;4&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Input i dette feltet vil valideres mot begrensningene som er satt opp, og en feilmelding vil vises dersom disse ikke møtes - i dette tilfellet, dersom
input er en tekst med lengde mer enn 4 karakterer.</p>
<h3 id="standard-feilmeldinger">Standard feilmeldinger</h3>
<p>Det er satt opp standard feilmeldinger for alle valideringene som gjøres på klientsiden. Se oversikten under.</p>
<table>
  <thead>
      <tr>
          <th>Regel</th>
          <th>Feilmelding bokmål</th>
          <th>Feilmelding nynorsk</th>
          <th>Feilmelding engelsk</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>minimum</td>
          <td>&lsquo;Minste gyldig verdi er {0}&rsquo;</td>
          <td>&lsquo;Minste gyldig verdi er {0}&rsquo;</td>
          <td>&lsquo;Minimum valid value is {0}&rsquo;</td>
      </tr>
      <tr>
          <td>maximum</td>
          <td>&lsquo;Største gyldig verdi er {0}&rsquo;</td>
          <td>&lsquo;Største gyldig verdi er {0}&rsquo;</td>
          <td>&lsquo;Maximum valid value is {0}&rsquo;</td>
      </tr>
      <tr>
          <td>minLength</td>
          <td>&lsquo;Bruk {0} eller flere tegn&rsquo;</td>
          <td>&lsquo;Bruk {0} eller flere tegn&rsquo;</td>
          <td>&lsquo;Use {0} or more characters&rsquo;</td>
      </tr>
      <tr>
          <td>maxLength</td>
          <td>&lsquo;Bruk {0} eller færre tegn&rsquo;</td>
          <td>&lsquo;Bruk {0} eller færre tegn&rsquo;</td>
          <td>&lsquo;Use {0} or fewer characters&rsquo;</td>
      </tr>
      <tr>
          <td>length</td>
          <td>&lsquo;Antall tillatte tegn er {0}&rsquo;</td>
          <td>&lsquo;Antall tillatte tegn er {0}&rsquo;</td>
          <td>&lsquo;Number of characters allowed is {0}&rsquo;</td>
      </tr>
      <tr>
          <td>pattern</td>
          <td>&lsquo;Feil format eller verdi&rsquo;</td>
          <td>&lsquo;Feil format eller verdi&rsquo;</td>
          <td>&lsquo;Wrong format or value&rsquo;</td>
      </tr>
      <tr>
          <td>required</td>
          <td>&lsquo;Du må fylle ut {0}&rsquo;</td>
          <td>&lsquo;Du må fylle ut {0}&rsquo;</td>
          <td>&lsquo;You have to fill out {0}&rsquo;</td>
      </tr>
      <tr>
          <td>enum</td>
          <td>&lsquo;Kun verdiene {0} er tillatt&rsquo;</td>
          <td>&lsquo;Kun verdiene {0} er tillatt&rsquo;</td>
          <td>&lsquo;Only the values {0} are permitted&rsquo;</td>
      </tr>
  </tbody>
</table>
<h3 id="spesielt-om-standard-feilmelding-for-påkrevde-felter">Spesielt om standard feilmelding for påkrevde felter</h3>
<p>For en smidigere brukeropplevelse vises ikke feilmeldinger for manglende utfylling av påkrevde felter under
utfylling av et skjema, med mindre validering trigges <a href="#enkeltfeltvalidering">på et enkeltfelt</a>, ved lagring
av <a href="#gruppevalidering">en rad i en repeterende gruppe</a> eller
<a href="/nb/altinn-studio/v8/reference/ux/pages/navigation/#angi-validering-ved-sidebytte">ved navigering til en annen side</a>.</p>
<p>Feilmeldingen for påkrevde felter er <em>&ldquo;Du må fylle ut {0}&rdquo;</em>. Her blir <code>{0}</code> erstattet med det feltet som feilmeldingen gjelder for.
Dette gjøres på følgende måte:</p>
<ul>
<li>Bruker feltets <code>shortName</code> tekst. Dette er en ny tekst som kan settes opp pr. komponent på samme måte som ledetekst (<code>title</code>) settes i dag. <em>Denne teksten brukes pr nå KUN i forbindelse med feilmeldingen for påkrevde felter.</em></li>
<li>Om <code>shortName</code> ikke er definert brukes feltets <code>title</code> tekst (det som er definert som ledetekst for feltet), og teksten vil bli forsøkt gjort om til en tekst med liten forbokstav (med mindre teksten ser ut som en forkortelse).</li>
<li>I noen spesialtilfeller (Adresse-komponenten) der det er flere felter i ett brukes de standard-tekstene som er definert for feltene i komponenten.</li>
</ul>
<h4 id="eksempel-felt-med-kun-title">Eksempel: Felt med kun <code>title</code></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;fornavn&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Input&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;textResourceBindings&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;tekst-fornavn&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  ... <span style="color:#6272a4">//osv
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>}
</span></span></code></pre></div><p>Og tekster i ressurs-fil:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;tekst-fornavn&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;value&#34;</span>: <span style="color:#f1fa8c">&#34;Fornavn&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Da vil valideringmeldingen bli <code>&quot;Du må fylle ut Fornavn&quot;</code>.</p>
<h4 id="eksempel-felt-med-shortname">Eksempel: Felt med <code>shortName</code></h4>
<p>Dersom feltets ledetekst er lang eller ikke egner seg til bruk i valideringsmeldingen, kan man legge til en <code>shortName</code> tekst som brukes i stedet.
<em>Merk at dette kun gjelder for denne spesifikke valideringsmeldingen - <code>shortName</code> teksten er ikke i bruk ellers i løsningen pr nå.</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;fornavn&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Input&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;textResourceBindings&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;tekst-fornavn&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;shortName&#34;</span>: <span style="color:#f1fa8c">&#34;fornavn-kort&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  ... <span style="color:#6272a4">//osv
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>}
</span></span></code></pre></div><p>Og tekster i ressurs-fil:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;tekst-fornavn&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;value&#34;</span>: <span style="color:#f1fa8c">&#34;Her kan du skrive ditt fornavn&#34;</span>,
</span></span><span style="display:flex;"><span>},
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;fornavn-kort&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;value&#34;</span>: <span style="color:#f1fa8c">&#34;fornavnet ditt&#34;</span>,
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Da vil valideringmeldingen bli <code>&quot;Du må fylle ut fornavnet ditt&quot;</code>.</p>
<h3 id="erstatte-feilmelding-for-påkrevde-felter-helt">Erstatte feilmelding for påkrevde felter helt</h3>
<p>Hvis du ønsker å erstatte standardfeilmeldingen for obligatoriske felt fullstendig, kan du gjøre dette ved å legge til
tekstnøkkelen <code>requiredValidation</code> i komponentens <code>textResourceBindings</code>-objekt. Dette vil erstatte standardfeilmeldingen
for obligatoriske felt. Teksten kan være en <a href="/nb/altinn-studio/v8/reference/ux/texts/">tekstnøkkel for en tekst som er definert i ressursfilene</a>
for flerspråklig støtte.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;firstName&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Input&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;textResourceBindings&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;text-firstName&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;requiredValidation&#34;</span>: <span style="color:#f1fa8c">&#34;myCustomRequiredValidation&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="egendefinerte-feilmeldinger">Egendefinerte feilmeldinger</h3>
<p>Det er mulig å definere egne feilmeldinger som skal vises når et felt får valideringsfeil. Dette gjøres ved å legge på en parameter <code>errorMessage</code> der
hvor feltet er definert i JSON schema. JSON schema filen ligger i mappen <code>App/models</code> og følger navnestandard <code>*.schema.json</code>.</p>
<p>F.eks., man kan utvide eksempelet over:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#f1fa8c">&#34;someField&#34;</span>: {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;string&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;maxLength&#34;</span>: <span style="color:#f1fa8c">&#34;4&#34;</span>,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;errorMessage&#34;</span>: <span style="color:#f1fa8c">&#34;myCustomError&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Man kan skrive ønsket tekst direkte inn her, eller bruke en tekstnøkkel for en <a href="/nb/altinn-studio/v8/reference/ux/texts/">tekst definert i ressursfilene</a> for språkstøtte.</p>
<p>Legg merke til at om man har en referanse til en definisjon så må feilmeldingen ligge på <code>property</code>-feltet, og ikke på referansen/definisjonen.
Eksempel:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;properties&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;person&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;$ref&#34;</span> : <span style="color:#f1fa8c">&#34;#/definitions/personDefinition&#34;</span>,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>        <span style="color:#ff79c6">&#34;errorMessage&#34;</span>: <span style="color:#f1fa8c">&#34;myCustomError&#34;</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;definitions&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;personDefinition&#34;</span> : {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&#34;age&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;number&#34;</span>
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="notices warning" >Merk at ved XSD-endringer, så vil ev. egendefinerte feilmeldinger forsvinne da JSON schema filen genereres på nytt fra XSD. På sikt er det tenkt at
det å sette opp egendefinerte feilmeldinger skal være mulig å gjøre via datamodelleringsverktøyet i Altinn Studio. Per nå må dette gjøres manelt.</div>
<h2 id="serverside-validering">Serverside-validering</h2>
<p>Serverside-validering kan deles opp i to kategorier:</p>
<ul>
<li><strong>Valideringer mot datamodell</strong> - Disse kjører automatisk når brukeren prøver å sende inn skjemadata.</li>
<li><strong>Egendefinerte valideringer</strong> - Disse skrives av applikasjonsutvikleren,
og kjører når brukeren prøver å sende inn skjemadata eller flytte prosessen til et nytt steg.</li>
</ul>
<h2 id="hvordan-legge-til-egendefinert-validering">Hvordan legge til egendefinert validering</h2>
<p>Egendefinerte validering kan igjen deles opp i to kategorier; task-validering og data-validering.</p>
<ul>
<li>Task-validering vil kjøres hver gang validering trigges enten manuelt fra applikasjonen eller når man prøver å flytte seg framover i prosessen.</li>
<li>Data-validering vil kjøre dersom man står på et steg som har definerte dataelementer knyttet til seg.</li>
</ul>
<p>Validering for flytting til et nytt steg vil kjøre <em>etter</em> eventuell handling som gjøres i flyttingen. Dette er fordi resultatet
av handlingen kan være avgjørende for at validering skal bli godkjent. Om validering hadde skjedd før handlingen, ville det
ført til en programlåsning (soft-lock).</p>
<p>Valideringer skrives i C# og avhengig av hvilken versjon av applikasjonsmalen og Nuget pakkene du er på, så vil implementeringen variere litt. I tidligere versjon så er det en pre-definert fil med metoder du kan legge inn logikken, mens fra versjon 7 og fremover så implementerer du et grensesnitt i den klassen du selv vil. Grensesnittet er tilfeldigvis likt den pre-definerte filen. Eksemplene som refererer til metoder vil derfor være de samme for alle versjoner.</p>
<div class="content-version-selector border-box">

    
    <ul id="content-version-tabs"></ul>

    

<div class="content-version-container">
    <label class="content-version-label" hidden>
        v7
    </label>
    <p>I versjon 7 har vi endret måten preutfylling med egendefinert kode gjøres på. Vi benytter nå <em>dependency injection</em> i stedet for overstyring av metoder. Hvis du tidligere plasserte koden din i <em>ValidationHandler og _ValidateTask</em> metodene in <em>ValidationHandler.cs</em> klassen så vil du erfare at det er mer eller mindre det samme som nå gjøres.</p>
<ol>
<li>Opprett en klasse som implementerer <code>IInstanceValidator</code> grensesnittet som ligger i <code>Altinn.App.Core.Features.Validation</code> navnerommet.<br>
Du kan navngi og plassere filene i den mappestrukturen du selv ønsker i prosjektet ditt. Men vi anbefaler at du benytter meningsfulle navnerom som i et hvilket som helst annet .Net prosjekt.</li>
<li>Registrer din implementering i <em>Program.cs</em> klassen
<code>C# services.AddTransient&lt;IInstanceValidator, InstanceValidator&gt;(); </code>
Dette sørger for at din kode er kjent for applikasjonen og at koden blir kjørt når den skal.</li>
</ol>
</div>


<div class="content-version-container">
    <label class="content-version-label" hidden>
        v4, v5, v6
    </label>
    Valideringer legges til i <code>ValidationHandler.cs</code> -filen i applikasjonsmalen.
Filen kan aksesseres og endres i Altinn Studio via logikkmenyen, ved å velge <em>Rediger valideringer</em>,
eller direkte i applikasjonsrepoet der ligger filen i <code>logic/Validation</code>-mappen.
</div>



</div>

<p>Fra dette punktet og videre skal eksemplene være de samme for alle versjoner :)</p>
<p>Endringer gjøres i <code>ValidateData</code> og <code>ValidateTask</code>-metodene.
Førstnevnte får inn et dataobjekt og sistnevnte får inn instansen og taskId.
For å legge til en valideringsfeil brukes <code>AddModelError</code>-metoden til <code>validationResults</code> object som sendes med i begge metodene.</p>
<p>Et eksempel på en enkel data-validering som sjekker at feltet <em>FirstName</em> ikke inneholder verdien <em>1337</em>, når rotelementet til modellen er <code>Skjema</code> er vist nedenfor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">void</span> ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> (data.GetType() == <span style="color:#ff79c6">typeof</span>(Skjema))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4">// Cast instance data to model type</span>
</span></span><span style="display:flex;"><span>        Skjema model = (Skjema)data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4">// Get value to test - FirstName</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">string</span> firstName = Skjema?.Person?.FirstName;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4">// Check if FirstName exists, and contains the value &#34;1337&#34;</span>
</span></span><span style="display:flex; background-color:#3d3f4a"><span>        <span style="color:#ff79c6">if</span> (firstName != <span style="color:#ff79c6">null</span> &amp;&amp; firstName.Contains(<span style="color:#f1fa8c">&#34;1337&#34;</span>))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#6272a4">// Add validation error, with error message and list</span>
</span></span><span style="display:flex;"><span>            <span style="color:#6272a4">// of affected fields (in this case Person.FirstName)</span>
</span></span><span style="display:flex;"><span>            validationResults.AddModelError(
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#34;Person.FirstName&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#34;Error: First name cannot contain the value &#39;1337&#39;.&#34;</span>
</span></span><span style="display:flex;"><span>            );
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Se kommentarer i koden over for en forklaring på hva de ulike delene gjør.</p>
<p>I det andre parameteret til metoden <code>AddModelError</code>, der det står &ldquo;<em>Error: First name cannot contain the value &lsquo;1337&rsquo;</em>&rdquo;, kan man bruke en tekstnøkkel for en <a href="/nb/altinn-studio/v8/reference/ux/texts/">tekst definert i ressursfilene</a> for språkstøtte.</p>
<p>Et eksempel på en enkel task-validering som sjekker hvor lang tid brukeren har brukt på Task_1 og returnerer en feil dersom det har tatt lenger enn 3 dager.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateTask(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> (taskId.Equals(<span style="color:#f1fa8c">&#34;Task_1&#34;</span>))
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex; background-color:#3d3f4a"><span>    DateTime deadline = ((DateTime)instance.Created).AddDays(<span style="color:#bd93f9">3</span>);
</span></span><span style="display:flex; background-color:#3d3f4a"><span>    <span style="color:#ff79c6">if</span> (DateTime.UtcNow &lt; deadline)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      validationResults.AddModelError(<span style="color:#f1fa8c">&#34;Task_1&#34;</span>, <span style="color:#f1fa8c">$&#34;Ferdigstilling av Task_1 har tatt for lang tid. Vennligst start på nytt.&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="enkeltfeltvalidering">Enkeltfeltvalidering</h2>
<p>Enkeltfeltvalidering vises umiddelbart når brukeren har fylt ut et felt.</p>
<div class="content-version-selector border-box">

    
    <ul id="content-version-tabs"></ul>

    
<div class="content-version-container">
    <label class="content-version-label" hidden>
        v4 (App Frontend)
    </label>
    <p>Ved å sette <code>showValidations</code>-egenskapen på en komponent vil valideringsfeil gjøres synlig umiddelbart når de oppstår.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;some-input-field&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Input&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;textResourceBindings&#34;</span>: {...},
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;dataModelBindings&#34;</span>: {...},
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;showValidations&#34;</span>: [<span style="color:#f1fa8c">&#34;AllExceptRequired&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Hvor <code>showValidations</code> inneholder et sett med validerings-typer som skal sjekkes; dette kan være én eller flere av:</p>
<ul>
<li><code>Schema</code></li>
<li><code>Component</code></li>
<li><code>Expression</code></li>
<li><code>CustomBackend</code></li>
<li><code>Required</code></li>
<li><code>AllExceptRequired</code></li>
<li><code>All</code></li>
</ul>
<p><strong>NB</strong>: <code>&quot;showValidations&quot;: [&quot;AllExceptRequired&quot;]</code> brukes som standard dersom egenskapen ikke er satt.
For å unngå å vise noen valideringer umiddelbart kan <code>showValidations</code> settes til en tom liste <code>[]</code>.</p>

</div>

<div class="content-version-container">
    <label class="content-version-label" hidden>
        v3 (App Frontend)
    </label>
    <div class="notices warning" ><strong>MERK</strong>: Det er foreløpig ikke støtte for å sette opp trigger for validering av enkeltfelter for Stateless apps.</div>
<p>Merk at i versjon 3 av app frontend, kjøres JSON schema og komponent-spesifikk validering automatisk som standard, å legge til en validerings-trigger fører til at custom backend validering kjøres i tillegg.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;some-input-field&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Input&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;textResourceBindings&#34;</span>: {...},
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;dataModelBindings&#34;</span>: {...},
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;triggers&#34;</span>: [<span style="color:#f1fa8c">&#34;validation&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Konfigurasjonen overfor vil resultere i at din egendefinerte validering i <code>ValidationHandler.cs</code>
vil trigges hver gang feltet oppdaterer seg. Dersom du har behov for å vite hvilket
felt som trigget valideringen er denne tilgjengelig i http-konteksten som en header på requesten ved navn <em>ValidationTriggerField</em>.</p>
<p>Et eksempel på en egendefinert validering der headerverdien hentes ut er vist nedenfor.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>    _httpContextAccessor.HttpContext
</span></span><span style="display:flex;"><span>        .Request.Headers
</span></span><span style="display:flex;"><span>        .TryGetValue(<span style="color:#f1fa8c">&#34;ValidationTriggerField&#34;</span>, <span style="color:#ff79c6">out</span> StringValues triggerValues);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">string</span> triggerField = triggerValues.FirstOrDefault(<span style="color:#8be9fd">string</span>.Empty);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> (triggerField.Equals(<span style="color:#f1fa8c">&#34;kommune&#34;</span>))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#6272a4">// Cast instance data to model type</span>
</span></span><span style="display:flex;"><span>      flyttemelding model = (flyttemelding)data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#6272a4">// Get value to test - Kommune</span>
</span></span><span style="display:flex;"><span>      <span style="color:#8be9fd">string</span> kommune = model.kommune;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">if</span> (!kommune.Equals(<span style="color:#f1fa8c">&#34;Oslo&#34;</span>))
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>          validationResults.AddModelError(triggerField, <span style="color:#f1fa8c">&#34;Dette er ikke en gyldig kommune.&#34;</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><p><strong>OBS</strong> Merk at validering av enkeltfelter bør implementeres slik at det kjører både på trigger og under generell validering.
Eksempelet som omhandler flere komplekse valideringer viser hvordan dette kan implementeres.</p>
<p>Det er gjort flere ting for å få denne kodesnutten til å kjøre</p>
<ol>
<li>I <em>ValidationHandler.cs</em> inkluderes <code>using Microsoft.Extensions.Primitives;</code> øverst i filen for å kunne ta i bruk <code>StringValues</code>.</li>
<li>I <em>App.cs</em> inkluderes <code>using Microsoft.AspNetCore.Http;</code> øverst i filen for å kunne ta i bruk <code>IHttpContextAccessor</code>.</li>
<li>I <em>App.cs</em> dependency injectes <code>IHttpContextAccessor</code> i konstruktøren og sendes med videre til ValidationHandler.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> App(
</span></span><span style="display:flex;"><span>            IAppResources appResourcesService,
</span></span><span style="display:flex;"><span>            ILogger&lt;App&gt; logger,
</span></span><span style="display:flex;"><span>            IData dataService,
</span></span><span style="display:flex;"><span>            IProcess processService,
</span></span><span style="display:flex;"><span>            IPDF pdfService,
</span></span><span style="display:flex;"><span>            IProfile profileService,
</span></span><span style="display:flex;"><span>            IRegister registerService,
</span></span><span style="display:flex;"><span>            IPrefill prefillService,
</span></span><span style="display:flex; background-color:#3d3f4a"><span>            IHttpContextAccessor httpContextAccessor <span style="color:#6272a4">// &lt;--- Add this line</span>
</span></span><span style="display:flex;"><span>            ) : <span style="color:#ff79c6">base</span>(appResourcesService, logger, dataService, processService, pdfService, prefillService)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            _logger = logger;
</span></span><span style="display:flex; background-color:#3d3f4a"><span>            _validationHandler = <span style="color:#ff79c6">new</span> ValidationHandler(httpContextAccessor);  <span style="color:#6272a4">// &lt;--- Include the new property here</span>
</span></span><span style="display:flex;"><span>            _calculationHandler = <span style="color:#ff79c6">new</span> CalculationHandler();
</span></span><span style="display:flex;"><span>            _instantiationHandler = <span style="color:#ff79c6">new</span> InstantiationHandler(profileService, registerService);
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><p>Dersom man har flere komplekse valideringer som er tidkrevende er det anbefalt å implementere flere private metoder
for validering av disse og bruke ValidationTriggerField til å avgjøre hvilken private metode som skal kjøres.
Man kan bl.a. bruke en <em>switch statement</em> for å oppnå dette.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> (data <span style="color:#ff79c6">is</span> flyttemelding model)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        _httpContextAccessor.HttpContext
</span></span><span style="display:flex;"><span>            .Request.Headers
</span></span><span style="display:flex;"><span>            .TryGetValue(<span style="color:#f1fa8c">&#34;ValidationTriggerField&#34;</span>, <span style="color:#ff79c6">out</span> StringValues triggerValues);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">string</span> triggerField = triggerValues.FirstOrDefault(<span style="color:#8be9fd">string</span>.Empty);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">switch</span> (triggerField)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">case</span> <span style="color:#f1fa8c">&#34;kommune&#34;</span>:
</span></span><span style="display:flex;"><span>                ValidateKommune(model, validationResults);
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">case</span> <span style="color:#f1fa8c">&#34;boaddresse&#34;</span>:
</span></span><span style="display:flex;"><span>                ValidateBoAdresse(model, validationResults);
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">default</span>:
</span></span><span style="display:flex;"><span>                ValidateKommune(model, validationResults);
</span></span><span style="display:flex;"><span>                ValidateBoAdresse(model, validationResults);
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#ff79c6">void</span> ValidateKommune(flyttemelding model, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> (model.kommune != <span style="color:#ff79c6">null</span> &amp;&amp; !model.kommune.Equals(<span style="color:#f1fa8c">&#34;Oslo&#34;</span>))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        validationResults.AddModelError(
</span></span><span style="display:flex;"><span>            nameof(model.kommune),
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#34;Dette er ikke en gyldig kommune.&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#ff79c6">void</span> ValidateBoAdresse(flyttemelding model, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> (model.boaddresse != <span style="color:#ff79c6">null</span> &amp;&amp; model.boaddresse.Length &gt; <span style="color:#bd93f9">150</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        validationResults.AddModelError(
</span></span><span style="display:flex;"><span>            nameof(model.boaddresse),
</span></span><span style="display:flex;"><span>            <span style="color:#f1fa8c">&#34;Boadresse kan ikke være lengere enn 150 tegn.&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="spesifisere-at-valideringsfeil-er-fikset">Spesifisere at valideringsfeil er fikset</h3>
<p>Når validering trigges av et enkelt felt, så vil alle tidligere valideringer på dette feltet fjernes i påvente av svar fra den siste valideringen.
Dersom et felt trigger validering som oppdaterer/legger til feilmelding på flere felter på en gang, vil ikke disse fjernes selv om det ikke lenger er noen
feil i disse feltene. Dette er fordi man ikke har noen måte å vite hvilke felter som ev. er validert ifm en enkeltfeltvalidering.</p>
<p>F.eks., dersom man har 2 felter: fornavn og etternavn. Begge felter trigger enkeltfeltvalidering, og dersom begge feltene har verdi så validerer man at fullt navn ikke
kan være lengre enn 50 tegn. Feilmelding settes da på begge feltene. Dersom man retter opp i dette ved å endre fornavn, vil feilmeldingen fra fornavn-feltet forsvinne,
men feilmeldingen som vises på etternavn-feltet vises fortsatt selv om valideringen ikke setter noen feilmeldinger på feltene.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#ff79c6">void</span> ValidateFullName(Datamodell model, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> (!<span style="color:#8be9fd">string</span>.isNullOrEmpty(model.fornavn) &amp;&amp; !<span style="color:#8be9fd">string</span>.isNullOrEmpty(model.etternavn)
</span></span><span style="display:flex;"><span>    &amp;&amp; model.fornavn.Length + model.etternavn.Length &gt; <span style="color:#bd93f9">50</span>)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    validationResults.addModelError(nameof(model.fornavn),
</span></span><span style="display:flex;"><span>      <span style="color:#f1fa8c">&#34;Fullt navn kan ikke være lengre enn 50 tegn.&#34;</span>);
</span></span><span style="display:flex;"><span>    validationResults.addModelError(nameof(model.etternavn),
</span></span><span style="display:flex;"><span>      <span style="color:#f1fa8c">&#34;Fullt navn kan ikke være lengre enn 50 tegn.&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>For å kunne fjerne gamle feilmeldinger i et sånt tilfelle, er det lagt til støtte for å kunne spesifisere at en valideringsfeil er <strong>fikset</strong>. Da
vil det aktuelle feltet kunne få beskjed om at en spesifikk feilmelding som den viser frem er fikset og skal skjules.</p>
<p>Dette gjøres ved å legge til en valideringsfeil i koden i det tilfellet der det ikke er noen feil i valideringen,
og sette <code>*FIXED*</code> foran selve feilmeldingen. Dette tilsvarer oppsettet for <a href="#myke-valideringer">myk validering</a>.
Denne prefixen gjør at feilmeldingen som settes fjernes fra det aktuelle feltet, eller ignoreres (dersom det ikke er noen feilmelding på feltet fra før).</p>
<p>Man kan da utvide eksempelet over for å støtte dette:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#ff79c6">void</span> ValidateFullName(Datamodell model, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> (!<span style="color:#8be9fd">string</span>.isNullOrEmpty(model.fornavn) &amp;&amp; !<span style="color:#8be9fd">string</span>.isNullOrEmpty(model.etternavn)
</span></span><span style="display:flex;"><span>    &amp;&amp; model.fornavn.Length + model.etternavn.Length &gt; <span style="color:#bd93f9">50</span>)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    validationResults.addModelError(nameof(model.fornavn),
</span></span><span style="display:flex;"><span>      <span style="color:#f1fa8c">&#34;Fullt navn kan ikke være lengre enn 50 tegn.&#34;</span>);
</span></span><span style="display:flex;"><span>    validationResults.addModelError(nameof(model.etternavn),
</span></span><span style="display:flex;"><span>      <span style="color:#f1fa8c">&#34;Fullt navn kan ikke være lengre enn 50 tegn.&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    validationResults.addModelError(nameof(model.fornavn),
</span></span><span style="display:flex; background-color:#3d3f4a"><span>      <span style="color:#f1fa8c">&#34;*FIXED*Fullt navn kan ikke være lengre enn 50 tegn.&#34;</span>);
</span></span><span style="display:flex;"><span>    validationResults.addModelError(nameof(model.etternavn),
</span></span><span style="display:flex; background-color:#3d3f4a"><span>      <span style="color:#f1fa8c">&#34;*FIXED*Fullt navn kan ikke være lengre enn 50 tegn.&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Dersom du har problemer med å få dette til å fungere, og du ser valideringsmeldinger med <code>*FIXED*</code> foran meldingen istedenfor at meldingen forsvinner,
bør du dobbeltsjekke at du har <code>&quot;FixedValidationPrefix&quot;: &quot;*FIXED*&quot;</code> satt under <code>GeneralSettings</code> i <code>appsettings.json</code>.</p>

</div>


</div>

<h2 id="myke-valideringer">Myke valideringer</h2>
<p>Myke valideringer er valideringsmeldinger som ikke stopper bruker fra å sende inn eller gå videre til neste steg i prosessen, men som benyttes til å gi brukeren ulike former for informasjon.
Denne typen valideringer kan f.eks. brukes til å be brukeren om å verifisere input som virker feil eller rart, men som strengt tatt ikke er ugyldig, eller gi nyttig informasjon for videre utfylling.</p>
<p>Meldinger basert på myke validering vil vises en gang, men bruker kan velge å klikke seg videre uten å utføre endringer.</p>
<p>Myke valideringer legges til fra server-siden i validerings-logikken, på samme måte som vanlige validerings-feil. Forskjellen er at valideringsmeldingen
må prefixes med typen validering man ønker å gi, f.eks <code>*WARNING*</code>. Dette vil da tolkes som en myk validering. Prefixen <code>*WARNING*</code> blir ikke synlig for sluttbruker.</p>
<p>De tilgjengelige typene myke valideringer er <code>WARNING</code>, <code>INFO</code> og <code>SUCCESS</code>.</p>
<p><strong>Kodeeksempel</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary modelState)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> (data <span style="color:#ff79c6">is</span> TestModel testModel)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>      <span style="color:#8be9fd">string</span> firstName = testModel?.Person?.FirstName;
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">if</span> (firstName != <span style="color:#ff79c6">null</span> &amp;&amp; firstName.Contains(<span style="color:#f1fa8c">&#34;1337&#34;</span>))
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        validationResults.AddModelError(
</span></span><span style="display:flex;"><span>          <span style="color:#f1fa8c">&#34;Person.FirstName&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f1fa8c">&#34;*WARNING*Are you sure your first name contains 1337?&#34;</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">if</span> (firstName != <span style="color:#ff79c6">null</span> &amp;&amp; firstname.Contains(<span style="color:#f1fa8c">&#34;Altinn&#34;</span>))
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        validationResults.AddModelError(
</span></span><span style="display:flex;"><span>          <span style="color:#f1fa8c">&#34;Person.FirstName&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f1fa8c">&#34;*SUCCESS*Altinn is a great name!&#34;</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Eksempler på visning av de ulike valieringene ser du nedenfor:</p>
<p><figure>
    <a href="info-message.jpeg">
        <img src="info-message.jpeg" alt="&ldquo;Informasjonsmelding&rdquo;" title="Eksempel på informasjonsmelding (*INFO* - prefix)">
    </a>
    <figcaption><em>Eksempel på informasjonsmelding (*INFO* - prefix)</em></figcaption>
  </figure></p>
<p><figure>
    <a href="success-message.jpeg">
        <img src="success-message.jpeg" alt="&ldquo;Suksessmelding&rdquo;" title="Eksempel på suksessmelding (*SUCCESS* - prefix)">
    </a>
    <figcaption><em>Eksempel på suksessmelding (*SUCCESS* - prefix)</em></figcaption>
  </figure>)</p>
<p><figure>
    <a href="warning-message.jpeg">
        <img src="warning-message.jpeg" alt="&ldquo;Informasjonsmelding&rdquo;" title="Eksempel på advarselsmelding (*WARNING* - prefix)">
    </a>
    <figcaption><em>Eksempel på advarselsmelding (*WARNING* - prefix)</em></figcaption>
  </figure></p>
<p>Det er også mulig å overstyre tittelen man ser på meldingene ved å legge til nøkklene <code>soft_validation.info_title</code>, <code>soft_validation.warning_title</code>, og <code>soft_validation.success_title</code> i tekstressursene om man ønsker å sette custom tittel.</p>
<h2 id="gruppevalidering">Gruppevalidering</h2>
<p>Det er mulig å gjøre valideringer på en repeterende gruppe i det brukeren ønsker å lagre en gitt rad.
Dersom det er valideringsfeil i raden, vil brukeren hindres fra å lukke raden til feilene er fikset.</p>
<div class="content-version-selector border-box">

    
    <ul id="content-version-tabs"></ul>

    
<div class="content-version-container">
    <label class="content-version-label" hidden>
        v4 (App Frontend)
    </label>
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;demo-gruppe&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Group&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;children&#34;</span>: [...],
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;maxCount&#34;</span>: <span style="color:#bd93f9">9</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;dataModelBindings&#34;</span>: {...},
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;validateOnSaveRow&#34;</span>: [<span style="color:#f1fa8c">&#34;All&#34;</span>],
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Hvor <code>validateOnSaveRow</code> inneholder et sett med validerings-typer som skal sjekkes; dette kan være én eller flere av:</p>
<ul>
<li><code>Schema</code></li>
<li><code>Component</code></li>
<li><code>Expression</code></li>
<li><code>CustomBackend</code></li>
<li><code>Required</code></li>
<li><code>AllExceptRequired</code></li>
<li><code>All</code></li>
</ul>
</div>

  <div class="content-version-container">
    <label class="content-version-label" hidden>
        v3 (App Frontend)
    </label>
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;demo-gruppe&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Group&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;children&#34;</span>: [...],
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;maxCount&#34;</span>: <span style="color:#bd93f9">9</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;dataModelBindings&#34;</span>: {...},
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&#34;triggers&#34;</span>: [<span style="color:#f1fa8c">&#34;validateRow&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Om man legger til validering på gruppe-komponenten så vil det også gå et kall mot valideringen backend med en header som spesifiserer hvilken komponent som trigget valideringen: <code>ComponentId</code>.
I tillegg er rad-indeksen for raden som blir lagret tilgjengelig i headeren <code>RowIndex</code>. Dersom gruppen er en nøstet gruppe, er verdien en komma-separert liste med indekser, ellers er indeksen ett enkelt tall.
Valideringer er skrevet i C#, i <code>ValidationHandler.cs</code>-filen i applikasjonsmalen. I valideringen kan man så hente ut komponent-id&rsquo;en og skreddersy eventuelle valideringer som skal gjøres backend, eksempel:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> (data <span style="color:#ff79c6">is</span> flyttemelding model)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        _httpContextAccessor.HttpContext
</span></span><span style="display:flex;"><span>            .Request.Headers
</span></span><span style="display:flex;"><span>            .TryGetValue(<span style="color:#f1fa8c">&#34;ComponentId&#34;</span>, <span style="color:#ff79c6">out</span> StringValues compIdValues);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        _httpContextAccessor.HttpContext
</span></span><span style="display:flex;"><span>            .Request.Headers
</span></span><span style="display:flex;"><span>            .TryGetValue(<span style="color:#f1fa8c">&#34;RowIndex&#34;</span>, <span style="color:#ff79c6">out</span> StringValues rowIndexValues);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">string</span> componentId = compIdValues.FirstOrDefault(<span style="color:#8be9fd">string</span>.Empty);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">switch</span> (componentId)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">case</span> <span style="color:#f1fa8c">&#34;top-level-group&#34;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#6272a4">// kjør valideringer spesifikke til gruppen</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#6272a4">// Hent rad-indeksen for en ikke-nøstet gruppe</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd">int</span> rowIndex = <span style="color:#8be9fd">int</span>
</span></span><span style="display:flex;"><span>                    .Parse(rowIndexValues.FirstOrDefault(<span style="color:#8be9fd">string</span>.Empty));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">break</span>;
</span></span><span style="display:flex;"><span>              <span style="color:#ff79c6">case</span> <span style="color:#f1fa8c">&#34;nested-group&#34;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#6272a4">// Hent alle rad-indekser for en nøstet gruppe</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd">int</span>[] rowIndices = rowIndexValues
</span></span><span style="display:flex;"><span>                    .FirstOrDefault(<span style="color:#8be9fd">string</span>.Empty)
</span></span><span style="display:flex;"><span>                    .Split(<span style="color:#f1fa8c">&#34;,&#34;</span>, StringSplitOptions.RemoveEmptyEntries)
</span></span><span style="display:flex;"><span>                    .Select(s =&gt; <span style="color:#8be9fd">int</span>.Parse(s))
</span></span><span style="display:flex;"><span>                    .ToArray();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">default</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#6272a4">// kjør valideringene i sin helhet</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
</div>


</div>

<p>For tips til hvordan man løser komplekse valideringer se ekemplene under <a href="#enkeltfeltvalidering">enkeltfeltvalidering</a>.</p>


<footer class=" footline" ></footer>
                </div>
              </div>
              
              
            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/altinn-studio/v8/reference/logic/validation/_index.nb.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Endre denne siden i GitHub
                  </a>
                </div></section>
        </div> 
        <div class="col-md-2 d-none d-md-block">
          <div class="toc-container">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#introduksjon">Introduksjon</a></li>
    <li><a href="#klientside-validering">Klientside-validering</a>
      <ul>
        <li><a href="#standard-feilmeldinger">Standard feilmeldinger</a></li>
        <li><a href="#spesielt-om-standard-feilmelding-for-påkrevde-felter">Spesielt om standard feilmelding for påkrevde felter</a>
          <ul>
            <li><a href="#eksempel-felt-med-kun-title">Eksempel: Felt med kun <code>title</code></a></li>
            <li><a href="#eksempel-felt-med-shortname">Eksempel: Felt med <code>shortName</code></a></li>
          </ul>
        </li>
        <li><a href="#erstatte-feilmelding-for-påkrevde-felter-helt">Erstatte feilmelding for påkrevde felter helt</a></li>
        <li><a href="#egendefinerte-feilmeldinger">Egendefinerte feilmeldinger</a></li>
      </ul>
    </li>
    <li><a href="#serverside-validering">Serverside-validering</a></li>
    <li><a href="#hvordan-legge-til-egendefinert-validering">Hvordan legge til egendefinert validering</a></li>
    <li><a href="#enkeltfeltvalidering">Enkeltfeltvalidering</a></li>
    <li><a href="#myke-valideringer">Myke valideringer</a></li>
    <li><a href="#gruppevalidering">Gruppevalidering</a></li>
  </ul>
</nav></div>
        </div>
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">Om Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://digdir-samarbeid.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <style>
      #TableOfContents {overflow-x: visible; overflow-y: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      #TableOfContents::-webkit-scrollbar {display: none;  }
      #TableOfContents > ul > li {margin-top: 0.8em !important; list-style-type:none; list-style-position:inside;}
      #TableOfContents li li {margin-left: 0.4em; list-style-type:circle;}
      #TableOfContents li li:has(a.text-active) {list-style-type:disc;}
      #TableOfContents a {border-bottom: 2px solid transparent;}
      #TableOfContents a.text-active, #TableOfContents a:hover {border-bottom: 2px solid #1EAEF7;}
    </style>
    <script>
      
      class Scroller {
        static init() {
          if(document.querySelector('#TableOfContents')) {
            this.tocLinks = document.querySelectorAll('#TableOfContents a');
            this.headers = Array.from(this.tocLinks).map(link => {
              var s = link.href.split('#')[1];
              s = s.replace(/%C3%A6/g, "æ");
              s = s.replace(/%C3%B8/g, "ø");
              s = s.replace(/%C3%A5/g, "å");

              return document.getElementById(s);
            })
            this.ticking = false;
            window.addEventListener('scroll', (e) => {
              this.onScroll()
            })
          }
        }

        static onScroll() {
          if(!this.ticking) {
            requestAnimationFrame(this.update.bind(this));
            this.ticking = true;
          }
        }

        static update() {
          this.activeHeader ||= this.headers[0];
          let activeIndex = this.headers.findIndex((header) => {
            if (header != null) {
              return header.getBoundingClientRect().top > 180;
            }
          });
          if(activeIndex == -1) {
            activeIndex = this.headers.length - 1;
          } else if(activeIndex > 0) {
            activeIndex--;
          }
          let active = this.headers[activeIndex];
          if(active !== this.activeHeader) {
            this.activeHeader = active;
            this.tocLinks.forEach(link => link.classList.remove('text-active'));
            this.tocLinks[activeIndex].classList.add('text-active');
          }
          this.ticking = false;
        }
      }

      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
      if (document.getElementById("TableOfContents")) {
        var a = new StickySidebar('.toc-container', {
          topSpacing: 20,
          bottomSpacing: 60,
          containerSelector: '.adocs-scrollcontainer',
          innerWrapperSelector: '#TableOfContents',
          minWidth: 768
        });
      }
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) { Scroller.init();});
      mermaid.initialize({startOnLoad:true});
    </script>
<script src="/js/custom.js"></script></body>
</html>

