<!DOCTYPE html>
<html lang="nb" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Referanseinformasjon om dialog tokens" />
<meta name="altinn_pagedir" class="elastic" content="dialogporten/reference/authorization/dialog-tokens/" />
<meta name="altinn_title" class="elastic" content="Dialog Tokens" />
<meta name="product" data-pagefind-filter="Produkt[content]" content="Dialogporten" />
<meta name="diataxis" data-pagefind-filter="Type[content]" content="Referanse" />

<title>Dialog Tokens ‚Äì Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">

    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script>

<script>
if (window.location.hostname != "localhost") {
    
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://siteimproveanalytics.com/js/siteanalyze_6255470.js';
    document.head.appendChild(script);
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/nb/dialogporten/reference/authorization/dialog-tokens/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Hopp til hovedinnholdet</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Hopp til hovedmeny</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/nb/" class="a-globalNav-logo">
            <img src="/images/altinn-new-logo-white.svg" alt="Altinn logo" class="adocs-logo">
            <span class="sr-only">Til forsiden</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Vis/skjul meny</span></button>

          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <span>Produkt</span>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle">
    <a aria-hidden="true" class="dropdown-item" href="/nb/altinn-studio/v8/">
      <p class="product-item">Altinn Studio</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/authorization/">
      <p class="product-item">Autorisasjon</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/dialogporten/">
      <p class="product-item">Dialogporten</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/broker/">
      <p class="product-item">Formidling</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/events/">
      <p class="product-item">Events</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/correspondence/">
      <p class="product-item">Melding</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/nb/notifications/">
      <p class="product-item">Varsling</p>
    </a>
</div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/nb/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/nb/community/">community</a>
              </li>
            </ul>
          </div>
        </nav> 

        <ul class="nav nav-pills a-header-options" id="nav-list">
           <li class="nav-item d-md-block">
              <button id="search-button" class="nav-link adocs-toggle-search" type="button"
                  data-toggle="collapse" data-target="#collapseSearchContent" aria-expanded="false" aria-controls="collapseSearchContent"
                  onclick="setTimeout(function(){document.getElementsByClassName('pagefind-ui__search-input')[0].focus()},100); return true;">
                  <span>
                      <i class="ai ai-search">
                        <span class="sr-only">S√∏k</span></i>
                  </span>
              </button>
          </li>
          <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <img src="/images/nb.svg" class="" alt="Language" style="height: 1.2em; vertical-align: bottom;"/>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle" style="z-index:100000;"><a aria-hidden="true" class="dropdown-item" href="/nb/dialogporten/reference/authorization/dialog-tokens/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokm√•l ‚úì</span><br></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/en/dialogporten/reference/authorization/dialog-tokens/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English</span><br></p>
    </a></div>
</li>
        </ul>

      </div>
    </div> 
  </div> 
</header>

<div id="collapseSearchContent" class="a-collapseContent adocs-collapseSearch collapse">
  <div class="a-collapseContent-inside px-0">
    <div class="bg-white pt-3 pb-3"><div class="container">
    <div class="row">
         
        <div class="form-group a-form-group a-form-group-large col-sm-12">
            <label class="a-h2" for="search-by">Hva leter du etter?</label>
            <div id="search-by" style="margin: auto;" class=""></div>
        </div>
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
        <script src="/pagefind/pagefind-ui.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search-by",
                    pageSize: 10,
                    excerptLength: 25,
                    showSubResults: true,
                    resetStyles: true,
                    showImages: true,
                    processResult: function (result) {
                        if (result?.meta?.image) {
                            let resultBase = new URL(result.url, window.location);
                            let remappedImage = new URL(result.meta.image, resultBase);
                            if (remappedImage.hostname !== window.location.hostname) {
                                result.meta.image = remappedImage.toString();
                            } else {
                                result.meta.image = remappedImage.pathname;
                            }
                        }
                    }
                });
                
                var searchField = document.getElementsByClassName("pagefind-ui__search-input")[0];
                if (searchField) {
                    searchField.setAttribute('aria-label', 'S√∏k');
                }

                var sKey = "as";
                searchField.addEventListener("blur", () => {
                    sessionStorage.setItem(sKey, searchField.value);
                });

                var searchButton = document.getElementById("search-button");
                searchButton.addEventListener("click", () => {
                    var scrollContainer = document.getElementsByClassName('adocs-scrollcontainer')[0];
                    if (!searchField.checkVisibility()) {
                        scrollContainer.setAttribute('style', 'visibility: hidden !important');
                    } else {
                        scrollContainer.removeAttribute('style');
                    }
                }); 
                
                if (sessionStorage.getItem(sKey)) {
                    searchField.value = sessionStorage.getItem(sKey);
                    searchField.dispatchEvent(new Event("input"));
                }
            });
        </script>
        <style>
          :root {
            --pagefind-ui-scale: 0.9;
            --pagefind-ui-text: #000000;
            --pagefind-ui-border: #1EAEF7;
            --pagefind-ui-border-radius: 0;
          }
          .pagefind-ui__search-input::placeholder {
            color: #757575 !important;
            opacity: 1 !important;
            font-weight: normal !important;
          }
          .pagefind-ui__result-link:hover, .pagefind-ui__result-link:hover {
            text-decoration: none !important;
          }
          .pagefind-ui__form:before {
            opacity: 1 !important;
          }
        </style>
        
    </div>
</div></div>
  </div>
</div>
<div class="container pt-2 pt-md-3 pt-lg-5">      
      <div class="adocs-scrollcontainer">
        <div class="row">
          <div class="col-sm-12 col-md-10 last-modified">Sist endret: 29. sep. 2025</div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-10"><nav id="sidebar" class=""><div class="highlightable">
  <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/nb/dialogporten/"><span>Dialogporten</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/about-dialogporten/"><span>Om Dialogporten</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/what-do-you-get/"><span>Hva f√•r du?</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/"><span>Komme i gang</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/dialogs/"><span>Dialoger</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/authorization/"><span>Autorisasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/authorization/parties/"><span>Parter</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/authorization/service-resource/"><span>Tjenesteressurs</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/authorization/attributes/"><span>Autorisasjonsattributter</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/authorization/dialog-tokens/"><span>Dialog Tokens</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/events/"><span>Hendelser</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/front-channel-embeds/"><span>Front channel embeds</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/write-actions/"><span>Skrivehandlinger</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/process-identifiers/"><span>Prosessidentifikatorer</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/seen-log/"><span>Sett-logg</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/getting-started/activity-log/"><span>Aktivitetslogg</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/"><span>Brukerh√•ndb√∏ker</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/authenticating/"><span>Autentisering</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/authorized-parties/"><span>Finne autoriserte parter</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/searching-for-dialogs/"><span>S√∏ke etter dialoger</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/getting-dialog-details/"><span>Hente dialogdetaljer</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/detecting-changes/"><span>Oppdage endringer</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/service-owners/"><span>Tjenesteeiere</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/service-owners/creating-resources/"><span>Opprette ressurser</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/service-owners/creating-dialogs/"><span>Opprette dialoger</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/service-owners/updating-dialogs/"><span>Oppdatere dialoger</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/service-owners/impersonating-users/"><span>Impersonering av brukere</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/service-owners/integrating-altinn-apps/"><span>Integrere Altinn Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/service-owners/api-client/"><span>API-klient for .NET</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/user-guides/migrating-from-altinn2/"><span>Migrering fra Altinn 2</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/"><span>Referanse</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/openapi/"><span>OpenAPI</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/graphql/"><span>GraphQL</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/entities/"><span>Entiteter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/entities/dialog/"><span>Dialog</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/entities/transmission/"><span>Forsendelse</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/entities/attachment/"><span>Vedlegg</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/entities/activity/"><span>Aktivitet</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/entities/seen/"><span>Sett</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/entities/systemlabel/"><span>Systemetikett</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/entities/action/"><span>Handling</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/authorization/"><span>Autorisasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/authorization/altinn-authorization/"><span>Altinn Autorisering</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/authorization/attributes/"><span>Autorisasjonsattributter</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/authorization/parties/"><span>Autoriserte parter</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/authorization/dialog-tokens/"><span>Dialog Tokens</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/front-end/"><span>Front end</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/front-end/front-channel-embeds/"><span>Front channel embeds</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/front-end/write-actions/"><span>Skrivehandlinger</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/front-end/subscriptions/"><span>GraphQL-abonnementer</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/front-end/altinn-apps/"><span>Altinn Apps integrasjon</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/events/"><span>Hendelser</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/reference/content-types/"><span>Innholdstyper</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/news/"><span>Nyheter</span></a></li>
      <li class="dd-item">
        <a href="/nb/dialogporten/status-migration/"><span>Status migrering</span></a></li></ul></li></ul>
</div>
</nav>

<script>
          $("li.dd-item a[href='/nb/dialogporten/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/dialogporten/reference/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/dialogporten/reference/authorization/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/dialogporten/reference/authorization/dialog-tokens/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">            
            <div id="breadcrumbs">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links" data-pagefind-meta="üçû"><a href='/nb/dialogporten/'>Dialogporten</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/dialogporten/reference/'>Referanse</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/dialogporten/reference/authorization/'>Autorisasjon</a> <span class='adocs-breadcrumb-divider'> / </span> Dialog Tokens</span>
            </div>            
          </div><div id="body-inner" data-pagefind-body><h1 class="a-fontBold">Dialog Tokens</h1>
              <p class="a-leadText" id="leadText">Referanseinformasjon om dialog tokens</p>

<h2 id="introduksjon">Introduksjon</h2>
<p>Se <a href="/nb/dialogporten/reference/authorization/dialog-tokens/../../../getting-started/authorization/dialog-tokens/">komme i gang med dialog tokens</a> for en funksjonell oversikt over dialog tokens og hva de kan brukes til.</p>
<p>Dialog tokens muliggj√∏r u-proxyede frontend-foresp√∏rsler til endepunkter som krever autentisering og autorisasjon, uten √• m√•tte stole p√• ID-porten SSO og redirects.</p>
<h2 id="bruk-for-sluttbruker-systemer-oauth-klienter">Bruk for sluttbruker-systemer (OAuth-klienter)</h2>
<p>Dialog tokens er innebygd i <a href="/nb/dialogporten/reference/authorization/dialog-tokens/../../entities/dialog/">single dialog response model</a> (se <code>dialogToken</code>), og er en selvstendig, signert JWT som inneholder claims fra den autentiserte brukeren og selve dialogen, inkludert hvilke handlinger og autorisasjonsattributter brukeren er autorisert for.</p>
<p>Dialog tokens skal overf√∏res som de er som en bearer token i et <code>Authorization</code> HTTP-hode. Innholdet i dialog token b√∏r normalt ikke vurderes av klientene, dvs. at tokenet skal behandles som en ugjennomsiktig streng.</p>
<p>Altinn.no-portalen vil bruke dialog tokens p√• alle URLer knyttet til <a href="/nb/dialogporten/reference/authorization/dialog-tokens/../../front-end/write-actions/">skrivehandlinger</a> og <a href="/nb/dialogporten/reference/authorization/dialog-tokens/../../front-end/write-actions/">front channel embeds</a>. Andre sluttbruker-systemer kan ogs√• bruke dialog token for API-handlinger, underlagt tjenestespesifikke protokoller definert av den respektive tjenesteeier.</p>
<h3 id="dialog-token-levetid">Dialog token levetid</h3>
<p>Et ferskt dialog token utstedes for hver henting av dialog-aggregatet. Levetiden (<code>exp</code> claim) er <strong>10 minutter</strong>, s√• sluttbruker-systemer b√∏r hente dialogen p√• nytt for √• sikre at endepunktene aksepterer tokenet, og at det samsvarer med gjeldende autorisasjonsdata.</p>
<h2 id="motta-og-verifisere-dialog-tokens-oauth-ressurs-servere">Motta og verifisere dialog tokens (OAuth ressurs-servere)</h2>
<p>Ressurs-serveren vil ved hjelp av dialog tokens v√¶re i stand til fullt ut √• autentisere og autorisere foresp√∏rsler som ellers er uautentiserte (dvs. uten cookies eller annen tilstand). Dialog tokens skal overf√∏res som en bearer token ved hjelp av et <code>Authorization</code> HTTP-hode.</p>
<p>Merk at for klienter som er nettleserbaserte, inkludert Altinn.no-portalen, m√• ressurs-serveren ogs√• implementere <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">CORS-protokollen</a> for √• h√•ndtere foresp√∏rsler.</p>
<h3 id="liste-over-dialogporten-spesifikke-claims">Liste over Dialogporten-spesifikke claims</h3>
<table>
  <thead>
      <tr>
          <th>Claim</th>
          <th>Description</th>
          <th>Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>c</td>
          <td>Autentisert som en konsument av Dialogporten. Prefikset for enten enkeltpersoner (vanligvis ID-porten), organisasjoner (vanligvis Maskinporten), eller selvregistrerte brukere.</td>
          <td><code>&quot;urn:altinn:person:identifier-no::12018212345</code> <code>&quot;urn:altinn:organization:identifier-no::991825827&quot;</code> <code>&quot;urn:altinn:party-identifier:username::someemail@example.com&quot;</code></td>
      </tr>
      <tr>
          <td>l</td>
          <td>Sikkerhetsniv√• for autentisering (4)</td>
          <td><code>4</code></td>
      </tr>
      <tr>
          <td>u</td>
          <td>Valgfritt. Hvis en provider token i Maskinporten er blitt brukt, vil den autentiserte leverand√∏rens organisasjonsnummer bli gitt her.</td>
          <td><code>&quot;urn:altinn:organization:identifier-no::991825827&quot;</code></td>
      </tr>
      <tr>
          <td>p</td>
          <td>Hvem konsumenten handler p√• vegne av (hvis ikke dem selv), dvs. hvem som eier den relevante dialogen.</td>
          <td><code>&quot;urn:altinn:person:identifier-no::12018212345&quot;</code> <code>&quot;urn:altinn:organization:identifier-no::991825827&quot;</code>  <code>&quot;urn:altinn:party-identifier:username::someemail@example.com&quot;</code></td>
      </tr>
      <tr>
          <td>i</td>
          <td>Unik identifikator for dialogen.</td>
          <td><code>&quot;e0300961-85fb-4ef2-abff-681d77f9960e&quot;</code></td>
      </tr>
      <tr>
          <td>s</td>
          <td>Tjenesteressursen som dialogen refererer til.</td>
          <td><code>&quot;urn:altinn:resource:super-simple-service&quot;</code></td>
      </tr>
      <tr>
          <td>a</td>
          <td>Autoriserte handlinger/autorisasjonsattributter.</td>
          <td><code>&quot;read;write;sign;elementread,urn:altinn:subresource:authorizationattribute1&quot;</code></td>
      </tr>
  </tbody>
</table>
<h4 id="eksempel-p√•-dekodet-token">Eksempel p√• dekodet token</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;alg&#34;</span>: <span style="color:#f1fa8c">&#34;EdDSA&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;typ&#34;</span>: <span style="color:#f1fa8c">&#34;JWT&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;kid&#34;</span> : <span style="color:#f1fa8c">&#34;dp-2023-01&#34;</span> 
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// .
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;c&#34;</span>: <span style="color:#f1fa8c">&#34;urn:altinn:person:identifier-no::12018212345&#34;</span>, 
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;l&#34;</span>: <span style="color:#bd93f9">4</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;u&#34;</span>: <span style="color:#f1fa8c">&#34;urn:altinn:organization:identifier-no::825827991&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;p&#34;</span>: <span style="color:#f1fa8c">&#34;urn:altinn:organization:identifier-no::991825827&#34;</span>, 
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;i&#34;</span>: <span style="color:#f1fa8c">&#34;e0300961-85fb-4ef2-abff-681d77f9960e&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;s&#34;</span>: <span style="color:#f1fa8c">&#34;urn:altinn:resource:super-simple-service&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;a&#34;</span>: <span style="color:#f1fa8c">&#34;read;write;sign;elementread,urn:altinn:subresource:autorisasjonsattributt1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;exp&#34;</span>: <span style="color:#bd93f9">1672772834</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iss&#34;</span>: <span style="color:#f1fa8c">&#34;https://dialogporten.no&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;nbf&#34;</span>: <span style="color:#bd93f9">1672771934</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;iat&#34;</span>: <span style="color:#bd93f9">1672771934</span> 
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// .
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// &lt;signature&gt;
</span></span></span></code></pre></div><h3 id="token-signature-cipher">Token signature cipher</h3>
<p>Dialog tokens benytter en <a href="https://datatracker.ietf.org/doc/html/rfc8032">Edwards-Curve Digital Signature Algorithm (EdDSA)</a> ved hjelp av Ed25519-kurven for √• signere dialog tokens, noe som gj√∏r det mulig for konsumenter √• verifisere at tokenet er utstedt av Dialogporten og stole p√• informasjonen i claimene. Se ogs√• <a href="https://datatracker.ietf.org/doc/html/rfc8037">RFC 8037</a> for informasjon om bruk av EdDSA i JOSE-kontekster.</p>
<h3 id="well-known-endpoints">Well-known endpoints</h3>
<p>Dialogporten tilbyr <a href="https://datatracker.ietf.org/doc/html/rfc8414">OAuth 2.0 Authorization Server Metadata (RFC8414)</a> som muliggj√∏r runtime n√∏kkeloppdagelse, rotasjon og tokenvalidering. Se <a href="/nb/dialogporten/reference/authorization/dialog-tokens/../../openapi/">OpenAPI spesifikasjonen</a> (tag &ldquo;Metadata&rdquo;) for de well-known URLene for det gitte milj√∏et.</p>
<h3 id="key-sets-and-rotations">Key sets and rotations</h3>
<p>The JSON Web Key sets published on the well-known-endpoints will always contain at least two JWKs. All endpoints that accepts and verifies dialog tokens issued by Dialogporten, should allow tokens signed by any of the keys present in the key set for the given environment.</p>
<p>The key set should be cached and refreshed with a frequency no more than 24 hours. Dialogporten may at any point introduce new keys into the key set, but will not sign any dialog tokens until the key has been published and available at the well-known endpoint for at least 48 hours. This will allow for consumers to refresh their caches and verify the signature of any token issued by Dialogporten.</p>
<h3 id="token-validation-recommendations">Token validation recommendations</h3>
<p>Please consult <a href="https://datatracker.ietf.org/doc/html/rfc8725">RFC 8725</a> and the aforementioned RFCs for information about best practices for JWS signature validation.</p>
<ul class="children children-li js-moveChildrenFrom">

	
		
	
</ul>




<footer class=" footline" ></footer>
                </div>
              </div>
              
              
            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/dialogporten/reference/authorization/dialog-tokens/_index.nb.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Endre denne siden i GitHub
                  </a>
                </div></section>
        </div> 
        <div class="col-md-2 d-none d-md-block">
          <div class="toc-container">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#introduksjon">Introduksjon</a></li>
    <li><a href="#bruk-for-sluttbruker-systemer-oauth-klienter">Bruk for sluttbruker-systemer (OAuth-klienter)</a>
      <ul>
        <li><a href="#dialog-token-levetid">Dialog token levetid</a></li>
      </ul>
    </li>
    <li><a href="#motta-og-verifisere-dialog-tokens-oauth-ressurs-servere">Motta og verifisere dialog tokens (OAuth ressurs-servere)</a>
      <ul>
        <li><a href="#liste-over-dialogporten-spesifikke-claims">Liste over Dialogporten-spesifikke claims</a>
          <ul>
            <li><a href="#eksempel-p√•-dekodet-token">Eksempel p√• dekodet token</a></li>
          </ul>
        </li>
        <li><a href="#token-signature-cipher">Token signature cipher</a></li>
        <li><a href="#well-known-endpoints">Well-known endpoints</a></li>
        <li><a href="#key-sets-and-rotations">Key sets and rotations</a></li>
        <li><a href="#token-validation-recommendations">Token validation recommendations</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
        </div>
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">Om Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://digdir-samarbeid.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <style>
      #TableOfContents {overflow-x: visible; overflow-y: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      #TableOfContents::-webkit-scrollbar {display: none;  }
      #TableOfContents > ul > li {margin-top: 0.8em !important; list-style-type:none; list-style-position:inside;}
      #TableOfContents li li {margin-left: 0.4em; list-style-type:circle;}
      #TableOfContents li li:has(a.text-active) {list-style-type:disc;}
      #TableOfContents a {border-bottom: 2px solid transparent;}
      #TableOfContents a.text-active, #TableOfContents a:hover {border-bottom: 2px solid #1EAEF7;}
    </style>
    <script>
      
      class Scroller {
        static init() {
          if(document.querySelector('#TableOfContents')) {
            this.tocLinks = document.querySelectorAll('#TableOfContents a');
            this.headers = Array.from(this.tocLinks).map(link => {
              var s = link.href.split('#')[1];
              s = s.replace(/%C3%A6/g, "√¶");
              s = s.replace(/%C3%B8/g, "√∏");
              s = s.replace(/%C3%A5/g, "√•");

              return document.getElementById(s);
            })
            this.ticking = false;
            window.addEventListener('scroll', (e) => {
              this.onScroll()
            })
          }
        }

        static onScroll() {
          if(!this.ticking) {
            requestAnimationFrame(this.update.bind(this));
            this.ticking = true;
          }
        }

        static update() {
          this.activeHeader ||= this.headers[0];
          let activeIndex = this.headers.findIndex((header) => {
            if (header != null) {
              return header.getBoundingClientRect().top > 180;
            }
          });
          if(activeIndex == -1) {
            activeIndex = this.headers.length - 1;
          } else if(activeIndex > 0) {
            activeIndex--;
          }
          let active = this.headers[activeIndex];
          if(active !== this.activeHeader) {
            this.activeHeader = active;
            this.tocLinks.forEach(link => link.classList.remove('text-active'));
            this.tocLinks[activeIndex].classList.add('text-active');
          }
          this.ticking = false;
        }
      }

      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
      if (document.getElementById("TableOfContents")) {
        var a = new StickySidebar('.toc-container', {
          topSpacing: 20,
          bottomSpacing: 60,
          containerSelector: '.adocs-scrollcontainer',
          innerWrapperSelector: '#TableOfContents',
          minWidth: 768
        });
      }
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) { Scroller.init();});
      mermaid.initialize({startOnLoad:true});
    </script>
<script src="/js/custom.js"></script></body>
</html>

