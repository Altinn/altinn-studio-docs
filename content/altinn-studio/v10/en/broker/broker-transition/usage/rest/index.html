<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Difference in Rest operation usage between Altinn 2 and Altinn 3 transitioned services." />
<meta name="altinn_pagedir" class="elastic" content="broker/broker-transition/usage/rest/" />
<meta name="altinn_title" class="elastic" content="Usage Rest" />
<meta name="product" data-pagefind-filter="Product[content]" content="Broker" />


<title>Usage Rest â€“ Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">

    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script>

<script>
if (window.location.hostname != "localhost") {
    
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://siteimproveanalytics.com/js/siteanalyze_6255470.js';
    document.head.appendChild(script);
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/en/broker/broker-transition/usage/rest/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Jump to the main content</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Jump to the main menu</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/en/" class="a-globalNav-logo">
            <img src="/images/altinn-new-logo-white.svg" alt="Altinn logo" class="adocs-logo">
            <span class="sr-only">To the frontpage</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Show/hide menu</span></button>

          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <span>Product</span>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle">
    <a aria-hidden="true" class="dropdown-item" href="/en/altinn-studio/v8/">
      <p class="product-item">Altinn Studio</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/authorization/">
      <p class="product-item">Authorization</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/dialogporten/">
      <p class="product-item">Dialogporten</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/broker/">
      <p class="product-item">Broker</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/events/">
      <p class="product-item">Events</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/correspondence/">
      <p class="product-item">Correspondence</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/notifications/">
      <p class="product-item">Notifications</p>
    </a>
</div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/community/">community</a>
              </li>
            </ul>
          </div>
        </nav> 

        <ul class="nav nav-pills a-header-options" id="nav-list">
           <li class="nav-item d-md-block">
              <button id="search-button" class="nav-link adocs-toggle-search" type="button"
                  data-toggle="collapse" data-target="#collapseSearchContent" aria-expanded="false" aria-controls="collapseSearchContent"
                  onclick="setTimeout(function(){document.getElementsByClassName('pagefind-ui__search-input')[0].focus()},100); return true;">
                  <span>
                      <i class="ai ai-search">
                        <span class="sr-only">Search</span></i>
                  </span>
              </button>
          </li>
          <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <img src="/images/en.svg" class="" alt="Language" style="height: 1.2em; vertical-align: bottom;"/>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle" style="z-index:100000;"><a aria-hidden="true" class="dropdown-item" href="/nb/broker/broker-transition/usage/rest/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">BokmÃ¥l</span><br></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/en/broker/broker-transition/usage/rest/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English âœ“</span><br></p>
    </a></div>
</li>
        </ul>

      </div>
    </div> 
  </div> 
</header>

<div id="collapseSearchContent" class="a-collapseContent adocs-collapseSearch collapse">
  <div class="a-collapseContent-inside px-0">
    <div class="bg-white pt-3 pb-3"><div class="container">
    <div class="row">
         
        <div class="form-group a-form-group a-form-group-large col-sm-12">
            <label class="a-h2" for="search-by">What are you looking for?</label>
            <div id="search-by" style="margin: auto;" class=""></div>
        </div>
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
        <script src="/pagefind/pagefind-ui.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search-by",
                    pageSize: 10,
                    excerptLength: 25,
                    showSubResults: true,
                    resetStyles: true,
                    showImages: true,
                    processResult: function (result) {
                        if (result?.meta?.image) {
                            let resultBase = new URL(result.url, window.location);
                            let remappedImage = new URL(result.meta.image, resultBase);
                            if (remappedImage.hostname !== window.location.hostname) {
                                result.meta.image = remappedImage.toString();
                            } else {
                                result.meta.image = remappedImage.pathname;
                            }
                        }
                    }
                });
                
                var searchField = document.getElementsByClassName("pagefind-ui__search-input")[0];
                if (searchField) {
                    searchField.setAttribute('aria-label', 'Search');
                }

                var sKey = "as";
                searchField.addEventListener("blur", () => {
                    sessionStorage.setItem(sKey, searchField.value);
                });

                var searchButton = document.getElementById("search-button");
                searchButton.addEventListener("click", () => {
                    var scrollContainer = document.getElementsByClassName('adocs-scrollcontainer')[0];
                    if (!searchField.checkVisibility()) {
                        scrollContainer.setAttribute('style', 'visibility: hidden !important');
                    } else {
                        scrollContainer.removeAttribute('style');
                    }
                }); 
                
                if (sessionStorage.getItem(sKey)) {
                    searchField.value = sessionStorage.getItem(sKey);
                    searchField.dispatchEvent(new Event("input"));
                }
            });
        </script>
        <style>
          :root {
            --pagefind-ui-scale: 0.9;
            --pagefind-ui-text: #000000;
            --pagefind-ui-border: #1EAEF7;
            --pagefind-ui-border-radius: 0;
          }
          .pagefind-ui__search-input::placeholder {
            color: #757575 !important;
            opacity: 1 !important;
            font-weight: normal !important;
          }
          .pagefind-ui__result-link:hover, .pagefind-ui__result-link:hover {
            text-decoration: none !important;
          }
          .pagefind-ui__form:before {
            opacity: 1 !important;
          }
        </style>
        
    </div>
</div></div>
  </div>
</div>
<div class="container pt-2 pt-md-3 pt-lg-5">      
      <div class="adocs-scrollcontainer">
        <div class="row">
          <div class="col-sm-12 col-md-10 last-modified">Last modified: Jun 28, 2024</div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-10"><nav id="sidebar" class=""><div class="highlightable">
  <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/en/broker/"><span>Broker</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/broker/about/"><span>About Broker</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/what-do-you-get/"><span>What do you get?</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/getting-started/"><span>Getting Started</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/broker/getting-started/common-steps/"><span>Common Steps</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/getting-started/service-owner/"><span>Service Owner</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/getting-started/developer-guides/"><span>Developer guides</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/broker/getting-started/developer-guides/send-files/"><span>Send files</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/getting-started/developer-guides/receive-files/"><span>Receive Files</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/getting-started/developer-guides/service-owner/"><span>Service Owner</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/getting-started/developer-guides/events/"><span>Events</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/broker/explanation/"><span>Concepts</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/broker/explanation/basic-concepts/"><span>Basic Concepts</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/explanation/very-large-files/"><span>Large Files</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/broker/broker-transition/"><span>Transition Solution</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/broker/broker-transition/about/"><span>About Transition Solution</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/broker-transition/getting-started/"><span>Getting Started</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/broker-transition/technical-overview/"><span>Technical Overview</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/broker-transition/usage/"><span>Usage</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/broker/broker-transition/usage/rest/"><span>Usage Rest</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/broker-transition/usage/soap/"><span>Usage SOAP</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/broker/reference/"><span>Reference documentation</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/broker/reference/terminology/"><span>Terminology</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/reference/system-interfaces/"><span>System Interfaces</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/reference/capabilities/"><span>Capabilities</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/reference/rate-limits/"><span>Rate Limits</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/reference/solution-architecture/"><span>Solution Architecture</span></a></li>
      <li class="dd-item">
        <a href="/en/broker/reference/security/"><span>Security</span></a></li></ul></li></ul></li></ul>
</div>
</nav>

<script>
          $("li.dd-item a[href='/en/broker/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/broker/broker-transition/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/broker/broker-transition/usage/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/broker/broker-transition/usage/rest/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">            
            <div id="breadcrumbs">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links" data-pagefind-meta="ðŸž"><a href='/en/broker/'>Broker</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/broker/broker-transition/'>Transition Solution</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/broker/broker-transition/usage/'>Usage</a> <span class='adocs-breadcrumb-divider'> / </span> Usage Rest</span>
            </div>            
          </div><div id="body-inner" data-pagefind-body><h1 class="a-fontBold">Usage Rest</h1>
              <p class="a-leadText" id="leadText">Difference in Rest operation usage between Altinn 2 and Altinn 3 transitioned services.</p>

<h2 id="difference-in-usage-between-existing-altinn-2-rest-operations-and-altinn-2-rest-operations-that-have-been-transition-to-altinn-3">Difference in usage between existing Altinn 2 Rest Operations and Altinn 2 Rest operations that have been transition to Altinn 3.</h2>
<p>For standard usage of Altinn 2 Rest operations, see [Altinn Docs (norwegian only)] (<a href="https://altinn.github.io/docs/api/rest/formidling/">https://altinn.github.io/docs/api/rest/formidling/</a>)</p>
<p>For all Altinn 3 transitioned services, Receipts will be pseudo-receipts generated from the Altinn 3 file metadata. This means all receipts returned will be pseudo-receipts, and all receiptIds will be 0.</p>
<p>If your use case requires receipt usage, please submit a feature request.</p>
<h2 id="outbox-sender">Outbox (Sender)</h2>
<p>Rest operations for Broker in Altinn 2 are logically split between Sender and Recipient (outbox / inbox).</p>
<h3 id="initiate-and-send-file">Initiate and Send File</h3>
<p>Altinn 2 Rest operations combine initiation and upload into the same call.
The call consists of a Post request with a file as a binary body and filename and BrokerServiceDescription added as parameters.</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span>POST https://www.altinn.no/api/{who}/brokerservice/outbox?fileName={fileName}&amp;brokerServiceDescription={&#34;ServiceCode&#34;:&#34;{serviceCode}&#34;,&#34;ServiceEditionCode&#34;:{serviceEdition},&#34;Recipients&#34;:[&#34;{recipient1}&#34;,&#34;{recipient2}&#34;],&#34;SendersReference&#34;:&#34;{sendersReference}}&#34;,&#34;Properties&#34;:{&#34;{name1}&#34;:&#34;{value1}&#34;, &#34;{name2}&#34;:&#34;{value2}&#34;},&#34;FileList&#34;:null}
</span></span><span style="display:flex;"><span>accept: application/json
</span></span><span style="display:flex;"><span>ApiKey: myKey
</span></span><span style="display:flex;"><span>Content-Type: application/zip
</span></span></code></pre></div><p>BrokerServiceDescription example</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;ServiceCode&#34;</span>: <span style="color:#f1fa8c">&#34;5678&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;ServiceEditionCode&#34;</span>: <span style="color:#bd93f9">1</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#f1fa8c">&#34;somereference&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;Recipients&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;974760673&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;Properties&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;somethingservicespecific&#34;</span>: <span style="color:#f1fa8c">&#34;somevalue&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;somethingelseservicespecific&#34;</span>: <span style="color:#f1fa8c">&#34;someothervalue&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;FileList&#34;</span>: <span style="color:#ff79c6">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="differences">Differences</h4>
<p>The transition service does not use the FileList property. No change is necessary from the End User implementation, but a NULL value will be accepted, and any values submitted will be discarded by the transition service.
The returned receipt will not be a real receipt, but a pseudo-receipt built from the Altinn 3 Broker File metadata.</p>
<div class="notices warning" ><p>Since the Upload, and Upload processing of the file is an asynchronous process in Altinn 3, the immediate Receipt status received from the call will not necessarily reflect the final state of the file.
In addition, the Rest implementation of Altinn 2 Broker services synchronized the initiation and upload of the file, as a result of this the File Status requests do not include statuses for Failed files,
since these would not historically be created in the first place.</p>
<p>If possible, you should therefore consider adding steps that make calls to <a href="#get-file-receipt-outbox-sender">Get File Receipt</a> to ensure that the file has been successfully processed.</p>
</div>
<p>Example of immediately returned status from InitiateAndUploadFile call:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceCode&#34;</span>: <span style="color:#f1fa8c">&#34;4947&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceEditionCode&#34;</span>: <span style="color:#bd93f9">4678</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileName&#34;</span>: <span style="color:#f1fa8c">&#34;Altinn2FileName&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileReference&#34;</span>: <span style="color:#f1fa8c">&#34;1540b8dd-bb90-42d1-a95e-12e097823070&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileSize&#34;</span>: <span style="color:#bd93f9">123</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileStatus&#34;</span>: <span style="color:#f1fa8c">&#34;Initialized&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Sender&#34;</span>: <span style="color:#f1fa8c">&#34;312903369&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SentDate&#34;</span>: <span style="color:#f1fa8c">&#34;2024-04-26T13:17:33.911&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#f1fa8c">&#34;SendersReferenceValue&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Example of returned status from a subsequent GetFileDetails calls</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceCode&#34;</span>: <span style="color:#f1fa8c">&#34;4947&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceEditionCode&#34;</span>: <span style="color:#bd93f9">4678</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileName&#34;</span>: <span style="color:#f1fa8c">&#34;Altinn2FileName&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileReference&#34;</span>: <span style="color:#f1fa8c">&#34;1540b8dd-bb90-42d1-a95e-12e097823070&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileSize&#34;</span>: <span style="color:#bd93f9">123</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileStatus&#34;</span>: <span style="color:#f1fa8c">&#34;Uploaded&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Sender&#34;</span>: <span style="color:#f1fa8c">&#34;312903369&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SentDate&#34;</span>: <span style="color:#f1fa8c">&#34;2024-04-26T13:17:33.911&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#f1fa8c">&#34;SendersReferenceValue&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>&ldquo;Uploaded&rdquo; state here means that the file has been processed OK. A FileStatus of &ldquo;Initialized&rdquo; indicates that the file has not finished processing, or that processing encountered an error, as Altinn 2 Rest File Details does not implement error messaging.</p>
<h3 id="get-file-details-outbox-sender">Get File Details outbox (sender)</h3>
<p>This operation returns Broker File metadata.</p>
<p>This request will not differ in usage between Altinn 2 and Altinn 3 transitioned services.</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span><span style="color:#50fa7b">GET</span> https://www.altinn.no/api/{who}/brokerservice/outbox/{fileId} <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>accept<span style="color:#ff79c6">:</span> application/json
</span></span><span style="display:flex;"><span>ApiKey<span style="color:#ff79c6">:</span> myKey
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/zip
</span></span></code></pre></div><h3 id="get-file-receipt-outbox-sender">Get File Receipt outbox (sender)</h3>
<p>This operation returns Broker File Receipt</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span><span style="color:#50fa7b">GET</span> https://www.altinn.no/api/{who}/brokerservice/outbox/{fileId}/receipt <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>accept<span style="color:#ff79c6">:</span> application/json
</span></span><span style="display:flex;"><span>ApiKey<span style="color:#ff79c6">:</span> myKey
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/zip
</span></span></code></pre></div><h4 id="example-receipt-sender">Example Receipt Sender</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ParentReceiptID&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;LastChanged&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:14:52.313&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Status&#34;</span>: <span style="color:#f1fa8c">&#34;Ok&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Text&#34;</span>: <span style="color:#f1fa8c">&#34;Upload of file 0ed44efb-f397-43a7-883a-4be634c902f1 was successful. Recipients can now download the file.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceOwnerPartyReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;PartyReference&#34;</span>: <span style="color:#f1fa8c">&#34;312903369&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptHistory&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SubReceipts&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ParentReceiptID&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;LastChanged&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:14:52.313&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Status&#34;</span>: <span style="color:#f1fa8c">&#34;Ok&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Text&#34;</span>: <span style="color:#f1fa8c">&#34;A file has been made available for download.&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ServiceOwnerPartyReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;PartyReference&#34;</span>: <span style="color:#f1fa8c">&#34;313559017&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ReceiptHistory&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;SubReceipts&#34;</span>: <span style="color:#ff79c6">null</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ParentReceiptID&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;LastChanged&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:14:52.313&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Status&#34;</span>: <span style="color:#f1fa8c">&#34;Ok&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Text&#34;</span>: <span style="color:#f1fa8c">&#34;A file has been made available for download.&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ServiceOwnerPartyReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;PartyReference&#34;</span>: <span style="color:#f1fa8c">&#34;314126866&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ReceiptHistory&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;SubReceipts&#34;</span>: <span style="color:#ff79c6">null</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="example-receipt-sender---file-fails-during-processing">Example Receipt Sender - File fails during processing</h4>
<p>In the event of a file upload failing during processing, the immediate result will not show that the file has been rejected:</p>
<h5 id="immediate-result-of-instantiateandupload">Immediate Result of InstantiateAndUpload</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceCode&#34;</span>: <span style="color:#f1fa8c">&#34;4947&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceEditionCode&#34;</span>: <span style="color:#bd93f9">4678</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileName&#34;</span>: <span style="color:#f1fa8c">&#34;Altinn2FileName&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileReference&#34;</span>: <span style="color:#f1fa8c">&#34;37de0fef-1cf6-46eb-bf18-c5c7df24ba4f&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileSize&#34;</span>: <span style="color:#bd93f9">68</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileStatus&#34;</span>: <span style="color:#f1fa8c">&#34;Initialized&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Sender&#34;</span>: <span style="color:#f1fa8c">&#34;312903369&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SentDate&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:33:14.752&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#f1fa8c">&#34;test123&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h5 id="getfiledetails">GetFileDetails</h5>
<p>A secondary call to will show that the file is Initialized, as the Altinn 2 Rest implementation of Broker was entirely synchronous, and therefore does not implement showing Failed statuses, as these could never be returned.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceCode&#34;</span>: <span style="color:#f1fa8c">&#34;4947&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceEditionCode&#34;</span>: <span style="color:#bd93f9">4678</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileName&#34;</span>: <span style="color:#f1fa8c">&#34;Altinn2FileName&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileReference&#34;</span>: <span style="color:#f1fa8c">&#34;37de0fef-1cf6-46eb-bf18-c5c7df24ba4f&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileSize&#34;</span>: <span style="color:#bd93f9">68</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;FileStatus&#34;</span>: <span style="color:#f1fa8c">&#34;Initialized&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Sender&#34;</span>: <span style="color:#f1fa8c">&#34;312903369&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SentDate&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:33:14.752&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#f1fa8c">&#34;test123&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h5 id="getreceipt">GetReceipt</h5>
<p>In order to see a reference to the actual processing error, it is therefore necessary to check the Receipt call for Altinn 2 Rest API.
And a Rest Receipt request will return details regarding the processing error:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ParentReceiptID&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;LastChanged&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:33:14.819&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Status&#34;</span>: <span style="color:#f1fa8c">&#34;Rejected&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Text&#34;</span>: <span style="color:#f1fa8c">&#34;Malware scan failed: Malicious. Extra details: {\&#34;MalwareNamesFound\&#34;:[\&#34;Virus:DOS/EICAR_Test_File\&#34;],\&#34;Sha256\&#34;:\&#34;275A021BBFB6489E54D471899F7DB9D1663FC695EC2FE2A2C4538AABF651FD0F\&#34;,\&#34;NotScannedReason\&#34;:\&#34;\&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceOwnerPartyReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;PartyReference&#34;</span>: <span style="color:#f1fa8c">&#34;312903369&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptHistory&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SubReceipts&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ParentReceiptID&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;LastChanged&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:33:14.819&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Status&#34;</span>: <span style="color:#f1fa8c">&#34;Rejected&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Text&#34;</span>: <span style="color:#f1fa8c">&#34;File failed during upload processing in Altinn 3.&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ServiceOwnerPartyReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;PartyReference&#34;</span>: <span style="color:#f1fa8c">&#34;313559017&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ReceiptHistory&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;SubReceipts&#34;</span>: <span style="color:#ff79c6">null</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ParentReceiptID&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;LastChanged&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:33:14.819&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Status&#34;</span>: <span style="color:#f1fa8c">&#34;Rejected&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Text&#34;</span>: <span style="color:#f1fa8c">&#34;File failed during upload processing in Altinn 3.&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ServiceOwnerPartyReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;PartyReference&#34;</span>: <span style="color:#f1fa8c">&#34;314126866&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;ReceiptHistory&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;SubReceipts&#34;</span>: <span style="color:#ff79c6">null</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="differences-1">Differences</h4>
<p>For Altinn 3 transitioned services the receipt is a pseudo receipt built from Altinn 3 Broker File metadata.</p>
<h2 id="inbox-recipient">Inbox (recipient)</h2>
<h3 id="verify-if-users-have-files-available">Verify if users have files available</h3>
<p>This operation verifies whether any of the given recipients have any files available for download for the given ServiceCode / ServiceEdition combination.</p>
<p>If files are available it returns true, otherwise it returns false.</p>
<p>Implementation does not differ for Altinn 3 transitioned services.</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span>GET https://www.altinn.no/api/brokerservice/inbox/hasavailablefiles?serviceCode={serviceCode}&amp;serviceEditionCode={serviceEdition}&amp;recipients={recipient1},{recipient2} HTTP/1.1 
</span></span><span style="display:flex;"><span>accept: application/json
</span></span><span style="display:flex;"><span>ApiKey: myKey
</span></span></code></pre></div><h3 id="get-recipient-inbox">Get recipient inbox</h3>
<p>This operation retrieves a list of files available to the user.</p>
<p>This operation will only return file list for transitioned services if the service is specified in the request.</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span><span style="color:#50fa7b">GET</span> https://www.altinn.no/api/{who}/brokerservice/inbox/?serviceCode={serviceCode}&amp;serviceEditionCode={serviceEdition} <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>accept<span style="color:#ff79c6">:</span> application/json
</span></span><span style="display:flex;"><span>ApiKey<span style="color:#ff79c6">:</span> myKey
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/zip
</span></span></code></pre></div><h4 id="example-receipt">Example receipt</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptID&#34;</span>: <span style="color:#bd93f9">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ParentReceiptID&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;LastChanged&#34;</span>: <span style="color:#f1fa8c">&#34;2024-05-08T12:14:52.288&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Status&#34;</span>: <span style="color:#f1fa8c">&#34;Ok&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Text&#34;</span>: <span style="color:#f1fa8c">&#34;A file has been made available for download.&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SendersReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ServiceOwnerPartyReference&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;PartyReference&#34;</span>: <span style="color:#f1fa8c">&#34;313559017&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ReceiptHistory&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;SubReceipts&#34;</span>: <span style="color:#ff79c6">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="differences-2">Differences</h4>
<p>The inbox operation will by default retrieve a list of Altinn 2 files. If no service code/service edition code is supplied, the operation will only list files from Altinn 2.
The receipt will not have a ReceiptId, ParentReceiptId, SendersReference or ReceiptHistory.</p>
<h3 id="get-file-details-inbox-recipient">Get File Details inbox (recipient)</h3>
<p>This operation does not differ from the Get File Details for <a href="#get-file-details-outbox-sender">outbox(sender)</a>, except in the URI for the request.</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span><span style="color:#50fa7b">GET</span> https://www.altinn.no/api/{who}/brokerservice/inbox/{fileId} <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>accept<span style="color:#ff79c6">:</span> application/json
</span></span><span style="display:flex;"><span>ApiKey<span style="color:#ff79c6">:</span> myKey
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/zip
</span></span></code></pre></div><h3 id="get-file-receipt-inbox-recipient">Get File Receipt inbox (recipient)</h3>
<p>This operation does not differ from the Get File Receipt for <a href="#get-file-receipt-outbox-sender">outbox(sender)</a>, except in the URI for the request.</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span><span style="color:#50fa7b">GET</span> https://www.altinn.no/api/{who}/brokerservice/inbox/{fileId}/receipt <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>accept<span style="color:#ff79c6">:</span> application/json
</span></span><span style="display:flex;"><span>ApiKey<span style="color:#ff79c6">:</span> myKey
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/zip
</span></span></code></pre></div><h4 id="differences-3">Differences</h4>
<p>For Altinn 3 transitioned services the receipt is a pseudo receipt built from Altinn 3 Broker File metadata.</p>
<h3 id="download">Download</h3>
<p>This operation downloads the file data. It does not differ between transitioned and non-transitioned Altinn 2 services.</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span><span style="color:#50fa7b">GET</span> https://www.altinn.no/api/{who}/brokerservice/inbox/{fileId}/download <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>accept<span style="color:#ff79c6">:</span> application/json
</span></span><span style="display:flex;"><span>ApiKey<span style="color:#ff79c6">:</span> myKey
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/zip
</span></span></code></pre></div><h3 id="confirmdownload">ConfirmDownload</h3>
<p>This operations, explicitly on behalf of the end user, marks file as confirmed downloaded in Altinn 3 and returns a receipt.</p>
<p>Header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTTP" data-lang="HTTP"><span style="display:flex;"><span><span style="color:#50fa7b">POST</span> https://www.altinn.no/api/{who}/brokerservice/inbox/{fileId}/confirmdownloaded <span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span>
</span></span><span style="display:flex;"><span>accept<span style="color:#ff79c6">:</span> application/json
</span></span><span style="display:flex;"><span>ApiKey<span style="color:#ff79c6">:</span> myKey
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/zip
</span></span></code></pre></div><h3 id="differences-4">Differences</h3>
<p>For Altinn 3 transitioned services the receipt is a pseudo receipt built from Altinn 3 Broker File metadata.</p>


<footer class=" footline" ></footer>
                </div>
              </div>
              
              
            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/broker/broker-transition/usage/rest/_index.en.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Edit page on GitHub
                  </a>
                </div></section>
        </div> 
        <div class="col-md-2 d-none d-md-block">
          <div class="toc-container">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#difference-in-usage-between-existing-altinn-2-rest-operations-and-altinn-2-rest-operations-that-have-been-transition-to-altinn-3">Difference in usage between existing Altinn 2 Rest Operations and Altinn 2 Rest operations that have been transition to Altinn 3.</a></li>
    <li><a href="#outbox-sender">Outbox (Sender)</a>
      <ul>
        <li><a href="#initiate-and-send-file">Initiate and Send File</a>
          <ul>
            <li><a href="#differences">Differences</a></li>
          </ul>
        </li>
        <li><a href="#get-file-details-outbox-sender">Get File Details outbox (sender)</a></li>
        <li><a href="#get-file-receipt-outbox-sender">Get File Receipt outbox (sender)</a>
          <ul>
            <li><a href="#example-receipt-sender">Example Receipt Sender</a></li>
            <li><a href="#example-receipt-sender---file-fails-during-processing">Example Receipt Sender - File fails during processing</a>
              <ul>
                <li><a href="#immediate-result-of-instantiateandupload">Immediate Result of InstantiateAndUpload</a></li>
                <li><a href="#getfiledetails">GetFileDetails</a></li>
                <li><a href="#getreceipt">GetReceipt</a></li>
              </ul>
            </li>
            <li><a href="#differences-1">Differences</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#inbox-recipient">Inbox (recipient)</a>
      <ul>
        <li><a href="#verify-if-users-have-files-available">Verify if users have files available</a></li>
        <li><a href="#get-recipient-inbox">Get recipient inbox</a>
          <ul>
            <li><a href="#example-receipt">Example receipt</a></li>
            <li><a href="#differences-2">Differences</a></li>
          </ul>
        </li>
        <li><a href="#get-file-details-inbox-recipient">Get File Details inbox (recipient)</a></li>
        <li><a href="#get-file-receipt-inbox-recipient">Get File Receipt inbox (recipient)</a>
          <ul>
            <li><a href="#differences-3">Differences</a></li>
          </ul>
        </li>
        <li><a href="#download">Download</a></li>
        <li><a href="#confirmdownload">ConfirmDownload</a></li>
        <li><a href="#differences-4">Differences</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
        </div>
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">About Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://digdir-samarbeid.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <style>
      #TableOfContents {overflow-x: visible; overflow-y: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      #TableOfContents::-webkit-scrollbar {display: none;  }
      #TableOfContents > ul > li {margin-top: 0.8em !important; list-style-type:none; list-style-position:inside;}
      #TableOfContents li li {margin-left: 0.4em; list-style-type:circle;}
      #TableOfContents li li:has(a.text-active) {list-style-type:disc;}
      #TableOfContents a {border-bottom: 2px solid transparent;}
      #TableOfContents a.text-active, #TableOfContents a:hover {border-bottom: 2px solid #1EAEF7;}
    </style>
    <script>
      
      class Scroller {
        static init() {
          if(document.querySelector('#TableOfContents')) {
            this.tocLinks = document.querySelectorAll('#TableOfContents a');
            this.headers = Array.from(this.tocLinks).map(link => {
              var s = link.href.split('#')[1];
              s = s.replace(/%C3%A6/g, "Ã¦");
              s = s.replace(/%C3%B8/g, "Ã¸");
              s = s.replace(/%C3%A5/g, "Ã¥");

              return document.getElementById(s);
            })
            this.ticking = false;
            window.addEventListener('scroll', (e) => {
              this.onScroll()
            })
          }
        }

        static onScroll() {
          if(!this.ticking) {
            requestAnimationFrame(this.update.bind(this));
            this.ticking = true;
          }
        }

        static update() {
          this.activeHeader ||= this.headers[0];
          let activeIndex = this.headers.findIndex((header) => {
            if (header != null) {
              return header.getBoundingClientRect().top > 180;
            }
          });
          if(activeIndex == -1) {
            activeIndex = this.headers.length - 1;
          } else if(activeIndex > 0) {
            activeIndex--;
          }
          let active = this.headers[activeIndex];
          if(active !== this.activeHeader) {
            this.activeHeader = active;
            this.tocLinks.forEach(link => link.classList.remove('text-active'));
            this.tocLinks[activeIndex].classList.add('text-active');
          }
          this.ticking = false;
        }
      }

      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
      if (document.getElementById("TableOfContents")) {
        var a = new StickySidebar('.toc-container', {
          topSpacing: 20,
          bottomSpacing: 60,
          containerSelector: '.adocs-scrollcontainer',
          innerWrapperSelector: '#TableOfContents',
          minWidth: 768
        });
      }
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) { Scroller.init();});
      mermaid.initialize({startOnLoad:true});
    </script>
<script src="/js/custom.js"></script></body>
</html>

