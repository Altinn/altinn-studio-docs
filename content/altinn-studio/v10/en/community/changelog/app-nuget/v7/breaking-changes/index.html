<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Overview of breaking changes introduced in v7.0.0 of the App Nuget packages." />
<meta name="altinn_pagedir" class="elastic" content="community/changelog/app-nuget/v7/breaking-changes/" />
<meta name="altinn_title" class="elastic" content="Breaking changes" />



<title>Breaking changes â€“ Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">

    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script>

<script>
if (window.location.hostname != "localhost") {
    
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://siteimproveanalytics.com/js/siteanalyze_6255470.js';
    document.head.appendChild(script);
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/en/community/changelog/app-nuget/v7/breaking-changes/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Jump to the main content</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Jump to the main menu</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/en/" class="a-globalNav-logo">
            <img src="/images/altinn-new-logo-white.svg" alt="Altinn logo" class="adocs-logo">
            <span class="sr-only">To the frontpage</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Show/hide menu</span></button>

          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <span>Product</span>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle">
    <a aria-hidden="true" class="dropdown-item" href="/en/altinn-studio/v8/">
      <p class="product-item">Altinn Studio</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/authorization/">
      <p class="product-item">Authorization</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/dialogporten/">
      <p class="product-item">Dialogporten</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/broker/">
      <p class="product-item">Broker</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/events/">
      <p class="product-item">Events</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/correspondence/">
      <p class="product-item">Correspondence</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/notifications/">
      <p class="product-item">Notifications</p>
    </a>
</div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/community/">community</a>
              </li>
            </ul>
          </div>
        </nav> 

        <ul class="nav nav-pills a-header-options" id="nav-list">
           <li class="nav-item d-md-block">
              <button id="search-button" class="nav-link adocs-toggle-search" type="button"
                  data-toggle="collapse" data-target="#collapseSearchContent" aria-expanded="false" aria-controls="collapseSearchContent"
                  onclick="setTimeout(function(){document.getElementsByClassName('pagefind-ui__search-input')[0].focus()},100); return true;">
                  <span>
                      <i class="ai ai-search">
                        <span class="sr-only">Search</span></i>
                  </span>
              </button>
          </li>
          <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <img src="/images/en.svg" class="" alt="Language" style="height: 1.2em; vertical-align: bottom;"/>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle" style="z-index:100000;"><a aria-hidden="true" class="dropdown-item" href="/nb/community/changelog/app-nuget/v7/breaking-changes/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">BokmÃ¥l</span><br></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/en/community/changelog/app-nuget/v7/breaking-changes/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English âœ“</span><br></p>
    </a></div>
</li>
        </ul>

      </div>
    </div> 
  </div> 
</header>

<div id="collapseSearchContent" class="a-collapseContent adocs-collapseSearch collapse">
  <div class="a-collapseContent-inside px-0">
    <div class="bg-white pt-3 pb-3"><div class="container">
    <div class="row">
         
        <div class="form-group a-form-group a-form-group-large col-sm-12">
            <label class="a-h2" for="search-by">What are you looking for?</label>
            <div id="search-by" style="margin: auto;" class=""></div>
        </div>
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
        <script src="/pagefind/pagefind-ui.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search-by",
                    pageSize: 10,
                    excerptLength: 25,
                    showSubResults: true,
                    resetStyles: true,
                    showImages: true,
                    processResult: function (result) {
                        if (result?.meta?.image) {
                            let resultBase = new URL(result.url, window.location);
                            let remappedImage = new URL(result.meta.image, resultBase);
                            if (remappedImage.hostname !== window.location.hostname) {
                                result.meta.image = remappedImage.toString();
                            } else {
                                result.meta.image = remappedImage.pathname;
                            }
                        }
                    }
                });
                
                var searchField = document.getElementsByClassName("pagefind-ui__search-input")[0];
                if (searchField) {
                    searchField.setAttribute('aria-label', 'Search');
                }

                var sKey = "as";
                searchField.addEventListener("blur", () => {
                    sessionStorage.setItem(sKey, searchField.value);
                });

                var searchButton = document.getElementById("search-button");
                searchButton.addEventListener("click", () => {
                    var scrollContainer = document.getElementsByClassName('adocs-scrollcontainer')[0];
                    if (!searchField.checkVisibility()) {
                        scrollContainer.setAttribute('style', 'visibility: hidden !important');
                    } else {
                        scrollContainer.removeAttribute('style');
                    }
                }); 
                
                if (sessionStorage.getItem(sKey)) {
                    searchField.value = sessionStorage.getItem(sKey);
                    searchField.dispatchEvent(new Event("input"));
                }
            });
        </script>
        <style>
          :root {
            --pagefind-ui-scale: 0.9;
            --pagefind-ui-text: #000000;
            --pagefind-ui-border: #1EAEF7;
            --pagefind-ui-border-radius: 0;
          }
          .pagefind-ui__search-input::placeholder {
            color: #757575 !important;
            opacity: 1 !important;
            font-weight: normal !important;
          }
          .pagefind-ui__result-link:hover, .pagefind-ui__result-link:hover {
            text-decoration: none !important;
          }
          .pagefind-ui__form:before {
            opacity: 1 !important;
          }
        </style>
        
    </div>
</div></div>
  </div>
</div>
<div class="container pt-2 pt-md-3 pt-lg-5">      
      <div class="adocs-scrollcontainer">
        <div class="row">
          <div class="col-sm-12 col-md-10 last-modified">Last modified: Sep 29, 2025</div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-10"><nav id="sidebar" class=""><div class="highlightable">
  <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/en/community/"><span>Community</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/about/"><span>About</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/about/goals/"><span>Goals</span></a></li>
      <li class="dd-item">
        <a href="/en/community/about/open-source/"><span>Open source</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/"><span>Contributing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/propose-component/"><span>Propose a new component</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/develop-component/"><span>Develop a component</span></a></li><li class="dd-item">
          <a href="/en/community/contributing/intro/">
            <span>Intro for developers</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/"><span>Handbook</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-devops/"><span>Azure DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-devops/pipelines/"><span>Pipelines</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-storage/"><span>Azure Storage</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-storage/tools/"><span>Tools &amp; Software</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-storage/queues/"><span>Queues</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/"><span>Back-end</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/app-template-and-deps/"><span>App template and deps</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/async-programming/"><span>Async programming</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/error-flow/"><span>Error flow</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/exception-handling/"><span>Exception handling</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/logging/"><span>Logging</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/nuget-package/"><span>NuGet Package</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/swagger/"><span>Swagger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/general/"><span>Cheat Sheet</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/deployment/"><span>Deployment</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/docker/"><span>Docker</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/docker/without-docker-desktop/"><span>Install Docker without Docker Desktop</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/"><span>Front-end</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/getting-started/"><span>Getting started</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/studio-component/"><span>Studio components</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/developing/"><span>Developing locally</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/routine/"><span>Routines for development</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/new-component/"><span>Creating components</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/react/"><span>React</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/redux/"><span>Redux</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/debug/"><span>Debug</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/best-practices/"><span>Best practices</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/build/"><span>Build</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/component-library/"><span>Component Library</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/error-handling/"><span>Error handling</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/postmessage/"><span>Post Message</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/styling/"><span>Styling (css)</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/versioning/"><span>Versioning</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/cheatsheet/"><span>General</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/getting-started/"><span>Getting started</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/git/"><span>Git</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/naming/"><span>Naming Conventions</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/loadbalancer/"><span>Nginx loadbalancing in studio</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/loadbalancer/ssl-certificate/"><span>Nginx SSL/TLS certificate</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/postgres/"><span>PostgreSQL</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/rest/"><span>RESTful APIs (Representation State Transfer)</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/"><span>Routing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/nginx/"><span>Nginx routing</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/"><span>Traefik routing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/installation/"><span>Installation of Traefik 2.0</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/tls-configuration/"><span>TLS in Traefik 2.0</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/custom-resources/"><span>Traefik custom resources</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/ingress-routes/"><span>Traefik ingress routes</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/securecoding/"><span>Secure DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul><li class="dd-item">
          <a href="/en/community/contributing/handbook/securecoding/checklist/">
            <span>Code Checklist</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/"><span>Test</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/automated-test-app/"><span>App for automated test</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/cypress/"><span>Cypress</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/k6/"><span>k6</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/postman/"><span>Postman</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/test-strategy/"><span>Test Strategy</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/unit-testing/"><span>Unit testing</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/xunit-testing/"><span>Xunit Testing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/branching/"><span>Branching and Pull Requests</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/flight-rules/"><span>Flight Rules</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/gitea/"><span>Gitea</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/reusable-resources/"><span>Reusable resources</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/theming/"><span>Theming and styling</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/troubleshooting/"><span>Troubleshooting</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/"><span>Changelog</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/"><span>App frontend</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v4/"><span>v4</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v4/migrating-from-v3/"><span>Migration from v3</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v3/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/stricter-schema/"><span>JsonSchema</span></a></li><li class="dd-item">
          <a href="/en/community/changelog/app-frontend/designsystem-update/">
            <span>Visual changes</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/"><span>App nuget</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v8/"><span>v8</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v8/migrating-from-v7/"><span>Migration from v7</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v7/"><span>v7</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v7/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v7/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v6/"><span>v6</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v6/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v6/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v5/"><span>v5</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v5/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v5/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v4/"><span>v4</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v4/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v4/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v3/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/older/"><span>Older</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/older/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/older/whats-new/"><span>What&#39;s new</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/"><span>Deployment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/migration/"><span>Migration</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v1/"><span>v1</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v1/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v1/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v2/"><span>v2</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v2/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v2/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v3/whats-new/"><span>What&#39;s new</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/storage-interfaces/"><span>Storage Interface</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/storage-interfaces/v3/"><span>v3</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/storage-interfaces/v2/"><span>v2</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/roadmap/"><span>Roadmap</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/"><span>DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/devops/definition-of-ready/"><span>Definition of Ready</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/roadmapprocess/"><span>Roadmap prosess</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/teams/"><span>Teams</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/devops/teams/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/teams/authorization/"><span>Authorization</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/devops/teams/authorization/designfrontendprocess/"><span>Desgin/Frontend prosess</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/devops/teams/platform/"><span>Platform</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/teams/studio/"><span>Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/presentations/"><span>Presentations</span></a></li></ul></li></ul>
</div>
</nav>

<script>
          $("li.dd-item a[href='/en/community/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/community/changelog/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/community/changelog/app-nuget/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/community/changelog/app-nuget/v7/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/community/changelog/app-nuget/v7/breaking-changes/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">            
            <div id="breadcrumbs">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links" data-pagefind-meta="ðŸž"><a href='/en/community/'>Community</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/community/changelog/'>Changelog</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/community/changelog/app-nuget/'>App nuget</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/community/changelog/app-nuget/v7/'>v7</a> <span class='adocs-breadcrumb-divider'> / </span> Breaking changes</span>
            </div>            
          </div><div id="body-inner"><h1 class="a-fontBold">Breaking changes</h1>
              <p class="a-leadText" id="leadText">Overview of breaking changes introduced in v7.0.0 of the App Nuget packages.</p>

<div class="notices warning" >If your application still is on version v5 or lower you should read the breaking changes guides until your application is updated to v6.</div>
<h2 id="updating-altinnapp-packagereferences-from-v6-to-v7">Updating Altinn.App.* PackageReferences from v6 to v7</h2>
<p>As mentioned <a href="/en/community/changelog/app-nuget/v7/">here</a> we have moved the code around and reduced the number of nugets to two.</p>
<p>To upgrade from v6 nuget to v7 nugets the Altinn.App.* PackageReferences in <code>App/App.csproj</code> needs to be changed from:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;ItemGroup&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;6.0.2&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;CopyToOutputDirectory&gt;</span>lib\$(TargetFramework)\*.xml<span style="color:#ff79c6">&lt;/CopyToOutputDirectory&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/PackageReference&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;6.0.2&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;6.0.2&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">&lt;!-- Additional PackageReferences --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/ItemGroup&gt;</span>
</span></span></code></pre></div><p>to</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;ItemGroup&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;7.0.0&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;CopyToOutputDirectory&gt;</span>lib\$(TargetFramework)\*.xml<span style="color:#ff79c6">&lt;/CopyToOutputDirectory&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/PackageReference&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Core&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;7.0.0&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">&lt;!-- Additional PackageReferences --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/ItemGroup&gt;</span>
</span></span></code></pre></div><p>Once you or your IDE has completed the <code>dotnet restore</code> process your code will have multiple compilation warnings.
Work your way through the rest of this page and you will remove them one at a time.</p>
<h2 id="upgrading-programcs">Upgrading Program.cs</h2>
<p>It&rsquo;s highly recommended to follow the migration guide to <a href="/en/community/changelog/app-nuget/v6/breaking-changes/">v6</a> if your application still
hasn&rsquo;t been upgraded to from v4 or v5.</p>
<p>In previous versions Altinn provided code and registration of custom/override services where hard to separate.
As an attempt to make it easier to see customer provided services we have extracted most of our code and introduced a
new method at the top of Program.cs</p>
<p>Steps:</p>
<ol>
<li>Identify the custom services your application has registered in Program.cs. Take a note of these as we will have to register them again later.</li>
<li>Copy and paste the version 7 of Program.cs from our template at <a href="https://github.com/Altinn/app-template-dotnet/blob/main/src/App/Program.cs">altinn/app-template-dotnet</a> into your <code>App/Program.cs</code> (replacing existing code)</li>
<li>Register your apps custom services from step 1 in the method <code>RegisterCustomAppServices</code></li>
</ol>
<h2 id="replacing-or-upgrading-old-classes-to-implement-new-interfaces">Replacing or upgrading old classes to implement new Interfaces</h2>
<h3 id="upgrade-and-register-dataprocessinghandler">Upgrade and register DataProcessingHandler</h3>
<p>Custom logic while performing DataWrite or DataRead are from v7 handled by registering a service class
implementing <code>Altinn.App.Core.Features.DataProcessing.IDataProcessor</code></p>
<p>If your <code>App/logic/DataProcessing/DataProcessingHandler.cs</code> is similar to the following code you can delete the file and
move
on <a href="#replace-instantiationhandlercs-and-register-new-service">Replace InstantiationHandler.cs and register new service</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.DataProcessing
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">DataProcessingHandler</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; ProcessDataRead(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> Task.FromResult(<span style="color:#ff79c6">false</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; ProcessDataWrite(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> Task.FromResult(<span style="color:#ff79c6">false</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If you have custom code in this class complete the steps below:</p>
<ol>
<li>Create a new class named <code>DataProcessor</code> in the folder <code>App/logic/DataProcessing</code>, make the class implement the interface  <code>Altinn.App.Core.Features.IDataProcessor</code>. The file should now look something like this:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System;
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.DataProcessing;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">DataProcessor</span> : IDataProcessor
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>     <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; ProcessDataRead(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>     {
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>     <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; ProcessDataWrite(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>     {
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div>Note that you might have to add the async keyword if they aren&rsquo;t added by default. You only need to add them if you do async calls within your code.</li>
<li>Move your code from the file <code>App/logic/DataProcessing/DataProcessingHandler.cs</code> to the file you just created.</li>
<li>Register <code>DataProcessor</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IDataProcessor, DataProcessor&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usages.</li>
<li>Delete the old DataProcessingHandler.cs file</li>
</ol>
<h3 id="replace-instantiationhandlercs-and-register-new-service">Replace InstantiationHandler.cs and register new service</h3>
<p>The logic that previously was defined in <code>App/logic/InstantiationHandler.cs</code> is now defined by implementing two interfaces</p>
<ul>
<li><code>IInstantiationProcessor</code> is used to do custom data/instance manipulation during instantiation. Replaces the method <code>DataCreation</code> in <code>InstantiationHandler</code></li>
<li><code>IInstantiationValidator</code> is used to do custom validation during Instantiation. Replaces the method <code>RunInstantiationValidation</code> in <code>InstantiationHandler</code></li>
</ul>
<p>If your <code>App/logic/InstantiationHandler.cs</code> looks like the code below you have no custom code here and can delete the class now and move on to <a href="#upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Services.Interface;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Services.Models.Validation;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationHandler</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">private</span> IProfile _profileService;
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">private</span> IRegister _registerService;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> InstantiationHandler(IProfile profileService, IRegister registerService)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            _profileService = profileService;
</span></span><span style="display:flex;"><span>            _registerService = registerService;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;InstantiationValidationResult&gt; RunInstantiationValidation(Instance instance)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> Task.FromResult((InstantiationValidationResult)<span style="color:#ff79c6">null</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task DataCreation(Instance instance, <span style="color:#8be9fd">object</span> data, Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; prefill)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If you have custom code in the method <code>DataCreation</code> complete these steps:</p>
<ol>
<li>Create a new Class named <code>InstantiationProcessor.cs</code> in <code>App/logic/DataProcessing</code> and implement the interface <code>Altinn.App.Core.Features.IInstantiationProcessor</code>. The class can be named or placed where you like, this is only a suggestion. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.DataProcessing;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationProcessor</span> : IInstantiationProcessor
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task DataCreation(Instance instance, <span style="color:#8be9fd">object</span> data, Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; prefill)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move all the code from <code>DataCreation</code> in <code>ÃŒnstantiationHandler.cs</code> into the method <code>DataCreation</code> in the class you just created.</li>
<li>Register <code>InstantiationProcessor</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstantiationProcessor, InstantiationProcessor&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usages.</li>
</ol>
<p>If you have custom code in the method <code>RunInstantiationValidation</code> complete the steps below, if not delete <code>App/logic/InstantiationHandler.cs</code> and move on to <a href="#upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</a>:</p>
<ol>
<li>Create a new Class named <code>InstantiationValidator.cs</code> in <code>App/logic/Validation</code> and implement the interface <code>Altinn.App.Core.Features.IInstantiationValidator</code>. The class can be named or placed where you like, this is only a suggestion.
The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Models.Validation;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Validation;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationValidator</span> : IInstantiationValidator
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;InstantiationValidationResult&gt; Validate(Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move all the code from <code>RunInstantiationValidation</code> in <code>ÃŒnstantiationHandler.cs</code> into the method <code>Validate</code> in the class you just created.</li>
<li>Register <code>InstantiationValidator</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstantiationValidator, InstantiationValidator&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usages.</li>
</ol>
<p>You can now delete the file <code>App/logic/InstantiationHandler.cs</code></p>
<h3 id="upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</h3>
<p>Custom data and task validation is in v7 handled by registering a service class
implementing <code>Altinn.App.Core.Features.IInstanceValidator</code>.</p>
<p>If your <code>App/logic/Validation/ValidationHandler.cs</code> looks like the code below you have no custom code and can delete the
file. And move on to <a href="">Upgrading custom PdfFormatting</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Microsoft.AspNetCore.Http;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Microsoft.AspNetCore.Mvc.ModelBinding;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Validation
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">ValidationHandler</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">private</span> IHttpContextAccessor _httpContextAccessor;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> ValidationHandler(IHttpContextAccessor httpContextAccessor = <span style="color:#ff79c6">null</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            _httpContextAccessor = httpContextAccessor;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateTask(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If you have custom code here complete the steps below:</p>
<ol>
<li>Create a new class named <code>InstanceValidator</code> in the folder <code>App/logic/Validation</code>, make the class implement the interface <code>Altinn.App.Core.Features.IInstanceValidator</code>. The file should now look something like this:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Microsoft.AspNetCore.Mvc.ModelBinding;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Validation;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstanceValidator</span> : IInstanceValidator
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateTask(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move the code in <code>ValidateData</code> method in the old class <code>ValidatorHandler</code> to the new one in <code>InstanceValidator</code> class.</li>
<li>Move the code in <code>ValidateTask</code> method in the old class <code>ValidatorHandler</code> to the new one in <code>InstanceValidator</code> class.</li>
<li>Register <code>InstanceValidator</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstanceValidator, InstanceValidator&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usages.</li>
<li>Delete the ValidationHandler.cs file.</li>
</ol>
<h3 id="upgrading-custom-pdf-formatting-logic">Upgrading Custom PDF formatting logic</h3>
<p>In previous versions dynamic customization was handled by registering a service implementing ICustomPdfHandler. In v7
this is done by registering a service implementing <code>Altinn.App.Core.Features.Pdf.IPdfFormatter</code></p>
<p>If your <code>App/logic/Pdf/PdfHandler.cs</code> looks like the following code you have no custom code and can delete the file and
move on to <a href="">Updating PageOrder logic</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Common.Models;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.PlatformServices.Interface;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Print
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">PdfHandler</span>: ICustomPdfHandler
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;LayoutSettings&gt; FormatPdf(LayoutSettings layoutSettings, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> Task.FromResult(layoutSettings);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }   
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If not, complete the steps below:</p>
<ol>
<li>Create a new class named <code>PdfFormatter</code> in the folder <code>App/logic/Pdf</code>. make the class implement the interface <code>Altinn.App.Core.Features.IPdfFormatter</code>. The file should now look something like this:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Pdf
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">PdfFormatter</span>: IPdfFormatter
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;LayoutSettings&gt; FormatPdf(LayoutSettings layoutSettings, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }   
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move your code from ICustomPdfHandler to the newly created PdfFormatter class.</li>
<li>Register <code>PdfFormatter</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IPdfFormatter, PdfFormatter&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usages.</li>
<li>Delete the old file</li>
<li>Remove the transient service registration of the old class from <code>Program.cs</code>. Should look something like
this: <code>services.AddTransient&lt;ICustomPdfHandler, PdfHandler&gt;();</code> (remove it by deleting the line)</li>
</ol>
<h3 id="upgrading-pageordercs">Upgrading PageOrder.cs</h3>
<p>In v5 of the nugets tracks or page order was extracted in a non-breaking way from App.cs. The old way was deprecated in
v6 and now removed in v7.</p>
<p>The new way of defining page order in v5 has not really changed in v7, but some interfaces has moved namespace.</p>
<p>If you don&rsquo;t have any classes implementing IPageOrder you can safely move on to <a href="#moving-code-from-appcs-and-removing-it">Moving code form App.cs and removing it</a></p>
<p>If you do have a class implementing IPageOrder here are some changes in namespace that might be helpful to know:</p>
<ul>
<li>The namespace for IPageOrder has changed from <strong>Altinn.App.Services.Interfaces</strong> to <code>Altinn.App.Core.Features.PageOrder</code></li>
<li>The namespace for AppIdentifier has changed from <strong>Altinn.App.PlatformSerices.Models</strong> to <code>Altinn.App.Core.Models</code></li>
<li>The namespace for IAppResources has changed from <strong>Altinn.App.PlatformSerices.Interface</strong> <code>Altinn.App.Core.Interface</code></li>
</ul>
<h2 id="moving-eformidling-code">Moving eFormidling code</h2>
<p>This next chapter only applies to applications which integrates with eFormidling. If yours don&rsquo;t you can move on
to <a href="#moving-code-from-appcs-and-removing-it">Moving code from App.cs and removing it</a></p>
<p>To determine if your app is integrated against eFormidling check if you have defined the
method <code>GenerateEFormidlingMetadata</code> defined in <code>App/logic/App.cs</code></p>
<h3 id="move-code-from-generateeformidlingmetadata-in-appcs">Move code from GenerateEFormidlingMetadata in App.cs</h3>
<ol>
<li>Create a new class named <code>EFormidlingMetadata</code> in the folder <code>App/logic/EFormidling</code>. You can name and place the file whatever and wherever you like, this is just an suggestion. Make the newly created class implement the interface <code>Altinn.App.Core.EFormidling.Interface.IEFormidlingMetadata</code>. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.IO;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.EFormidling.Interface;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.logic.EFormidling;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">EFormidlingMetadata</span> : IEFormidlingMetadata
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> Task&lt;(<span style="color:#8be9fd">string</span> MetadataFilename, Stream Metadata)&gt; GenerateEFormidlingMetadata(Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move the code from the method <code>GenerateEFormidlingMetadata</code> in <code>App/logic/App.cs</code> to the method <code>GenerateEFormidlingMetadata</code> in the class you just created.</li>
</ol>
<h3 id="move-code-from-geteformidlingreceivers-in-appcs">Move code from GetEFormidlingReceivers in App.cs</h3>
<p>If you have no definition of <code>GetEFormidlingReceivers</code> in <code>App/logic/App.cs</code> you can move on to <a href="#register-eformidling-implementation">Register Eformidling implementation</a>. If it is defined complete the following steps</p>
<ol>
<li>Create a new class named <code>EFormidlingReceivers</code>in <code>App/logic/EFormidling</code>. You can name and place the file whatever
and wherever you like, this is just an suggestion. Make the new class implement the
interface <code>Altinn.App.Core.EFormidling.Interface.IEFormidlingReceivers</code>. The file should look something like this
now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.EFormidling.Interface;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Common.EFormidlingClient.Models.SBD;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.logic.EFormidling;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">EFormidlingReceivers</span> : IEFormidlingReceivers
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> Task&lt;List&lt;Receiver&gt;&gt; GetEFormidlingReceivers(Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move the code from the method <code>GetEFormidlingReceivers</code> in <code>App/logic/App.cs</code> to the mwthod <code>GetEformidlingReceivers</code> in the class you just created.</li>
</ol>
<h3 id="register-eformidling-implementation">Register Eformidling implementation</h3>
<p>This step depends on the previous steps. Whether your code has custom logic for GetEFormidlingReceivers or not.</p>
<p>In the method <code>RegisterCustomAppServices</code> in <code>Program.cs</code> you need to register the eFormidling implementation.</p>
<p>To add eFormidling services and your implementation <code>EFormidlingMetadata</code> add this to your <code>RegisterCustomAppServices</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    services.AddEFormidlingServices&lt;EFormidlingMetadata&gt;(config);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This will register the default implementation of <a href="https://github.com/Altinn/app-lib-dotnet/blob/chore/90-appbase-simplified/src/Altinn.App.Core/EFormidling/Implementation/DefaultEFormidlingReceivers.cs">IEFormidlingReceivers</a></p>
<p>If you have a custom implementation of <code>IEFormidlingReceivers</code> you should add your implementation as the second type parameter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    services.AddEFormidlingServices&lt;EFormidlingMetadata, EFormidlingReceivers&gt;(config);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="moving-code-from-appcs-and-removing-it">Moving code from App.cs and removing it</h2>
<p>As we are going to extract code from App.cs and eventually removing it there is no need to pay attention to compilation error.</p>
<p>The next sections will extract custom code from App.cs, if any, and move it to its new home.</p>
<h3 id="moving-custom-code-in-runprocessdataread-and-runprocessdatawrite">Moving custom code in RunProcessDataRead and RunProcessDataWrite</h3>
<p>If <code>RunProcessDataRead</code> and <code>RunProcessDataWrite</code> in <code>App/App.cs</code> looks like the code below you have no custom code and can safely move on to <a href="#moving-code-from-appcs-and-removing-it">Moving custom code in RunDataValidation and RunTaskValidation</a>. If not complete the steps below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">override</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; RunProcessDataRead(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> _dataProcessingHandler.ProcessDataRead(instance, dataId, data);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">override</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; RunProcessDataWrite(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> _dataProcessingHandler.ProcessDataWrite(instance, dataId, data);
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ol>
<li>Move custom code in <code>RunProcessDataRead</code> to the method <code>ProcessDataRead</code> in <code>App/logic/DataProcessing/DataProcessor.cs</code> that was created and registered in the step <a href="#upgrade-and-register-dataprocessinghandler">Upgrade and register DataProcessingHadler</a></li>
<li>Move custom code in <code>RunProcessDataWrite</code> to the method <code>ProcessDataWrite</code> in <code>App/logic/DataProcessing/DataProcessor.cs</code></li>
</ol>
<h3 id="moving-custom-code-in-rundatavalidation-and-runtaskvalidation">Moving custom code in RunDataValidation and RunTaskValidation</h3>
<p>If <code>RunDataValidation</code>and <code>RunTaskValidation</code> looks like the code below you have no custom code and can safely move on to <a href="#moving-custom-code-in-rundatacreation">Moving custom code in RunInstantiationValidation and RunDataCreation</a>. If not complete the steps below</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">override</span> <span style="color:#8be9fd;font-style:italic">async</span> Task RunDataValidation(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> _validationHandler.ValidateData(data, validationResults);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">override</span> <span style="color:#8be9fd;font-style:italic">async</span> Task RunTaskValidation(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> _validationHandler.ValidateTask(instance, taskId, validationResults);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>Move custom code in <code>RunDataValidation</code> to the method <code>ValidateData</code> in <code>App/logic/Validation/InstanceValidator.cs</code> that you created and registered here <a href="#upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</a>.</li>
<li>Move custom code in <code>RunTaskValidation</code> to the method <code>ValidateTask</code> in <code>App/logic/Validation/InstanceValidator.cs</code></li>
</ol>
<h3 id="moving-custom-code-in-rundatacreation">Moving custom code in RunDataCreation</h3>
<p>If <code>RunDataCreation</code> looks like the code below you have no custom code and can safely move on to <a href="#moving-custom-code-in-runinstantiationvalidation">Moving custom code in RunInstantiationValidation</a>. If not complete the steps below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">override</span> <span style="color:#8be9fd;font-style:italic">async</span> Task RunDataCreation(Instance instance, <span style="color:#8be9fd">object</span> data, Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; prefill)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> _instantiationHandler.DataCreation(instance, data, prefill);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>If you haven&rsquo;t already: Create a new class named <code>InstantiationProcessor.cs</code> in <code>App/logic/DataProcessing</code> and implement the interface <code>Altinn.App.Core.Features.IInstantiationProcessor</code>. The class can be named or placed where you like, this is only a suggestion. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.DataProcessing;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationProcessor</span> : IInstantiationProcessor
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task DataCreation(Instance instance, <span style="color:#8be9fd">object</span> data, Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; prefill)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move custom code in <code>DataCreation</code> to the method <code>DataCreation</code> in <code>App/logic/DataProcessing/InstantiationHandler.cs</code> that you created and registered here <a href="#replace-instantiationhandlercs-and-register-new-service">Replace InstantiationHandler.cs and register new service</a></li>
<li>Register <code>InstantiationProcessor</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstantiationProcessor, InstantiationProcessor&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usages.</li>
</ol>
<h3 id="moving-custom-code-in-runinstantiationvalidation">Moving custom code in RunInstantiationValidation</h3>
<p>If <code>RunInstantiationValidation</code> looks like the code below you have no custom code and can safely move on to <a href="#moving-custom-code-in-runprocesstaskend">Moving custom code in RunProcessTaskEnd</a>. If not complete the steps below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">override</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;InstantiationValidationResult&gt; RunInstantiationValidation(Instance instance)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> _instantiationHandler.RunInstantiationValidation(instance);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>If you haven&rsquo;t already: Create a new Class named <code>InstantiationValidator.cs</code> in <code>App/logic/Validation</code> and implement the interface <code>Altinn.App.Core.Features.IInstantiationValidator</code>. The class can be named or placed where you like, this is only a suggestion.
The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Models.Validation;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Validation;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationValidator</span> : IInstantiationValidator
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;InstantiationValidationResult&gt; Validate(Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move all the code from <code>RunInstantiationValidation</code> in <code>ÃŒnstantiationHandler.cs</code> into the method <code>Validate</code> in the class you just created.</li>
<li>Register <code>InstantiationValidator</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstantiationValidator, InstantiationValidator&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usages.</li>
</ol>
<h3 id="moving-custom-code-in-runprocesstaskend">Moving custom code in RunProcessTaskEnd</h3>
<p>If <code>RunProcessTaskEnd</code> looks like the code below you have no custom code and can safely move on to <a href="">Moving custom code in GetPageOrder</a>. If not complete the steps below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">override</span> <span style="color:#8be9fd;font-style:italic">async</span> Task RunProcessTaskEnd(<span style="color:#8be9fd">string</span> taskId, Instance instance)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>Create a new class implementing the Interface <code>Altinn.App.Core.Features.IProcessTaskEnd</code> you can name and place this class wherever you like, but as a suggestion you can create and place it in the folder <code>App/logic/TaskProcessors</code> and name the file ProcessTaskEnd.
The class should look something like this after the interface is implemented:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.TaskProcessors;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">ProcessTaskEnd</span>: IProcessTaskEnd
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> Task End(<span style="color:#8be9fd">string</span> taskId, Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">return</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move code from <code>RunProcessTaskEnd</code>to the method <code>IProcessTaskEnd</code>in the class implementing IProcessTaskEnd</li>
<li>Register your custom implementation of <code>IProcessTaskEnd</code> in the method <code>RegisterCustomAppServices</code> inside <code>App/Program.cs</code></li>
</ol>
<h3 id="moving-custom-code-in-getpageorder">Moving custom code in GetPageOrder</h3>
<p>If <code>GetPageOrder</code> in <code>App/logic/App.cs</code> is not present you have no custom code and can safely move on the <a href="#removing-appcs">Removing App.cs</a>. If not complete the steps below.</p>
<ol>
<li>Create a new class implementing the interface <code>Altinn.App.Core.Features.IPageOrder</code> you can name and place this class wherever you like in your project, but a suggestion is to name it <code>PageOrder</code> and place it in the folder <code>App/logic/PageOrder</code>. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Models;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Interface;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.PageOrder;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">PageOrder</span> : IPageOrder
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task&lt;List&lt;<span style="color:#8be9fd">string</span>&gt;&gt; GetPageOrder(AppIdentifier appIdentifier, InstanceIdentifier instanceIdentifier, <span style="color:#8be9fd">string</span> layoutSetId, <span style="color:#8be9fd">string</span> currentPage, <span style="color:#8be9fd">string</span> dataTypeId, <span style="color:#8be9fd">object</span> formData)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move the code from <code>GetPageOrder</code> to the method <code>GetPageOrder</code> in the class you just created.</li>
<li>Register your custom implementation of <code>IPageOrder</code> in the method <code>RegisterCustomAppServices</code> inside <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>   services.AddTransient&lt;IPageOrder, PageOrder&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div>Remember to add the necessary usages.</li>
</ol>
<h3 id="removing-appcs">Removing App.cs</h3>
<p>Now all your custom code should be moved out of App.cs, take a look in the file and see if there is any code you need to
move left.</p>
<p>See the old
default <code>App.cs</code> <a href="https://github.com/Altinn/app-template-dotnet/blob/5bcad2d485b3806b127604f2434d3ab833a7d142/src/App/logic/App.cs">here</a></p>
<p>If you don&rsquo;t see any code worth keeping go ahead and delete the file. All of the logic Altinn used to have in this file is moved elsewhere in our code and should not leak into you application code.</p>
<h2 id="notable-namespace-changes">Notable namespace changes</h2>
<p>This is truly not a complete list of alle the changes to namespace we have done in v7, for that see the actual PR
on <a href="">Github</a></p>
<p>The following list is some of the namespaces that have changed that we think will affect most of the applications</p>
<ul>
<li>Interfaces that service owners naturally overrides/customize is moved from <code>Altinn.App.PlatformServices.Interfaces</code>
to <code>Altinn.App.Core.Features</code></li>
<li><code>Altinn.App.Common.Models</code> namespace is moved to <code>Altinn.App.Core.Models</code></li>
<li><code>Altinn.App.PlatformServices.Interface.ICustomPdfHandler</code> interface is moved and renamed
to: <code>Altinn.App.Core.Features.Pdf.IPdfFormatter</code></li>
</ul>
<h2 id="recommended-plugin-for-visual-studio-code">Recommended plugin for Visual Studio Code</h2>
<p>There are a lot of changes to namespaces so we strongly recommend using Visual Studio Code with the C# plugin installed.
This will give you code help for importing and locating new or changed interfaces.</p>
<p>Plugin information:<br/>
Name: <em>C#</em><br/>
Id: <em>ms-dotnettools.csharp</em><br/>
Description: <em>C# for Visual Studio Code (powered by OmniSharp).</em><br/>
Publisher: <em>Microsoft</em><br/>
VS Marketplace Link: <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp">https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp</a></p>


<footer class=" footline" ></footer>
                </div>
              </div>
              
              
            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/community/changelog/app-nuget/v7/breaking-changes/_index.en.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Edit page on GitHub
                  </a>
                </div></section>
        </div> 
        <div class="col-md-2 d-none d-md-block">
          <div class="toc-container">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#updating-altinnapp-packagereferences-from-v6-to-v7">Updating Altinn.App.* PackageReferences from v6 to v7</a></li>
    <li><a href="#upgrading-programcs">Upgrading Program.cs</a></li>
    <li><a href="#replacing-or-upgrading-old-classes-to-implement-new-interfaces">Replacing or upgrading old classes to implement new Interfaces</a>
      <ul>
        <li><a href="#upgrade-and-register-dataprocessinghandler">Upgrade and register DataProcessingHandler</a></li>
        <li><a href="#replace-instantiationhandlercs-and-register-new-service">Replace InstantiationHandler.cs and register new service</a></li>
        <li><a href="#upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</a></li>
        <li><a href="#upgrading-custom-pdf-formatting-logic">Upgrading Custom PDF formatting logic</a></li>
        <li><a href="#upgrading-pageordercs">Upgrading PageOrder.cs</a></li>
      </ul>
    </li>
    <li><a href="#moving-eformidling-code">Moving eFormidling code</a>
      <ul>
        <li><a href="#move-code-from-generateeformidlingmetadata-in-appcs">Move code from GenerateEFormidlingMetadata in App.cs</a></li>
        <li><a href="#move-code-from-geteformidlingreceivers-in-appcs">Move code from GetEFormidlingReceivers in App.cs</a></li>
        <li><a href="#register-eformidling-implementation">Register Eformidling implementation</a></li>
      </ul>
    </li>
    <li><a href="#moving-code-from-appcs-and-removing-it">Moving code from App.cs and removing it</a>
      <ul>
        <li><a href="#moving-custom-code-in-runprocessdataread-and-runprocessdatawrite">Moving custom code in RunProcessDataRead and RunProcessDataWrite</a></li>
        <li><a href="#moving-custom-code-in-rundatavalidation-and-runtaskvalidation">Moving custom code in RunDataValidation and RunTaskValidation</a></li>
        <li><a href="#moving-custom-code-in-rundatacreation">Moving custom code in RunDataCreation</a></li>
        <li><a href="#moving-custom-code-in-runinstantiationvalidation">Moving custom code in RunInstantiationValidation</a></li>
        <li><a href="#moving-custom-code-in-runprocesstaskend">Moving custom code in RunProcessTaskEnd</a></li>
        <li><a href="#moving-custom-code-in-getpageorder">Moving custom code in GetPageOrder</a></li>
        <li><a href="#removing-appcs">Removing App.cs</a></li>
      </ul>
    </li>
    <li><a href="#notable-namespace-changes">Notable namespace changes</a></li>
    <li><a href="#recommended-plugin-for-visual-studio-code">Recommended plugin for Visual Studio Code</a></li>
  </ul>
</nav></div>
        </div>
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">About Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://digdir-samarbeid.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <style>
      #TableOfContents {overflow-x: visible; overflow-y: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      #TableOfContents::-webkit-scrollbar {display: none;  }
      #TableOfContents > ul > li {margin-top: 0.8em !important; list-style-type:none; list-style-position:inside;}
      #TableOfContents li li {margin-left: 0.4em; list-style-type:circle;}
      #TableOfContents li li:has(a.text-active) {list-style-type:disc;}
      #TableOfContents a {border-bottom: 2px solid transparent;}
      #TableOfContents a.text-active, #TableOfContents a:hover {border-bottom: 2px solid #1EAEF7;}
    </style>
    <script>
      
      class Scroller {
        static init() {
          if(document.querySelector('#TableOfContents')) {
            this.tocLinks = document.querySelectorAll('#TableOfContents a');
            this.headers = Array.from(this.tocLinks).map(link => {
              var s = link.href.split('#')[1];
              s = s.replace(/%C3%A6/g, "Ã¦");
              s = s.replace(/%C3%B8/g, "Ã¸");
              s = s.replace(/%C3%A5/g, "Ã¥");

              return document.getElementById(s);
            })
            this.ticking = false;
            window.addEventListener('scroll', (e) => {
              this.onScroll()
            })
          }
        }

        static onScroll() {
          if(!this.ticking) {
            requestAnimationFrame(this.update.bind(this));
            this.ticking = true;
          }
        }

        static update() {
          this.activeHeader ||= this.headers[0];
          let activeIndex = this.headers.findIndex((header) => {
            if (header != null) {
              return header.getBoundingClientRect().top > 180;
            }
          });
          if(activeIndex == -1) {
            activeIndex = this.headers.length - 1;
          } else if(activeIndex > 0) {
            activeIndex--;
          }
          let active = this.headers[activeIndex];
          if(active !== this.activeHeader) {
            this.activeHeader = active;
            this.tocLinks.forEach(link => link.classList.remove('text-active'));
            this.tocLinks[activeIndex].classList.add('text-active');
          }
          this.ticking = false;
        }
      }

      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
      if (document.getElementById("TableOfContents")) {
        var a = new StickySidebar('.toc-container', {
          topSpacing: 20,
          bottomSpacing: 60,
          containerSelector: '.adocs-scrollcontainer',
          innerWrapperSelector: '#TableOfContents',
          minWidth: 768
        });
      }
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) { Scroller.init();});
      mermaid.initialize({startOnLoad:true});
    </script>
<script src="/js/custom.js"></script></body>
</html>

