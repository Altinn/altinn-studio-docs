<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Overview of breaking changes introduced into app nuget packages in v1.0.62-alpha to 2.0.1" />
<meta name="altinn_pagedir" class="elastic" content="community/changelog/app-nuget/older/breaking-changes/" />
<meta name="altinn_title" class="elastic" content="Breaking changes" />



<title>Breaking changes â€“ Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">

    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script>

<script>
if (window.location.hostname != "localhost") {
    
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://siteimproveanalytics.com/js/siteanalyze_6255470.js';
    document.head.appendChild(script);
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/en/community/changelog/app-nuget/older/breaking-changes/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Jump to the main content</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Jump to the main menu</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/en/" class="a-globalNav-logo">
            <img src="/images/altinn-new-logo-white.svg" alt="Altinn logo" class="adocs-logo">
            <span class="sr-only">To the frontpage</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Show/hide menu</span></button>

          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <span>Product</span>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle">
    <a aria-hidden="true" class="dropdown-item" href="/en/altinn-studio/v8/">
      <p class="product-item">Altinn Studio</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/authorization/">
      <p class="product-item">Authorization</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/dialogporten/">
      <p class="product-item">Dialogporten</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/broker/">
      <p class="product-item">Broker</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/events/">
      <p class="product-item">Events</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/correspondence/">
      <p class="product-item">Correspondence</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/notifications/">
      <p class="product-item">Notifications</p>
    </a>
</div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/community/">community</a>
              </li>
            </ul>
          </div>
        </nav> 

        <ul class="nav nav-pills a-header-options" id="nav-list">
           <li class="nav-item d-md-block">
              <button id="search-button" class="nav-link adocs-toggle-search" type="button"
                  data-toggle="collapse" data-target="#collapseSearchContent" aria-expanded="false" aria-controls="collapseSearchContent"
                  onclick="setTimeout(function(){document.getElementsByClassName('pagefind-ui__search-input')[0].focus()},100); return true;">
                  <span>
                      <i class="ai ai-search">
                        <span class="sr-only">Search</span></i>
                  </span>
              </button>
          </li>
          <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <img src="/images/en.svg" class="" alt="Language" style="height: 1.2em; vertical-align: bottom;"/>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle" style="z-index:100000;"><a aria-hidden="true" class="dropdown-item" href="/nb/community/changelog/app-nuget/older/breaking-changes/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">BokmÃ¥l</span><br></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/en/community/changelog/app-nuget/older/breaking-changes/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English âœ“</span><br></p>
    </a></div>
</li>
        </ul>

      </div>
    </div> 
  </div> 
</header>

<div id="collapseSearchContent" class="a-collapseContent adocs-collapseSearch collapse">
  <div class="a-collapseContent-inside px-0">
    <div class="bg-white pt-3 pb-3"><div class="container">
    <div class="row">
         
        <div class="form-group a-form-group a-form-group-large col-sm-12">
            <label class="a-h2" for="search-by">What are you looking for?</label>
            <div id="search-by" style="margin: auto;" class=""></div>
        </div>
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
        <script src="/pagefind/pagefind-ui.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search-by",
                    pageSize: 10,
                    excerptLength: 25,
                    showSubResults: true,
                    resetStyles: true,
                    showImages: true,
                    processResult: function (result) {
                        if (result?.meta?.image) {
                            let resultBase = new URL(result.url, window.location);
                            let remappedImage = new URL(result.meta.image, resultBase);
                            if (remappedImage.hostname !== window.location.hostname) {
                                result.meta.image = remappedImage.toString();
                            } else {
                                result.meta.image = remappedImage.pathname;
                            }
                        }
                    }
                });
                
                var searchField = document.getElementsByClassName("pagefind-ui__search-input")[0];
                if (searchField) {
                    searchField.setAttribute('aria-label', 'Search');
                }

                var sKey = "as";
                searchField.addEventListener("blur", () => {
                    sessionStorage.setItem(sKey, searchField.value);
                });

                var searchButton = document.getElementById("search-button");
                searchButton.addEventListener("click", () => {
                    var scrollContainer = document.getElementsByClassName('adocs-scrollcontainer')[0];
                    if (!searchField.checkVisibility()) {
                        scrollContainer.setAttribute('style', 'visibility: hidden !important');
                    } else {
                        scrollContainer.removeAttribute('style');
                    }
                }); 
                
                if (sessionStorage.getItem(sKey)) {
                    searchField.value = sessionStorage.getItem(sKey);
                    searchField.dispatchEvent(new Event("input"));
                }
            });
        </script>
        <style>
          :root {
            --pagefind-ui-scale: 0.9;
            --pagefind-ui-text: #000000;
            --pagefind-ui-border: #1EAEF7;
            --pagefind-ui-border-radius: 0;
          }
          .pagefind-ui__search-input::placeholder {
            color: #757575 !important;
            opacity: 1 !important;
            font-weight: normal !important;
          }
          .pagefind-ui__result-link:hover, .pagefind-ui__result-link:hover {
            text-decoration: none !important;
          }
          .pagefind-ui__form:before {
            opacity: 1 !important;
          }
        </style>
        
    </div>
</div></div>
  </div>
</div>
<div class="container pt-2 pt-md-3 pt-lg-5">      
      <div class="adocs-scrollcontainer">
        <div class="row">
          <div class="col-sm-12 col-md-10 last-modified">Last modified: Sep 18, 2023</div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-10"><nav id="sidebar" class=""><div class="highlightable">
  <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/en/community/"><span>Community</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/about/"><span>About</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/about/goals/"><span>Goals</span></a></li>
      <li class="dd-item">
        <a href="/en/community/about/open-source/"><span>Open source</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/"><span>Contributing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/propose-component/"><span>Propose a new component</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/develop-component/"><span>Develop a component</span></a></li><li class="dd-item">
          <a href="/en/community/contributing/intro/">
            <span>Intro for developers</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/"><span>Handbook</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-devops/"><span>Azure DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-devops/pipelines/"><span>Pipelines</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-storage/"><span>Azure Storage</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-storage/tools/"><span>Tools &amp; Software</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/azure-storage/queues/"><span>Queues</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/"><span>Back-end</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/app-template-and-deps/"><span>App template and deps</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/async-programming/"><span>Async programming</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/error-flow/"><span>Error flow</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/exception-handling/"><span>Exception handling</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/logging/"><span>Logging</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/nuget-package/"><span>NuGet Package</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/back-end/swagger/"><span>Swagger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/general/"><span>Cheat Sheet</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/deployment/"><span>Deployment</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/docker/"><span>Docker</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/docker/without-docker-desktop/"><span>Install Docker without Docker Desktop</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/"><span>Front-end</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/getting-started/"><span>Getting started</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/studio-component/"><span>Studio components</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/developing/"><span>Developing locally</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/routine/"><span>Routines for development</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/new-component/"><span>Creating components</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/react/"><span>React</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/redux/"><span>Redux</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/debug/"><span>Debug</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/best-practices/"><span>Best practices</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/build/"><span>Build</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/component-library/"><span>Component Library</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/error-handling/"><span>Error handling</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/postmessage/"><span>Post Message</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/styling/"><span>Styling (css)</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/front-end/versioning/"><span>Versioning</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/cheatsheet/"><span>General</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/getting-started/"><span>Getting started</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/git/"><span>Git</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/naming/"><span>Naming Conventions</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/loadbalancer/"><span>Nginx loadbalancing in studio</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/loadbalancer/ssl-certificate/"><span>Nginx SSL/TLS certificate</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/postgres/"><span>PostgreSQL</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/rest/"><span>RESTful APIs (Representation State Transfer)</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/"><span>Routing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/nginx/"><span>Nginx routing</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/"><span>Traefik routing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/installation/"><span>Installation of Traefik 2.0</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/tls-configuration/"><span>TLS in Traefik 2.0</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/custom-resources/"><span>Traefik custom resources</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/routing/traefik/ingress-routes/"><span>Traefik ingress routes</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/securecoding/"><span>Secure DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul><li class="dd-item">
          <a href="/en/community/contributing/handbook/securecoding/checklist/">
            <span>Code Checklist</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/"><span>Test</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/automated-test-app/"><span>App for automated test</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/cypress/"><span>Cypress</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/k6/"><span>k6</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/postman/"><span>Postman</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/test-strategy/"><span>Test Strategy</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/unit-testing/"><span>Unit testing</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/test/xunit-testing/"><span>Xunit Testing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/branching/"><span>Branching and Pull Requests</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/flight-rules/"><span>Flight Rules</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/gitea/"><span>Gitea</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/reusable-resources/"><span>Reusable resources</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/theming/"><span>Theming and styling</span></a></li>
      <li class="dd-item">
        <a href="/en/community/contributing/handbook/troubleshooting/"><span>Troubleshooting</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/"><span>Changelog</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/"><span>App frontend</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v4/"><span>v4</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v4/migrating-from-v3/"><span>Migration from v3</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/v3/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-frontend/stricter-schema/"><span>JsonSchema</span></a></li><li class="dd-item">
          <a href="/en/community/changelog/app-frontend/designsystem-update/">
            <span>Visual changes</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/"><span>App nuget</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v8/"><span>v8</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v8/migrating-from-v7/"><span>Migration from v7</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v7/"><span>v7</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v7/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v7/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v6/"><span>v6</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v6/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v6/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v5/"><span>v5</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v5/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v5/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v4/"><span>v4</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v4/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v4/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/v3/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/older/"><span>Older</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/older/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/app-nuget/older/whats-new/"><span>What&#39;s new</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/"><span>Deployment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/migration/"><span>Migration</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v1/"><span>v1</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v1/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v1/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v2/"><span>v2</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v2/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v2/whats-new/"><span>What&#39;s new</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/deployment/v3/whats-new/"><span>What&#39;s new</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/changelog/storage-interfaces/"><span>Storage Interface</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/changelog/storage-interfaces/v3/"><span>v3</span></a></li>
      <li class="dd-item">
        <a href="/en/community/changelog/storage-interfaces/v2/"><span>v2</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/roadmap/"><span>Roadmap</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/"><span>DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/devops/definition-of-ready/"><span>Definition of Ready</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/roadmapprocess/"><span>Roadmap prosess</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/teams/"><span>Teams</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/devops/teams/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/teams/authorization/"><span>Authorization</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/community/devops/teams/authorization/designfrontendprocess/"><span>Desgin/Frontend prosess</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/devops/teams/platform/"><span>Platform</span></a></li>
      <li class="dd-item">
        <a href="/en/community/devops/teams/studio/"><span>Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/community/presentations/"><span>Presentations</span></a></li></ul></li></ul>
</div>
</nav>

<script>
          $("li.dd-item a[href='/en/community/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/community/changelog/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/community/changelog/app-nuget/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/community/changelog/app-nuget/older/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/community/changelog/app-nuget/older/breaking-changes/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">            
            <div id="breadcrumbs">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links" data-pagefind-meta="ðŸž"><a href='/en/community/'>Community</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/community/changelog/'>Changelog</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/community/changelog/app-nuget/'>App nuget</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/community/changelog/app-nuget/older/'>Older</a> <span class='adocs-breadcrumb-divider'> / </span> Breaking changes</span>
            </div>            
          </div><div id="body-inner"><h1 class="a-fontBold">Breaking changes</h1>
              <p class="a-leadText" id="leadText">Overview of breaking changes introduced into app nuget packages in v1.0.62-alpha to 2.0.1</p>

<h2 id="support-for-auto-delete-when-process-ends">Support for auto delete when process ends</h2>
<p>For some apps, the fact that there&rsquo;s traces of it in the user archive (and the data is stored) is a problem (e.g. for
security reasons).
The Altinn.App.* packages has been updated to support auto delete when process ends. This is introduced with version
2.0.0-alpha of the packages.</p>
<p>Updating to this version will require changes in multiple files.</p>
<ol>
<li>
<p>Updated package dependencies
Navigate to you application repository and find <code>App.csproj</code> in the <code>App</code> folder.
Update nuget dependencies in <code>App.csproj</code> to version 2.0.0.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;2.0.0&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;2.0.0&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;2.0.0&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>Changes in App.cs</p>
<p>Change constructor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> App(
</span></span><span style="display:flex;"><span>IAppResources appResourcesService,
</span></span><span style="display:flex;"><span>ILogger&lt;App&gt; logger,
</span></span><span style="display:flex;"><span>IData dataService,
</span></span><span style="display:flex;"><span>IProcess processService,
</span></span><span style="display:flex;"><span>IPDF pdfService,
</span></span><span style="display:flex;"><span>IProfile profileService,
</span></span><span style="display:flex;"><span>IRegister registerService,
</span></span><span style="display:flex;"><span>IPrefill prefillService
</span></span><span style="display:flex;"><span>) : <span style="color:#ff79c6">base</span>(appResourcesService, logger, dataService, processService, pdfService, prefillService)
</span></span></code></pre></div><p>to:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> App(
</span></span><span style="display:flex;"><span>  IAppResources appResourcesService,
</span></span><span style="display:flex;"><span>  ILogger&lt;App&gt; logger,
</span></span><span style="display:flex;"><span>  IData dataService,
</span></span><span style="display:flex;"><span>  IProcess processService,
</span></span><span style="display:flex;"><span>  IPDF pdfService,
</span></span><span style="display:flex;"><span>  IProfile profileService,
</span></span><span style="display:flex;"><span>  IRegister registerService,
</span></span><span style="display:flex;"><span>  IPrefill prefillService,
</span></span><span style="display:flex;"><span>  IInstance instanceService
</span></span><span style="display:flex;"><span>  ) : <span style="color:#ff79c6">base</span>(appResourcesService, logger, dataService, processService, pdfService, prefillService, instanceService)
</span></span></code></pre></div></li>
</ol>
<h2 id="designer-moves-formlayoutjson-from-appui-to-appuilayouts">Designer moves FormLayout.json from app/ui to app/ui/layouts</h2>
<p>In order to support multiple pages in an app we have done some restructuring of the app-template. When you are doing changes in Altinn Designer for your app the updated FormLayout.json will be put under the new structure.
For apps that have nuget references to <code>Altinn.App.Api</code>, <code>Altinn.App.Common</code>, and <code>Altinn.App.PlatformServices</code> with versions below version <code>1.2.0</code> this will make the app unable to find the FormLayout.json on the network call against the app.</p>
<ol>
<li>
<p>Navigate to you application repository and find <code>App.csproj</code> in the <code>App</code> folder.
Update nuget dependencies in <code>App.csproj</code> to version 1.2.0-alpha or newer. We recommend updating to latest version which is currently at <code>1.3.1</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.3.1&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.3.1&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.3.1&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>If there are some breaking changes when updating the nuget-version this should be documented below.</p>
</li>
</ol>
<h2 id="added-registration-of-events-to-the-new-events-component">Added registration of events to the new Events component</h2>
<p>The Altinn.App.* packages has been updated to work with the new Events component in Altinn. This is introduced with version 1.1.11-alpha of the packages.</p>
<p>Updating to this version will require changes in multiple files.</p>
<ol>
<li>
<p>Updated package dependencies
Navigate to you application repository and find <code>App.csproj</code> in the <code>App</code> folder.
Update nuget dependencies in <code>App.csproj</code> to version 1.1.11-alpha or newer..</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.1.11-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.1.11-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.1.11-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>Changes in Startup.cs:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>services.AddHttpClient&lt;IEvents, EventsAppSI&gt;();
</span></span></code></pre></div><p>Startup already have multiple similar lines with calls to AddHttpClient. Add the new line anywhere among them.</p>
<p>This will probably also require two new lines at the top of the file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.PlatformServices.Implementation;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.PlatformServices.Interface;
</span></span></code></pre></div></li>
<li>
<p>Changes in appsettings.json:</p>
</li>
</ol>
<p>A new property has been included in called <code>PlatformSettings.ApiEventsEndpoint</code>.
The value here is used for local test and will be replaced during deploy to test and production environments.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#f1fa8c">&#34;PlatformSettings&#34;</span>: {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;ApiEventsEndpoint&#34;</span>: <span style="color:#f1fa8c">&#34;http://localhost:5101/events/api/v1/&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>|```
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The default behaviour of the logic is to not send events. To override this there is a new setting called `AppSettings:RegisterEventsWithEventsComponent`.
</span></span><span style="display:flex;"><span>Update the appsettings file by adding an entry in the AppSettings section:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>```json
</span></span><span style="display:flex;"><span><span style="color:#f1fa8c">&#34;AppSettings&#34;</span>: {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;RegisterEventsWithEventsComponent&#34;</span>: <span style="color:#ff79c6">false</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Change the setting to true if the app should create and send events. Please note that the feature is under continued development and still considered experimental.</p>
<h2 id="support-for-deleting-instances-from-endpoint-in-app">Support for deleting instances from endpoint in app</h2>
<p><a href="https://github.com/Altinn/altinn-studio/issues/4871">#4871</a> was fixed with in release of 1.1.10-alpha of the app nugets.
<strong>This change only affects users and app owners that try to delete an instance.</strong></p>
<h3 id="errors">Errors</h3>
<p>403 response when trying to delete an instance using the endpoint exposed in the application.</p>
<h3 id="how-to-fix">How to fix</h3>
<p>If you are not using 1.1.10-alpha or above. Start by upgrading the nuget references in you application.
If you are running a newer release, skip to step 2.</p>
<ol>
<li>
<p>Navigate to you application repository and find <code>App.csproj</code> in the <code>App</code> folder.
Update nuget dependencies in <code>App.csproj</code> to version 1.1.10-alpha or newer..</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.1.10-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.1.10-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.1.10-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>Navigate to you application repository and find <code>Startup.cs</code> in the <code>App</code> folder.
Add a new line to the <code>services.AddAuthorization</code>-section.
The following should be added</p>
<p><code>options.AddPolicy(&quot;InstanceDelete&quot;, policy =&gt; policy.Requirements.Add(new AppAccessRequirement(&quot;delete&quot;)));</code></p>
<p>and the final result should look like this</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>  services.AddAuthorization(options =&gt;
</span></span><span style="display:flex;"><span>         {
</span></span><span style="display:flex;"><span>             options.AddPolicy(<span style="color:#f1fa8c">&#34;InstanceRead&#34;</span>, policy =&gt; policy.Requirements.Add(<span style="color:#ff79c6">new</span> AppAccessRequirement(<span style="color:#f1fa8c">&#34;read&#34;</span>)));
</span></span><span style="display:flex;"><span>             options.AddPolicy(<span style="color:#f1fa8c">&#34;InstanceWrite&#34;</span>, policy =&gt; policy.Requirements.Add(<span style="color:#ff79c6">new</span> AppAccessRequirement(<span style="color:#f1fa8c">&#34;write&#34;</span>)));
</span></span><span style="display:flex;"><span>             options.AddPolicy(<span style="color:#f1fa8c">&#34;InstanceDelete&#34;</span>, policy =&gt; policy.Requirements.Add(<span style="color:#ff79c6">new</span> AppAccessRequirement(<span style="color:#f1fa8c">&#34;delete&#34;</span>)));
</span></span><span style="display:flex;"><span>             options.AddPolicy(<span style="color:#f1fa8c">&#34;InstanceInstantiate&#34;</span>, policy =&gt; policy.Requirements.Add(<span style="color:#ff79c6">new</span> AppAccessRequirement(<span style="color:#f1fa8c">&#34;instantiate&#34;</span>)));
</span></span><span style="display:flex;"><span>             options.AddPolicy(<span style="color:#f1fa8c">&#34;InstanceComplete&#34;</span>, policy =&gt; policy.Requirements.Add(<span style="color:#ff79c6">new</span> AppAccessRequirement(<span style="color:#f1fa8c">&#34;complete&#34;</span>)));
</span></span><span style="display:flex;"><span>         });
</span></span></code></pre></div></li>
<li>
<p>If deleting instances should be available for the application owner this must be explicitly stated in the application
policy.
The required rule is
documented <a href="https://altinn.github.io/docs/altinn-studio/app-creation/autorisasjon/regelbibliotek/#org-can-delete-an-instance-of-orgapp-in-any-task-or-event">here</a>
.</p>
</li>
</ol>
<h2 id="update-path-of-data-protection-keys-for-apps">Update path of Data Protection Keys for Apps</h2>
<p><a href="https://github.com/Altinn/altinn-studio/issues/4843">#4483</a> changed the way we use data protection keys in order to improve the support for running locally. These keys are used in <a href="https://docs.microsoft.com/en-us/aspnet/core/security/anti-request-forgery?view=aspnetcore-3.1">XSRF-protection</a>.
When you are running apps locally, we are using the default behaviour (directory under current user) for .Net Core. The path is passed with an environment variable when running in an apps cluster. This change requires the deployment.yaml file to be updated with the correct variable.</p>
<p><strong>The change affects all application created in Altinn Studio before 30.09.2020 using Altinn.App.PlatformServices 1.1.8-alpha and above</strong></p>
<h3 id="errors-1">Errors</h3>
<p>User may experience errors posting data when the app is restarted or when multiple replicas are used.</p>
<h3 id="how-to-fix-1">How to fix</h3>
<p>You need to add the environment variable in the <code>deployment.yaml</code> file. If you have not done any changes to the file previously, you can copy the file from <a href="https://github.com/Altinn/altinn-studio/blob/master/src/Altinn.Apps/AppTemplates/AspNet/deployment/templates/deployment.yaml">here</a>, otherwise you need to update the file directly. Both the name of the environment variable and the value must be set as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff79c6">env</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff79c6">name</span>: ALTINN_KEYS_DIRECTORY
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">value</span>: <span style="color:#f1fa8c">&#34;/mnt/keys&#34;</span>
</span></span></code></pre></div><p><figure>
    <a href="4843-deployment.png">
        <img src="4843-deployment.png" alt="4843-deployment" title="Deployment.yaml file">
    </a>
    <figcaption><em>Deployment.yaml file</em></figcaption>
  </figure></p>
<h2 id="build-pipeline-failed-on-task-build-and-push-docker-image-to-acr">Build pipeline failed on task: Build and push docker image to acr</h2>
<p>A namespace was renamed in <code>Altinn.App.PlatformServices</code> Version=&ldquo;1.1.2-alpha causing the build of the application to fail
if references to this namespace isn&rsquo;t changed.</p>
<p>This affects all applications created before June 2020 that reference nuget versions &gt;= 1.1.2-alpha.</p>
<h3 id="errors-2">Errors</h3>
<p>Build pipeline fails due to failing task: <em>Build and push docker image to acr</em>.</p>
<p>Expanding the task reveals error message:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Startup.cs<span style="color:#ff79c6">(</span>5,35<span style="color:#ff79c6">)</span>: error CS0234: The <span style="color:#8be9fd;font-style:italic">type</span> or namespace name <span style="color:#f1fa8c">&#39;Extensions&#39;</span> does not exist in the namespace <span style="color:#f1fa8c">&#39;Altinn.App.PlatformServices&#39;</span> <span style="color:#ff79c6">(</span>are you missing an assembly reference?<span style="color:#ff79c6">)</span><span style="color:#f1fa8c">&#34;.
</span></span></span></code></pre></div><p>Screenshot of the failing build pipeline.
<figure>
    <a href="breaking-change-namespace-rename.png">
        <img src="breaking-change-namespace-rename.png" alt="Build error in pipeline" title="Build error in pipeline">
    </a>
    <figcaption><em>Build error in pipeline</em></figcaption>
  </figure></p>
<h3 id="how-to-fix-2">How to fix</h3>
<ol>
<li>Navigate to you application repository and find <code>Startup.cs</code> in the <code>App</code> folder.</li>
<li>Change <code>using Altinn.App.PlatformServices.Extentions;</code> to <code>using Altinn.App.PlatformServices.Extensions;</code></li>
<li>If you have a local code editor, confirm that the code is able to compile locally before building the app in Altinn Studio.</li>
</ol>
<h2 id="deploy-pipeline-failed-to-set-subscription-key">Deploy pipeline failed to set subscription key</h2>
<p>Introduced in the newest version of Azure Powershell, which is used during deploy of apps. The change results in the
subscription key for the app not being set. The subscription key is needed for the apps to have access to the platform APIs.</p>
<p>This only affects apps that were deployed some time within the period July 7th - July 22nd. Apps deployed
for the <em>first time</em> to a specific environment are not affected.</p>
<h3 id="errors-3">Errors</h3>
<p>Users will experience that instantiation fails, and only a blue screen is shown. If looking
at the network traffic during instantiation, users will see that the call to <code>user</code> fails with code <code>404</code>.</p>
<h3 id="how-to-fix-3">How to fix</h3>
<p>The deployment pipeline has been updated. Re-deploying the app to the same environment will solve the problem
(no need to trigger another build).</p>
<h2 id="property-type-changed-for-userprofileprofilesettingpreference">Property type changed for UserProfile.ProfileSettingPreference</h2>
<p>Introduced with issue: <a href="https://github.com/Altinn/altinn-studio/issues/4466">#4466</a> and release v2020.28.<br>
<strong>The change affects all applications in TT02 and PR with nuget version 1.0.98 and lower.</strong></p>
<h3 id="errors-4">Errors</h3>
<p>App doesn&rsquo;t load only the blue background is visible.</p>
<h3 id="how-to-fix-4">How to fix</h3>
<ol>
<li>Navigate to you application repository and find <code>App.csproj</code> in the <code>App</code> folder.
Update nuget dependencies in <code>App.csproj</code> from 1.0.86. to version 1.1.0-alpha.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.86-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.86-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.86-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span></code></pre></div></li>
<li>Modify the function <em>ConfigureServices()</em> in  <em>App/Startup.cs</em>.</li>
</ol>
<p>Include the lines below in the function.
Anywhere would do, but we suggest referencing the memory cache after _ services.AddControllersWithViews()_
and the HttpClient in the same section as the other AppSI services.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>services.AddMemoryCache();
</span></span><span style="display:flex;"><span>services.AddHttpClient&lt;IText, TextAppSI&gt;();
</span></span></code></pre></div><p>Your code changes should match the image below.</p>
<p><figure>
    <a href="breaking-change-4451.png">
        <img src="breaking-change-4451.png" alt="Diff in code" title="Diff in code">
    </a>
    <figcaption><em>Diff in code</em></figcaption>
  </figure></p>
<h2 id="new-endpoint-introduced-in-altinnappsapi-exposing-application-text-resources">New endpoint introduced in Altinn.Apps.Api exposing application text resources</h2>
<p>Introduced with issue: <a href="https://github.com/Altinn/altinn-studio/issues/4451">#4451</a> and nuget 1.1.0.-alpha.<br>
<strong>The change affects all application created in Altinn Studio before 8.07.2020 using nuget versions 1.1.0-alpha</strong></p>
<h3 id="errors-5">Errors</h3>
<h3 id="how-to-fix-5">How to fix</h3>
<p>Once the <a href="https://altinn.github.io/docs/altinn-studio/app-creation/update/#oppgradere-til-nyeste-versjon">nuget references are updated</a> to version 1.1.0-alpha,
modify the function <em>ConfigureServices()</em> in  <em>App/Startup.cs</em>.</p>
<p>Include the lines below in the function.
Anywhere would do, but we suggest referencing the memory cache after _ services.AddControllersWithViews()_
and the HttpClient in the same section as the other AppSI services.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>services.AddMemoryCache();
</span></span><span style="display:flex;"><span>services.AddHttpClient&lt;IText, TextAppSI&gt;();
</span></span></code></pre></div><p>Your code changes should match the image below.</p>
<p><figure>
    <a href="breaking-change-4451.png">
        <img src="breaking-change-4451.png" alt="Diff in code" title="Diff in code">
    </a>
    <figcaption><em>Diff in code</em></figcaption>
  </figure></p>
<h2 id="platform-authorization-introduced-for-platform-register-and-profile">Platform authorization introduced for Platform Register and Profile</h2>
<p>Introduced with issue: <a href="https://github.com/altinn/altinn-studio/issues/4162">#4162</a> and Release: v2020.23.<br>
<strong>The change affects all application created in Altinn Studio before 03.06.2020.</strong></p>
<h3 id="errors-6">Errors</h3>
<p>Users will experience that instantiation, form filling and viewing receipt fails with the following error:</p>
<p><figure>
    <a href="breaking_change_ukjent_feil.png">
        <img src="breaking_change_ukjent_feil.png" alt="Unknown error page" title="Unknown-error">
    </a>
    <figcaption><em>Unknown-error</em></figcaption>
  </figure></p>
<p>When checking the network log one will find that the POST request to
<a href="https://ttd.apps.at22.altinn.cloud/ttd/apps-test/instances?instanceOwnerPartyId=">https://ttd.apps.at22.altinn.cloud/ttd/apps-test/instances?instanceOwnerPartyId=</a> fails with status code 404.</p>
<h3 id="how-to-fix-6">How to fix</h3>
<p>There are three steps you must take in order to update your application to adhere to the breaking change.</p>
<ol>
<li>Update <code>values.yaml</code> in the <code>deployment</code> folder in your application repository.
If no custom changes have been made to this file since you created the application, simply replace the content of the file with
<a href="https://raw.githubusercontent.com/Altinn/altinn-studio/e6b43fb8c3e71c16ca4a3bb47a5ff6f208b71854/src/studio/AppTemplates/AspNet/deployment/values.yaml">this code</a>.<br>
The picture illustrates which changes are required in the file if you wish to do it manually,
or inspect your code. Be ware that indentation is important when working with .yaml files.
<figure>
    <a href="breaking_change_new-volume-in-values.png">
        <img src="breaking_change_new-volume-in-values.png" alt="add new volume to values" title="add-new-volume-to-values">
    </a>
    <figcaption><em>add-new-volume-to-values</em></figcaption>
  </figure></li>
<li>Update nuget dependencies in <code>App.csproj</code> to version 1.0.86-alpha.
Navigate to you application repository and find <code>App.csproj</code> in the <code>App</code> folder.
Upgrade the three Altinn.App nuget packages to version 1.0.86.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.86-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.86-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.86-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span></code></pre></div></li>
<li>Update <code>Startup.cs</code> in the <code>App</code> folder in your application repository.
If no custom changes have been made to this file since you created the application, simply replace the content of the file with
<a href="https://raw.githubusercontent.com/Altinn/altinn-studio/e6b43fb8c3e71c16ca4a3bb47a5ff6f208b71854/src/studio/AppTemplates/AspNet/App/Startup.cs">this code</a>.
The picture illustrates which changes are required in the file if you wish to do it manually,
or inspect your code.</li>
</ol>
<p><figure>
    <a href="breaking_change_startup_nuget_86.png">
        <img src="breaking_change_startup_nuget_86.png" alt="Update startup" title="Update Startup.cs">
    </a>
    <figcaption><em>Update Startup.cs</em></figcaption>
  </figure></p>
<h2 id="updated-client-side-validation---frontend-v2-and-nuget-v1082-alpha">Updated client-side validation - frontend v2 and Nuget v1.0.82-alpha</h2>
<p>Introduced with issue: <a href="https://github.com/Altinn/altinn-studio/issues/3944">#3944</a>, and applies to existing apps that upgrade to the new major version of app frontend (v2).</p>
<p>The client-side validation of the app frontend has been replaced with a JSON-schema validation in order to provide a more complete client-side validation.
As of v2 of app frontend, client-side validation has support for type-checking basic types, including enums.
When upgrading the frontend version to v2, the app <em>must</em> use nuget versions 1.0.82-alpha or newer. See details below.</p>
<p>In order to implement this, we have made changes to how we bind the data model to fields in the forms.</p>
<div class="notices info" >The change is only breaking for apps using OR-type xsd (or have fields with <code>-</code>-character in xsd).
Most Seres-type data models will not be affected, and will work without needing to make changes, even after updating to v2 of app frontend.
If you do experience any problems with submitting/validating form data even with a seres-type xsd, follow the steps below.</div>
<h3 id="errors-7">Errors</h3>
<p>For apps that use an OR-type xsd (or have fields with <code>-</code>-character in xsd), the app may crash during submission/validation because the data model binding used does not match the true path in the json schema (and xsd). This is because we have been using a simplified path previously, to match with the C# model. We have now changed that so that the data binding name corresponds to the true xpath for the field.</p>
<h3 id="how-to-fix-7">How to fix</h3>
<ul>
<li>
<p>If using app frontend v2 or newer, make sure app is using nuget packages v1.0.82-alpha or newer. See <a href="https://altinn.github.io/docs/altinn-studio/app-creation/update">documentation on how to update dependencies.</a>.</p>
</li>
<li>
<p>Open the app in altinn.studio and upload datamodel again to generate a new version of the model files, with all the updated paths.</p>
<ul>
<li><em>Please note that this overwrites any texts in the text resource files, so make sure to save a copy or push the app to the app repo before doing this, to recover any texts that might disappear.</em></li>
</ul>
</li>
<li>
<p>Update data model bindings in altinn.studio UI Editor, or update FormLayout.json with new data model bindings (see below for new format).</p>
<ul>
<li>Each part of the path now corresponds to the xname of the field in the xsd. F.ex:</li>
</ul>
<p>XSD:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;xs:schema</span> <span style="color:#50fa7b">xmlns:xs=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">&lt;!--title=&#39;Eksempel xsd skjema&#39; lang=&#39;NOB&#39;--&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;xs:element</span> <span style="color:#50fa7b">name=</span><span style="color:#f1fa8c">&#34;Skjema&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xs:complexType&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xs:sequence&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xs:element</span> <span style="color:#50fa7b">minOccurs=</span><span style="color:#f1fa8c">&#34;0&#34;</span> <span style="color:#50fa7b">ref=</span><span style="color:#f1fa8c">&#34;SomeGroup-grp-1111&#34;</span> <span style="color:#ff79c6">/&gt;&lt;/xs:element&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xs:sequence&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xs:anyAttribute</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xs:complexType&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/xs:element&gt;</span>
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&lt;xs:element</span> <span style="color:#50fa7b">name=</span><span style="color:#f1fa8c">&#34;SomeGroup-grp-1111&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xs:complexType&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xs:sequence&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xs:element</span> <span style="color:#50fa7b">minOccurs=</span><span style="color:#f1fa8c">&#34;0&#34;</span> <span style="color:#50fa7b">ref=</span><span style="color:#f1fa8c">&#34;SomeField-datadef-12345&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xs:sequence&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xs:attribute</span> <span style="color:#50fa7b">fixed=</span><span style="color:#f1fa8c">&#34;1111&#34;</span> <span style="color:#50fa7b">name=</span><span style="color:#f1fa8c">&#34;gruppeid&#34;</span> <span style="color:#50fa7b">type=</span><span style="color:#f1fa8c">&#34;xs:positiveInteger&#34;</span> <span style="color:#50fa7b">use=</span><span style="color:#f1fa8c">&#34;required&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xs:complexType&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/xs:element&gt;</span>
</span></span><span style="display:flex; background-color:#3d3f4a"><span>  <span style="color:#ff79c6">&lt;xs:element</span> <span style="color:#50fa7b">name=</span><span style="color:#f1fa8c">&#34;SomeField-datadef-12345&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xs:simpleContent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xs:extension</span> <span style="color:#50fa7b">base=</span><span style="color:#f1fa8c">&#34;SomeTextformat&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xs:attribute</span> <span style="color:#50fa7b">fixed=</span><span style="color:#f1fa8c">&#34;12345&#34;</span> <span style="color:#50fa7b">name=</span><span style="color:#f1fa8c">&#34;orid&#34;</span> <span style="color:#50fa7b">type=</span><span style="color:#f1fa8c">&#34;xs:positiveInteger&#34;</span> <span style="color:#50fa7b">use=</span><span style="color:#f1fa8c">&#34;required&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xs:extension&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xs:simpleContent&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xs:complexType&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/xs:element&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;xs:simpleType</span> <span style="color:#50fa7b">name=</span><span style="color:#f1fa8c">&#34;SomeTextformat&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xs:restriction</span> <span style="color:#50fa7b">base=</span><span style="color:#f1fa8c">&#34;xs:string&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xs:length</span> <span style="color:#50fa7b">value=</span><span style="color:#f1fa8c">&#34;11&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xs:restriction&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/xs:simpleType&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;/xs:schema&gt;</span>
</span></span></code></pre></div><ul>
<li>Old format for data model binding: <code>someGroupgrp1111.someFielddatatef12345.value</code>.</li>
<li>New format for data model binding: <code>SomeGroup-grp-1111.SomeField-datadef-12345</code>.</li>
</ul>
<p><em>Once the data model and bindings are updated, build and deploy app for the changes to take effect.</em></p>
<h2 id="error-when-attempting-to-create-an-instance-as-application-owner">Error when attempting to create an instance as Application Owner</h2>
<p>Introduced with issue: <a href="https://github.com/Altinn/altinn-studio/issues/3738">#3738</a>.</p>
<p>The Register API had a few GET operations that took an input parameter through the body of an http request.
Requests against these operations would work in AT environments, but would be broken by API Management in production like environments.
The operations in question has now been removed and replaced with operations that require POST requests.</p>
<h3 id="errors-8">Errors</h3>
<p>The methods that have been removed were used by an app when an instantiation were done by the Application owner.
More specifically if the instanceOwnerPartyId were unknown.
The instantiation request would then have the Person number or organization number instead, and the Register operation would be used to identify the correct party id.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>POST https:<span style="color:#6272a4">//{org}.apps.tt02.altinn.no/{app-id}/instances/
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;appId&#34;</span> : <span style="color:#f1fa8c">&#34;org/app&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;instanceOwner&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;personNumber&#34;</span>: <span style="color:#f1fa8c">&#34;12247918309&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;organisationNumber&#34;</span>: <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;instanceOwnerPartyId&#34;</span>: <span style="color:#ff79c6">null</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="how-to-fix-8">How to fix</h3>
<p>Any issues related to this change can be fixed by upgrading to the latest version of <a href="https://www.nuget.org/packages/Altinn.App.PlatformServices/">Altinn.App.PlatformServices</a>.
This means the App must be updated and a the new version deployed to all environments. Existing instances are not affected.</p>
<h2 id="deploy-pipeline-fails-with-error-upgrade-failed">Deploy pipeline fails with error: UPGRADE FAILED</h2>
<p>Introduced with upgrade of AKS cluster.
The api version (extensions/v1beta1) used to deploy apps
to the AKS cluster is no longer supported.</p>
<h3 id="errors-9">Errors</h3>
<p>When triggering deploy from altinn.studio the deploy fails.
On closer inspection of the pipeline (byggloggen)
the error message below is shown at the end of the failed step.</p>
<p><figure>
    <a href="helm-upgrade-error.png">
        <img src="helm-upgrade-error.png" alt="Console error message" title="Helm upgrade error">
    </a>
    <figcaption><em>Helm upgrade error</em></figcaption>
  </figure></p>
<h3 id="how-to-fix-9">How to fix</h3>
<p>To fix this issue  the deployment to use a new api version.
Navigate to you application repository and find <em>deployment.yaml</em>.
It is placed in the folder <em>deployment/templates</em>.</p>
<p>Make the changes spesified below to the file, and update the repository.
Remember to pull the latest version in altinn.studio before attempting to re-deploy.</p>
<p><figure>
    <a href="helm-upgrade-error-fix.png">
        <img src="helm-upgrade-error-fix.png" alt="Code diff view" title="Helm upgrade error fix">
    </a>
    <figcaption><em>Helm upgrade error fix</em></figcaption>
  </figure></p>
<ul>
<li>
<p>Change apiVersion from extensions/v1beta1 to apps/v1.</p>
</li>
<li>
<p>Add the following lines under <em>replicas</em> in the <em>spec</em> section.
Be ware of indentation here. Two spaces are used as indent for sub sections.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff79c6">selector</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">matchLabels</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">app</span>: {{ template &#34;name&#34; . }}
</span></span></code></pre></div><h2 id="send-in--validation-fails-with-ukjent-feil">Send-in / Validation fails with &lsquo;Ukjent feil&rsquo;</h2>
<p>Introduced with issue: <a href="https://github.com/Altinn/altinn-studio/issues/3927">#3927</a>.</p>
<p>There was a vulnerability in the solution allowing to update a whole instance object
using an endpoint in app backend or storage. This has been solved by refactoring app backend
and removing the endpoints.</p>
<h3 id="error">Error</h3>
<p>When sending in an instance after completing form filling the error below i prompted.
In network you can see that the &lsquo;validate&rsquo;-request receives a 500 code in response.</p>
<p><figure>
    <a href="3927-illustration.png">
        <img src="3927-illustration.png" alt="Error page" title="Send-in error">
    </a>
    <figcaption><em>Send-in error</em></figcaption>
  </figure></p>
<h3 id="how-to-fix-10">How to fix</h3>
<p>Navigate to you application repository and find App.csproj.
Upgrade the three Altinn.App nugetpackages to version 1.0.78.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.78-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.78-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;1.0.78-alpha&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span></code></pre></div><h2 id="validation-fails-for-attachments-in-some-cases-after-30032020">Validation fails for attachments in some cases after 30.03.2020</h2>
<p>Introduced with issues: <a href="https://github.com/Altinn/altinn-studio/issues/1925">#1925</a> and <a href="https://github.com/Altinn/altinn-studio/issues/3915">#3915</a>.</p>
<p>In Altinn Studio, all data types that were created from a FileUpload component were set with <code>allowedContentTypes: [application/octet-stream]</code> as default.</p>
<p>This was also set for all uploads from the app. This has now been changed, so that the
file types defined by the app developer are also set in <code>allowedContentTypes</code>, and the file upload is sent
with the corresponding <code>Content-Type</code> of the file in the request header.</p>
<h3 id="error-1">Error</h3>
<p>Apps that were created before the fix was implemented (30.03.2020) may experience that validation
fails for the attachment, even though it is of the correct format specified in Altinn Studio. This is
because the dataType for the attachment expects <code>application/octet-stream</code>, but instead receives the actual
mime type for the uploaded file.</p>
<h3 id="how-to-fix-11">How to fix</h3>
<p>Update <code>allowedContentTypes</code> for the data type that fails. This can either be done manually in the applications
<code>applicationMetadata.json</code> for the affected data type(s) or by updating the FileUpload component in Altinn Studio
so that the expected <code>allowedContentTypes</code> are saved.</p>
<p>After updating, the app must be re-deployed.</p>
<h2 id="build-fails-after-upgrading-altinnapp-nugets-to-version-1062-alpha">Build fails after upgrading Altinn.App-nugets to version 1.0.62-alpha</h2>
<p>Introduced with issue: <a href="https://github.com/Altinn/altinn-studio/issues/3820">#3820</a>.</p>
<p>The base class that every application inherits has been altered to allow for both data and task validation.</p>
<h3 id="error-2">Error</h3>
<p>When building App.cs errors similar to those depicted in the picture below are logged.</p>
<p><figure>
    <a href="3820-errors.png">
        <img src="3820-errors.png" alt="build-errors" title="Build errors">
    </a>
    <figcaption><em>Build errors</em></figcaption>
  </figure></p>
<h3 id="how-to-fix-12">How to fix</h3>
<p>If you haven&rsquo;t made any changes to <code>App/logic/Validation/ValidationHandler.cs</code> and <code>App/logic/App.cs</code>
the quickest way to fix the build errors are to copy these files from the template and paste them into your repository.
Find the template files <a href="https://github.com/Altinn/altinn-studio/tree/master/src/studio/AppTemplates/AspNet/App/logic">here</a>.</p>
<p>If changes have been made to these files, follow the instructions below to fix the errors.</p>
<h4 id="applogicvalidationvalidationhandlercs">App/logic/Validation/ValidationHandler.cs</h4>
<ol>
<li>Add a reference to <em>Altinn.Platform.Storage.Interface.Models</em> by including the snippet below amongst the using statements.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span></code></pre></div></li>
<li>Add the function below in the class.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">async</span> Task ValidateTask(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ol>
<h4 id="applogicappcs">App/logic/App.cs</h4>
<ol>
<li>Rename function <code>RunValidation</code> to <code>RunDataValidation</code></li>
<li>Add the function below in the class</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">/// Run validation event to perform custom validations</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">/// &lt;param name=&#34;validationResults&#34;&gt;Object to contain any validation errors/warnings&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">/// &lt;returns&gt;Value indicating if the form is valid or not&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">override</span> <span style="color:#8be9fd;font-style:italic">async</span> Task RunTaskValidation(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> _validationHandler.ValidateTask(instance, taskId, validationResults);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

<footer class=" footline" ></footer>
                </div>
              </div>
              
              
            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/community/changelog/app-nuget/older/breaking-changes/_index.en.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Edit page on GitHub
                  </a>
                </div></section>
        </div> 
        <div class="col-md-2 d-none d-md-block">
          <div class="toc-container">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#support-for-auto-delete-when-process-ends">Support for auto delete when process ends</a></li>
    <li><a href="#designer-moves-formlayoutjson-from-appui-to-appuilayouts">Designer moves FormLayout.json from app/ui to app/ui/layouts</a></li>
    <li><a href="#added-registration-of-events-to-the-new-events-component">Added registration of events to the new Events component</a></li>
    <li><a href="#support-for-deleting-instances-from-endpoint-in-app">Support for deleting instances from endpoint in app</a>
      <ul>
        <li><a href="#errors">Errors</a></li>
        <li><a href="#how-to-fix">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#update-path-of-data-protection-keys-for-apps">Update path of Data Protection Keys for Apps</a>
      <ul>
        <li><a href="#errors-1">Errors</a></li>
        <li><a href="#how-to-fix-1">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#build-pipeline-failed-on-task-build-and-push-docker-image-to-acr">Build pipeline failed on task: Build and push docker image to acr</a>
      <ul>
        <li><a href="#errors-2">Errors</a></li>
        <li><a href="#how-to-fix-2">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#deploy-pipeline-failed-to-set-subscription-key">Deploy pipeline failed to set subscription key</a>
      <ul>
        <li><a href="#errors-3">Errors</a></li>
        <li><a href="#how-to-fix-3">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#property-type-changed-for-userprofileprofilesettingpreference">Property type changed for UserProfile.ProfileSettingPreference</a>
      <ul>
        <li><a href="#errors-4">Errors</a></li>
        <li><a href="#how-to-fix-4">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#new-endpoint-introduced-in-altinnappsapi-exposing-application-text-resources">New endpoint introduced in Altinn.Apps.Api exposing application text resources</a>
      <ul>
        <li><a href="#errors-5">Errors</a></li>
        <li><a href="#how-to-fix-5">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#platform-authorization-introduced-for-platform-register-and-profile">Platform authorization introduced for Platform Register and Profile</a>
      <ul>
        <li><a href="#errors-6">Errors</a></li>
        <li><a href="#how-to-fix-6">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#updated-client-side-validation---frontend-v2-and-nuget-v1082-alpha">Updated client-side validation - frontend v2 and Nuget v1.0.82-alpha</a>
      <ul>
        <li><a href="#errors-7">Errors</a></li>
        <li><a href="#how-to-fix-7">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#error-when-attempting-to-create-an-instance-as-application-owner">Error when attempting to create an instance as Application Owner</a>
      <ul>
        <li><a href="#errors-8">Errors</a></li>
        <li><a href="#how-to-fix-8">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#deploy-pipeline-fails-with-error-upgrade-failed">Deploy pipeline fails with error: UPGRADE FAILED</a>
      <ul>
        <li><a href="#errors-9">Errors</a></li>
        <li><a href="#how-to-fix-9">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#send-in--validation-fails-with-ukjent-feil">Send-in / Validation fails with &lsquo;Ukjent feil&rsquo;</a>
      <ul>
        <li><a href="#error">Error</a></li>
        <li><a href="#how-to-fix-10">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#validation-fails-for-attachments-in-some-cases-after-30032020">Validation fails for attachments in some cases after 30.03.2020</a>
      <ul>
        <li><a href="#error-1">Error</a></li>
        <li><a href="#how-to-fix-11">How to fix</a></li>
      </ul>
    </li>
    <li><a href="#build-fails-after-upgrading-altinnapp-nugets-to-version-1062-alpha">Build fails after upgrading Altinn.App-nugets to version 1.0.62-alpha</a>
      <ul>
        <li><a href="#error-2">Error</a></li>
        <li><a href="#how-to-fix-12">How to fix</a>
          <ul>
            <li><a href="#applogicvalidationvalidationhandlercs">App/logic/Validation/ValidationHandler.cs</a></li>
            <li><a href="#applogicappcs">App/logic/App.cs</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
        </div>
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">About Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://digdir-samarbeid.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <style>
      #TableOfContents {overflow-x: visible; overflow-y: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      #TableOfContents::-webkit-scrollbar {display: none;  }
      #TableOfContents > ul > li {margin-top: 0.8em !important; list-style-type:none; list-style-position:inside;}
      #TableOfContents li li {margin-left: 0.4em; list-style-type:circle;}
      #TableOfContents li li:has(a.text-active) {list-style-type:disc;}
      #TableOfContents a {border-bottom: 2px solid transparent;}
      #TableOfContents a.text-active, #TableOfContents a:hover {border-bottom: 2px solid #1EAEF7;}
    </style>
    <script>
      
      class Scroller {
        static init() {
          if(document.querySelector('#TableOfContents')) {
            this.tocLinks = document.querySelectorAll('#TableOfContents a');
            this.headers = Array.from(this.tocLinks).map(link => {
              var s = link.href.split('#')[1];
              s = s.replace(/%C3%A6/g, "Ã¦");
              s = s.replace(/%C3%B8/g, "Ã¸");
              s = s.replace(/%C3%A5/g, "Ã¥");

              return document.getElementById(s);
            })
            this.ticking = false;
            window.addEventListener('scroll', (e) => {
              this.onScroll()
            })
          }
        }

        static onScroll() {
          if(!this.ticking) {
            requestAnimationFrame(this.update.bind(this));
            this.ticking = true;
          }
        }

        static update() {
          this.activeHeader ||= this.headers[0];
          let activeIndex = this.headers.findIndex((header) => {
            if (header != null) {
              return header.getBoundingClientRect().top > 180;
            }
          });
          if(activeIndex == -1) {
            activeIndex = this.headers.length - 1;
          } else if(activeIndex > 0) {
            activeIndex--;
          }
          let active = this.headers[activeIndex];
          if(active !== this.activeHeader) {
            this.activeHeader = active;
            this.tocLinks.forEach(link => link.classList.remove('text-active'));
            this.tocLinks[activeIndex].classList.add('text-active');
          }
          this.ticking = false;
        }
      }

      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
      if (document.getElementById("TableOfContents")) {
        var a = new StickySidebar('.toc-container', {
          topSpacing: 20,
          bottomSpacing: 60,
          containerSelector: '.adocs-scrollcontainer',
          innerWrapperSelector: '#TableOfContents',
          minWidth: 768
        });
      }
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) { Scroller.init();});
      mermaid.initialize({startOnLoad:true});
    </script>
<script src="/js/custom.js"></script></body>
</html>

