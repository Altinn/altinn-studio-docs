<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A run-through of the implementation of the Altinn CLI" />
<meta name="altinn_pagedir" class="elastic" content="technology/solutions/cli/software-implementation/" />
<meta name="altinn_title" class="elastic" content="Software implementation" />

<meta name="diataxis" data-pagefind-filter="Type[content]" content="Reference" />

<title>Software implementation â€“ Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">

    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script>

<script>
if (window.location.hostname != "localhost") {
    
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://siteimproveanalytics.com/js/siteanalyze_6255470.js';
    document.head.appendChild(script);
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/en/technology/solutions/cli/software-implementation/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Jump to the main content</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Jump to the main menu</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/en/" class="a-globalNav-logo">
            <img src="/images/altinn-new-logo-white.svg" alt="Altinn logo" class="adocs-logo">
            <span class="sr-only">To the frontpage</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Show/hide menu</span></button>

          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <span>Product</span>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle">
    <a aria-hidden="true" class="dropdown-item" href="/en/altinn-studio/v8/">
      <p class="product-item">Altinn Studio</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/authorization/">
      <p class="product-item">Authorization</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/dialogporten/">
      <p class="product-item">Dialogporten</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/broker/">
      <p class="product-item">Broker</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/events/">
      <p class="product-item">Events</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/correspondence/">
      <p class="product-item">Correspondence</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/notifications/">
      <p class="product-item">Notifications</p>
    </a>
</div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/community/">community</a>
              </li>
            </ul>
          </div>
        </nav> 

        <ul class="nav nav-pills a-header-options" id="nav-list">
           <li class="nav-item d-md-block">
              <button id="search-button" class="nav-link adocs-toggle-search" type="button"
                  data-toggle="collapse" data-target="#collapseSearchContent" aria-expanded="false" aria-controls="collapseSearchContent"
                  onclick="setTimeout(function(){document.getElementsByClassName('pagefind-ui__search-input')[0].focus()},100); return true;">
                  <span>
                      <i class="ai ai-search">
                        <span class="sr-only">Search</span></i>
                  </span>
              </button>
          </li>
          <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <img src="/images/en.svg" class="" alt="Language" style="height: 1.2em; vertical-align: bottom;"/>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle" style="z-index:100000;"><a aria-hidden="true" class="dropdown-item" href="/nb/technology/solutions/cli/software-implementation/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">BokmÃ¥l</span><br></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/en/technology/solutions/cli/software-implementation/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English âœ“</span><br></p>
    </a></div>
</li>
        </ul>

      </div>
    </div> 
  </div> 
</header>

<div id="collapseSearchContent" class="a-collapseContent adocs-collapseSearch collapse">
  <div class="a-collapseContent-inside px-0">
    <div class="bg-white pt-3 pb-3"><div class="container">
    <div class="row">
         
        <div class="form-group a-form-group a-form-group-large col-sm-12">
            <label class="a-h2" for="search-by">What are you looking for?</label>
            <div id="search-by" style="margin: auto;" class=""></div>
        </div>
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
        <script src="/pagefind/pagefind-ui.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search-by",
                    pageSize: 10,
                    excerptLength: 25,
                    showSubResults: true,
                    resetStyles: true,
                    showImages: true,
                    processResult: function (result) {
                        if (result?.meta?.image) {
                            let resultBase = new URL(result.url, window.location);
                            let remappedImage = new URL(result.meta.image, resultBase);
                            if (remappedImage.hostname !== window.location.hostname) {
                                result.meta.image = remappedImage.toString();
                            } else {
                                result.meta.image = remappedImage.pathname;
                            }
                        }
                    }
                });
                
                var searchField = document.getElementsByClassName("pagefind-ui__search-input")[0];
                if (searchField) {
                    searchField.setAttribute('aria-label', 'Search');
                }

                var sKey = "as";
                searchField.addEventListener("blur", () => {
                    sessionStorage.setItem(sKey, searchField.value);
                });

                var searchButton = document.getElementById("search-button");
                searchButton.addEventListener("click", () => {
                    var scrollContainer = document.getElementsByClassName('adocs-scrollcontainer')[0];
                    if (!searchField.checkVisibility()) {
                        scrollContainer.setAttribute('style', 'visibility: hidden !important');
                    } else {
                        scrollContainer.removeAttribute('style');
                    }
                }); 
                
                if (sessionStorage.getItem(sKey)) {
                    searchField.value = sessionStorage.getItem(sKey);
                    searchField.dispatchEvent(new Event("input"));
                }
            });
        </script>
        <style>
          :root {
            --pagefind-ui-scale: 0.9;
            --pagefind-ui-text: #000000;
            --pagefind-ui-border: #1EAEF7;
            --pagefind-ui-border-radius: 0;
          }
          .pagefind-ui__search-input::placeholder {
            color: #757575 !important;
            opacity: 1 !important;
            font-weight: normal !important;
          }
          .pagefind-ui__result-link:hover, .pagefind-ui__result-link:hover {
            text-decoration: none !important;
          }
          .pagefind-ui__form:before {
            opacity: 1 !important;
          }
        </style>
        
    </div>
</div></div>
  </div>
</div>
<div class="container pt-2 pt-md-3 pt-lg-5">      
      <div class="adocs-scrollcontainer">
        <div class="row">
          <div class="col-sm-12 col-md-10 last-modified">Last modified: Sep 29, 2025</div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-10"><nav id="sidebar" class=""><div class="highlightable">
  <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/en/technology/"><span>Technology</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/"><span>Architecture</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/requirements/"><span>Requirements</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/requirements/functional/"><span>Functional</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/requirements/non_functional/"><span>Non-Functional</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/principles/"><span>Principles</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/patterns/"><span>Patterns</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/"><span>Capabilities</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/"><span>Runtime</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/appdeploy/"><span>App Build &amp; Deploy</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/appdevelopment/"><span>App Development</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/data/"><span>Data</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/integration/"><span>Integration</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/presentation/"><span>Presentation</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/processing/"><span>Processing &amp; Execution</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/processing/process/"><span>Process</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/security/"><span>Security</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/security/authentication/"><span>Authentication</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/security/authentication/accesstoken/"><span>Access Token</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/security/authentication/authentication-api/"><span>Authentication API</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/security/authentication/jwt-format/"><span>JWT Format</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/security/authentication/oidcproviders/"><span>OIDC Providers</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/security/authorization/"><span>Authorization</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/runtime/security/encryption/"><span>Encryption</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/"><span>DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/analysisanddesign/"><span>Analysis &amp; Design</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/build_and_test/"><span>Build &amp; Test</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/build_and_test/build/"><span>Build process</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/environments/"><span>Environments</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/platformoperations/"><span>Platform Operations</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/platformoperations/backupandrecovery/"><span>Backup &amp; Recovery</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/platformoperations/infrastructuremgmt/"><span>Infrastructure mgmt</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/platformoperations/monitoring/"><span>Monitoring</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/projectmanagement/"><span>Project Management</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/quality/"><span>Quality Management</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/softwareconfiguration/"><span>Software Configuration</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/softwareconfiguration/deployment/"><span>Deployment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/capabilities/devops/softwareconfiguration/deployment/altinn-studio/"><span>Altinn Studio</span></a></li></ul></li></ul></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/"><span>Components</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/"><span>Application</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/"><span>Construction</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-apps/"><span>Altinn Apps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-apps/kuberneteswrapper/"><span>Kubernetes Wrapper</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-apps/routing/"><span>Routing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-platform/"><span>Altinn Platform</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-platform/profile/"><span>Profile</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-platform/receipt/"><span>Receipt</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-platform/register/"><span>Register</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-platform/storage/"><span>Storage</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/construction/altinn-platform/ttplog/"><span>Storage</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/nonsolutionspecific/"><span>Non-Solution</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/nonsolutionspecific/development/"><span>Development</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/nonsolutionspecific/operations/"><span>Operations</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/application/nonsolutionspecific/operations/backupandrecovery/"><span>Backup &amp; Recovery</span></a></li></ul></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/data/"><span>Data</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/data/conceptual/"><span>Conceptual</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/data/logical/"><span>Logical</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/infrastructure/"><span>Infrastructure</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/infrastructure/computing/"><span>Compute</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/infrastructure/computing/scaling/"><span>Scaling</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/infrastructure/network/"><span>Network</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/infrastructure/storage/"><span>Storage</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/platform/"><span>Platform</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/platform/datareporting/"><span>Data &amp; Reporting</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/platform/integration/"><span>Integration</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/platform/logicexecution/"><span>Logic Execution</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/platform/oscloudplatform/"><span>OS &amp; Cloud Platform</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/platform/oscloudplatform/kubernetes/"><span>Kubernetes</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/platform/presentation/"><span>Presentation</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/architecture/components/platform/presentation/altinn-cdn/"><span>Altinn CDN</span></a></li></ul></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/architecture/informationmodel/"><span>Information Model</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/solutions/"><span>Solutions</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/solutions/altinn-apps/"><span>Altinn Apps</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/solutions/altinn-platform/"><span>Altinn Platform</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/solutions/altinn-platform/profile/"><span>Profile</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/solutions/altinn-platform/receipt/"><span>Receipt</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/solutions/altinn-platform/storage/"><span>Storage</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/solutions/altinn-platform/ttplog/"><span>TTP Log</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/solutions/cli/"><span>Altinn CLI</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/solutions/cli/commands/"><span>Commands</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/solutions/cli/configuration/"><span>Configuration</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/solutions/cli/configuration/maskinporten-setup/"><span>Maskinporten</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/solutions/cli/software-implementation/"><span>Software implementation</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/terms/"><span>Terms</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/"><span>Tools</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/tools/dotnet-core/"><span>.NET</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/alpine-linux/"><span>Alpine Linux</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/bpmn/"><span>BPMN</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/c-sharp/"><span>C#</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/docker/"><span>Docker</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/git/"><span>Git</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/gitea/"><span>Gitea</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/go/"><span>Go</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/grafana/"><span>Grafana</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/helm/"><span>Helm</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/hugo/"><span>Hugo</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/jest/"><span>Jest</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/kubernetes/"><span>Kubernetes</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/markdown/"><span>Markdown</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/nginx/"><span>Nginx</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/node-js/"><span>Node.js</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/prometheus/"><span>Prometheus</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/react/"><span>React</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/technology/tools/react/architecture/"><span>Kodearkitektur</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/react/redux/"><span>Redux</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/technology/tools/terraform/"><span>Terraform</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/traefik/"><span>Traefik</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/typescript/"><span>TypeScript</span></a></li>
      <li class="dd-item">
        <a href="/en/technology/tools/vs-code/"><span>Visual Studio Code</span></a></li></ul></li></ul></li></ul>
</div>
</nav>

<script>
          $("li.dd-item a[href='/en/technology/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/technology/solutions/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/technology/solutions/cli/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/technology/solutions/cli/software-implementation/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">            
            <div id="breadcrumbs">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links" data-pagefind-meta="ðŸž"><a href='/en/technology/'>Technology</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/technology/solutions/'>Solutions</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/technology/solutions/cli/'>Altinn CLI</a> <span class='adocs-breadcrumb-divider'> / </span> Software implementation</span>
            </div>            
          </div><div id="body-inner" data-pagefind-body><h1 class="a-fontBold">Software implementation</h1>
              <p class="a-leadText" id="leadText">A run-through of the implementation of the Altinn CLI</p>

<p>The main goal for how the software is build is that adding new commands, subcommands and options shall be simple.
This is solved by implementing a generic command interpreter that does not require changes when new commands,subcommands and options are added.</p>
<p>The generic implementation is based on software Interfaces.
This requires that new software classes implements the appropriate interfaces so they can be found when matching command line values against commands, subcommands and options.</p>
<p>The second important implementation detail is that the commands with definitions is defined in a json file, CommandDefs.json.
The file is part of the project as an embedded resource but can be modified and saved at the location defined in the Application setting parameters <strong>CommandDefinitionFile</strong>.</p>
<p>The CLI Application searches for the file at startup, the <strong>CommandDefinitionFile</strong> is search first.</p>
<h2 id="application-settings">Application settings</h2>
<p>Setting which is required for the CLI Application is defined in the appsettings.json file. Initial content of this file is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;APIBaseAddress&#34;</span>: <span style="color:#f1fa8c">&#34;https://platform.at21.altinn.cloud/storage/api/v1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;AppAPIBaseAddress&#34;</span>: <span style="color:#f1fa8c">&#34;https://{org}.apps.at21.altinn.cloud&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;UseLiveClient&#34;</span>: <span style="color:#f1fa8c">&#34;True&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;StorageOutputFolder&#34;</span>: <span style="color:#f1fa8c">&#34;c:/storage/Output&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;StorageInputFolder&#34;</span>: <span style="color:#f1fa8c">&#34;c:/storage/Input&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;CommandDefinitionFile&#34;</span>: <span style="color:#f1fa8c">&#34;C:/storage/CommandDefs/Commands.json&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;MaskinportenBaseAddress&#34;</span>: <span style="color:#f1fa8c">&#34;https://oidc-ver2.difi.no/idporten-oidc-provider&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;AuthBaseAddress&#34;</span>: <span style="color:#f1fa8c">&#34;https://platform.at21.altinn.cloud/authentication/api/v1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;tokenSettings&#34;</span>: {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th>Setting</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Addresse</td>
          <td>Defines the base part of API&rsquo; Url. The specific address to be used is selected by dedicated ClinetWrapper which forwards it to the HttpClientWrapper which computes a complete URL.</td>
      </tr>
      <tr>
          <td>StorageInputFolder</td>
          <td>Defines folder for storing fetched files</td>
      </tr>
      <tr>
          <td>StorageOutputFolder</td>
          <td>Defines folder for where files to send shall be fetched</td>
      </tr>
      <tr>
          <td>CommandDefinitionFile</td>
          <td>Defines in which folder the command definition file CommandDefs.json is located.</td>
      </tr>
  </tbody>
</table>
<h2 id="kommando-definisjon">Kommando Definisjon</h2>
<p>The command definition file, CommandDefs.json defines all commands with subcommands and options which can be &ldquo;executed&rdquo; i the CLI application.
The file is initially a resource is the development project. New commands can be added following this format:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;Name&#34;</span>: <span style="color:#f1fa8c">&#34;Login&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;SubCommands&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&#34;Name&#34;</span>: <span style="color:#f1fa8c">&#34;Maskinporten&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&#34;Options&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;Name&#34;</span>: <span style="color:#f1fa8c">&#34;clientId&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Guid&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;valuerange&#34;</span>: <span style="color:#f1fa8c">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;description&#34;</span>: <span style="color:#f1fa8c">&#34;client guid id&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;apiname&#34;</span>: <span style="color:#f1fa8c">&#34;clientid&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>First element <em>Name</em>: defines the command name, next <em>Name</em> defines the subcommand name. No other parameters can be defined on this level. Options is an array with following elements:</p>
<table>
  <thead>
      <tr>
          <th>Element name</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><em>Name</em></td>
          <td>name of the option, the same must be used on the command line, not case sensitive</td>
      </tr>
      <tr>
          <td><em>type</em></td>
          <td>option datatype. See list below for valid types, type is case sensitive</td>
      </tr>
      <tr>
          <td><em>valuerange</em></td>
          <td>valid range</td>
      </tr>
      <tr>
          <td><em>description</em></td>
          <td>description of the parameter to be used in Help</td>
      </tr>
      <tr>
          <td><em>apiname</em></td>
          <td>name of the option in the API that is accessed, name is case sensitive</td>
      </tr>
  </tbody>
</table>
<h3 id="valid-data-typers">Valid Data typers</h3>
<table>
  <thead>
      <tr>
          <th>Option Type</th>
          <th>System Type</th>
          <th>Opsjons klasse</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>bool</td>
          <td>System.Boolean</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>byte</td>
          <td>System.Byte</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>sbyte</td>
          <td>System.Decimal</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>double</td>
          <td>System.Double</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>float</td>
          <td>System.Single</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>int</td>
          <td>System.Int32</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>uint</td>
          <td>System.UInt32</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>long</td>
          <td>System.Int64</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>ulong</td>
          <td>System.UInt64</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>object</td>
          <td>System.Object</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>short</td>
          <td>System.Int16</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>ushort</td>
          <td>System.UInt16</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>string</td>
          <td>System.String</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>datetime</td>
          <td>System.DateTime</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>guid</td>
          <td>System.Guid</td>
          <td>NumberOption</td>
      </tr>
      <tr>
          <td>file</td>
          <td>System.IO.FileStream</td>
          <td>FileOption</td>
      </tr>
      <tr>
          <td>thumbprint</td>
          <td>System.String</td>
          <td>ThumbPrintOption</td>
      </tr>
  </tbody>
</table>
<h2 id="class-overview">Class Overview</h2>
<p><figure>
    <a href="class-diagram.png">
        <img src="class-diagram.png" alt="Class diagram" title="Implemented classes in base project">
    </a>
    <figcaption><em>Implemented classes in base project</em></figcaption>
  </figure></p>
<h3 id="program">Program</h3>
<p>Program is the startup &ldquo;class&rdquo; in the CLI Application.
Itâ€™s main purpose it to implement CLI functionality and register classes that handles commands and subcommands.
Register means in this context to scan the application for classes that implements interfaces that shall be searchable in the generic code.</p>
<p><em>ICommand</em> Must be implemented by all command classes
<em>ISubCommandHandler</em> Must be implemented by all subcommand classes
<em>IHelp</em> Implemented on all classes that have info to be display by the help command</p>
<p>The actual CLI implementation consist in reading the keyboard and forward it to the ApplicationManager</p>
<h3 id="logging">Logging</h3>
<p>Logger is injected to the registered command and is configured as a part of the service registration. Logging is default configured to output on console and file for all log levels.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span>Log.Logger = <span style="color:#ff79c6">new</span> LoggerConfiguration()
</span></span><span style="display:flex;"><span>    .MinimumLevel.Debug()
</span></span><span style="display:flex;"><span>    .WriteTo.File(<span style="color:#f1fa8c">&#34;log.txt&#34;</span>, LogEventLevel.Information)
</span></span><span style="display:flex;"><span>    .WriteTo.Console(restrictedToMinimumLevel: LogEventLevel.Information)
</span></span><span style="display:flex;"><span>    .CreateLogger();
</span></span></code></pre></div><h3 id="applicationmanager">ApplicationManager</h3>
<p>The ApplicationManager instantiates command and eventually subcommand from the two first console input parameters.
The parameters are used as search criteriaâ€™s for finding relevant command/subcommand classes.
If a match is found command line input option parameters will be matched and validated against selectable options.</p>
<p>Not found or illegal value will terminate the command and a proper log message will be displayed in the consol.</p>
<h3 id="command">Command</h3>
<p>A command class must implement the ICommand interface to be registered in <strong>Program</strong>.
That makes the command available for the generic code which is selecting a command based on the command line input.</p>
<p>The selection is based on the implementation of the ICommand interface and the Name property which must match the command name on the command line.
The command itself is executed by calling any of the the command class Run methods.</p>
<p>There exist two Run commands, one with the SubCommand as parameter and one with a list of command line input parameters that is called if no subcommand is specified.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">interface</span> <span style="color:#50fa7b">ICommand</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// Run the supported command handler</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// &lt;param name=&#34;commandHandler&#34;&gt;the command handler to execute&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">void</span> Run(ISubCommandHandler commandHandler = <span style="color:#ff79c6">null</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// Parses the dictionary and run command. Used mainly by Help</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// &lt;param name=&#34;input&#34;&gt;Dictionary with the cli input paramters&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">void</span> Run(Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; input);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// Gets the name of the service</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd">string</span> Name { <span style="color:#ff79c6">get</span>; }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="subcommand">SubCommand</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">interface</span> <span style="color:#50fa7b">ISubCommandHandler</span> : IValidate
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// </span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;returns&gt;&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">bool</span> Run(); 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// Name of the command handler</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">string</span> Name { <span style="color:#ff79c6">get</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// Name of the command for which the command is implemented</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">string</span> CommandProvider { <span style="color:#ff79c6">get</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// Dictionary with cli input options</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    Dictionary&lt;<span style="color:#8be9fd">string</span>,<span style="color:#8be9fd">string</span>&gt; DictOptions { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// </span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> List&lt;IOption&gt; SelectableCliOptions { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// Dictionary with cli input options</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    List&lt;IOption&gt; CliOptions { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// Dictionary with cli input options</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    IFileWrapper CliFileWrapper { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// Builds the options that can control the command.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">void</span> BuildSelectableCommands();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="option">Option</h3>
<p>An Option binds the definitions specified at the command line to a definition defined in the CommandDefinition file.
The handling of the option is as described in the ApplicationManager description partly done by generic code.
Partly means here creation of correct option type based on the option&rsquo;s type definition property and the activation of validation.</p>
<p>The actual validation is implemented in the option class itself.
An Option base class is implemented with basic functionality like the TryParse method that is used as a part of the validation of the NumberOption type.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">/// Interface that defines the propertioes and methods that</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">/// shall be implemented by an Option class</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">interface</span> <span style="color:#50fa7b">IOption</span> : IValidate
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// The Name og the oprtion that must match the Name </span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// of the otion in the CommandDefinition file</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">string</span> Name { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>;  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// The name of the opsjon in ther API. </span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">string</span> ApiName { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// The value of the option as a string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">string</span> Value { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">///  Defines if the option is defined with a vlue in</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">///  the command line </span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">bool</span> IsAssigned { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// The description of the option that will be used by help</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">string</span> Description { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// Valid range for the paramtere. </span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">string</span> Range { <span style="color:#ff79c6">get</span>; <span style="color:#ff79c6">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// Gets the typed value of the option as defined </span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// in the option definition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/// &lt;returns&gt;&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">object</span> GetValue();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>A set of Option classes is implemented to cover the most used system types.
Mapping from the type set in the definition file to a C# class is shown in the table in the subchapter <strong>Valid Data Types</strong>.
The main reasons for implementing dedicated classes is the possibility to implement generic handling of them
together with the advantage of implementing separate code in them like validation.</p>
<p>NumberOption - represent all simple System Data Types
FileOption - represent a file, the value of the option shall contain full path to the file. The validation verifies that the file exists.
ThumbPrintOption - This option is used as to represent the *thumbprint&quot; value in the ceritificat that is used in Login.</p>
<h3 id="optionbuilder">OptionBuilder</h3>
<p>Much of the handling of Options is done by the Singleton class OptionBuilder.
Main reason for making it as a Singleton is to avoid reading the CommandDefs file for each command.
The file is read initially and save in the class member <strong>CfgCommands</strong>.</p>
<p>There are two public methods in the OptionBuilder, <strong>BuildAvailableOptions</strong> and<strong>AssignValueToCliOptions</strong>.</p>
<h4 id="buildavailableoptions">BuildAvailableOptions</h4>
<p><strong>BuildAvailableOptions</strong> finds command/subcommand in the list of available commands defined in the CommandDefs.json
and according to defined type instantiates classes with options of correct type.</p>
<h4 id="assignvaluetoclioptions">AssignValueToCliOptions</h4>
<p><strong>AssignValueToCliOptions</strong> is responsible for validation and assignment of input options. Not valid options/option values are logged, and command is terminated.</p>
<h5 id="validation">Validation</h5>
<p><em>NumberOption</em></p>
<p>Validation is done by the generic method TryParse which is call in the Validate method.</p>
<p><em>FileOption</em></p>
<p>The FileOption class overrides the Base class defined Validate method.
The actual validation consist in a check for the existence of the specified file.</p>
<p><em>ThumbPrintOption</em></p>
<p>The ThumbPrintOption class overrides the Base class defined Validate method.
The actual validation consist is a check for the existence of a certificate in the &ldquo;LocalStore&rdquo; with same thumbprint as the specified thumbprint.</p>
<h3 id="clientwrapper">ClientWrapper</h3>
<p>The construction of the URL is done in dedicated ClientWrapper classes.
A dedicated wrapper shall be made for each command. An Interface that defines all public methods in the wrapper shall be made.
The interface shall be implemented in a test wrapper that shall be used in unit testing.</p>
<h4 id="test-wrapper">Test Wrapper</h4>
<p>The test wrapper shall be coded and configures to make verification of command execution possible without connecting to the actual API.
The class will mainly be used in unit testing but can also be used to test with real data. That is best done by catching &ldquo;responses&rdquo;,
saving the respons and use it in the test that can load the response file(s).</p>
<h3 id="httpclientwrapper">HttpClientWrapper</h3>
<p>The HttpClientWrapper make the HHP(s) requests. The wrapper builds the URL based on input parameter.
In addition header with required parameters and tokens is build and attached to the requests that is required for authorization on the server side.</p>
<h2 id="extensions">Extensions</h2>
<h3 id="command-1">Command</h3>
<p>Adding a new command requires following addtions:</p>
<ul>
<li>Command definition on the CommandDefs.json, must include subcommand and options. Command name must be unique.</li>
<li>Folder in the development project named with the command name.</li>
<li>C# class with name on the command. The class must implement ICommand and IHelp interface</li>
<li>Interface which define the methods in the ClientWrapper that will be used by the SubCommandHandler.</li>
<li>C# ClientWrapper and a ClientFileWrapper class which implements the ClientWrapper interface.</li>
<li>Folder SubCommandHandlers as a subfolder to the new Command folder.</li>
<li>C# class for the subcommand which inherits SubCommandHandlerBase and implements ISubCommandHandler and IHelp interface.</li>
</ul>
<h3 id="subkommando">SubKommando</h3>
<ul>
<li>Extend command definition with new subcommand definition in CommandDefs.json, include Option definitions</li>
<li>Eventually extend ClientWrapper interface with new method(s) which will be used by the new SubCommandHandler</li>
<li>Eventually extend C# ClientWrapper and ClientFileWrapper with new methods defined in the interface</li>
<li>C# class for the new subcommand which inherits SubCommandHandlerBase and implements ISubCommandHandler and IHelp interface.</li>
</ul>
<h3 id="option-1">Option</h3>
<ul>
<li>Extend subcommand with new option definition in CommandDefs.json</li>
<li>Eventuelt utvide ClientWrapper Interface med ny(e) method(s) which will be used by the SubCommandoHandle for Ã¥ fÃ¥ med nye opsjoner</li>
<li>Eventually extend ClientWrapper interface with new methode(s) which will be used by the new SubCommandHandler</li>
<li>Eventually extend C# ClientWrapper and ClientFileWrapper with new methods defined in the interface</li>
<li>Add handling of the new options, if required, to the SubCommandHandler</li>
</ul>
<p><strong>None of the extensions shall require changes in the HttpClientWrapp&rsquo;s. New methods shall be added if changes is required to avoid breaking existing code</strong></p>


<footer class=" footline" ></footer>
                </div>
              </div>
              
              
            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/technology/solutions/cli/software-implementation/_index.en.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Edit page on GitHub
                  </a>
                </div></section>
        </div> 
        <div class="col-md-2 d-none d-md-block">
          <div class="toc-container">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#application-settings">Application settings</a></li>
    <li><a href="#kommando-definisjon">Kommando Definisjon</a>
      <ul>
        <li><a href="#valid-data-typers">Valid Data typers</a></li>
      </ul>
    </li>
    <li><a href="#class-overview">Class Overview</a>
      <ul>
        <li><a href="#program">Program</a></li>
        <li><a href="#logging">Logging</a></li>
        <li><a href="#applicationmanager">ApplicationManager</a></li>
        <li><a href="#command">Command</a></li>
        <li><a href="#subcommand">SubCommand</a></li>
        <li><a href="#option">Option</a></li>
        <li><a href="#optionbuilder">OptionBuilder</a>
          <ul>
            <li><a href="#buildavailableoptions">BuildAvailableOptions</a></li>
            <li><a href="#assignvaluetoclioptions">AssignValueToCliOptions</a>
              <ul>
                <li><a href="#validation">Validation</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#clientwrapper">ClientWrapper</a>
          <ul>
            <li><a href="#test-wrapper">Test Wrapper</a></li>
          </ul>
        </li>
        <li><a href="#httpclientwrapper">HttpClientWrapper</a></li>
      </ul>
    </li>
    <li><a href="#extensions">Extensions</a>
      <ul>
        <li><a href="#command-1">Command</a></li>
        <li><a href="#subkommando">SubKommando</a></li>
        <li><a href="#option-1">Option</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
        </div>
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">About Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://digdir-samarbeid.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <style>
      #TableOfContents {overflow-x: visible; overflow-y: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      #TableOfContents::-webkit-scrollbar {display: none;  }
      #TableOfContents > ul > li {margin-top: 0.8em !important; list-style-type:none; list-style-position:inside;}
      #TableOfContents li li {margin-left: 0.4em; list-style-type:circle;}
      #TableOfContents li li:has(a.text-active) {list-style-type:disc;}
      #TableOfContents a {border-bottom: 2px solid transparent;}
      #TableOfContents a.text-active, #TableOfContents a:hover {border-bottom: 2px solid #1EAEF7;}
    </style>
    <script>
      
      class Scroller {
        static init() {
          if(document.querySelector('#TableOfContents')) {
            this.tocLinks = document.querySelectorAll('#TableOfContents a');
            this.headers = Array.from(this.tocLinks).map(link => {
              var s = link.href.split('#')[1];
              s = s.replace(/%C3%A6/g, "Ã¦");
              s = s.replace(/%C3%B8/g, "Ã¸");
              s = s.replace(/%C3%A5/g, "Ã¥");

              return document.getElementById(s);
            })
            this.ticking = false;
            window.addEventListener('scroll', (e) => {
              this.onScroll()
            })
          }
        }

        static onScroll() {
          if(!this.ticking) {
            requestAnimationFrame(this.update.bind(this));
            this.ticking = true;
          }
        }

        static update() {
          this.activeHeader ||= this.headers[0];
          let activeIndex = this.headers.findIndex((header) => {
            if (header != null) {
              return header.getBoundingClientRect().top > 180;
            }
          });
          if(activeIndex == -1) {
            activeIndex = this.headers.length - 1;
          } else if(activeIndex > 0) {
            activeIndex--;
          }
          let active = this.headers[activeIndex];
          if(active !== this.activeHeader) {
            this.activeHeader = active;
            this.tocLinks.forEach(link => link.classList.remove('text-active'));
            this.tocLinks[activeIndex].classList.add('text-active');
          }
          this.ticking = false;
        }
      }

      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
      if (document.getElementById("TableOfContents")) {
        var a = new StickySidebar('.toc-container', {
          topSpacing: 20,
          bottomSpacing: 60,
          containerSelector: '.adocs-scrollcontainer',
          innerWrapperSelector: '#TableOfContents',
          minWidth: 768
        });
      }
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) { Scroller.init();});
      mermaid.initialize({startOnLoad:true});
    </script>
<script src="/js/custom.js"></script></body>
</html>

