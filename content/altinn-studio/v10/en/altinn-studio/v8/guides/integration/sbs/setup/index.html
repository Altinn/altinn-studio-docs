<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Setup and configuration of app and infrastructure for end-user system integration in an app." />
<meta name="altinn_pagedir" class="elastic" content="altinn-studio/v8/guides/integration/sbs/setup/" />
<meta name="altinn_title" class="elastic" content="Setup and configuration" />
<meta name="product" data-pagefind-filter="Product[content]" content="Altinn Studio" />
<meta name="diataxis" data-pagefind-filter="Type[content]" content="How-to guides" />

<title>Setup and configuration – Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">

    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script>

<script>
if (window.location.hostname != "localhost") {
    
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://siteimproveanalytics.com/js/siteanalyze_6255470.js';
    document.head.appendChild(script);
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/en/altinn-studio/v8/guides/integration/sbs/setup/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Jump to the main content</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Jump to the main menu</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/en/" class="a-globalNav-logo">
            <img src="/images/altinn-new-logo-white.svg" alt="Altinn logo" class="adocs-logo">
            <span class="sr-only">To the frontpage</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Show/hide menu</span></button>

          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <span>Product</span>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle">
    <a aria-hidden="true" class="dropdown-item" href="/en/altinn-studio/v8/">
      <p class="product-item">Altinn Studio</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/authorization/">
      <p class="product-item">Authorization</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/dialogporten/">
      <p class="product-item">Dialogporten</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/broker/">
      <p class="product-item">Broker</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/events/">
      <p class="product-item">Events</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/correspondence/">
      <p class="product-item">Correspondence</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/notifications/">
      <p class="product-item">Notifications</p>
    </a>
</div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/community/">community</a>
              </li>
            </ul>
          </div>
        </nav> 

        <ul class="nav nav-pills a-header-options" id="nav-list">
           <li class="nav-item d-md-block">
              <button id="search-button" class="nav-link adocs-toggle-search" type="button"
                  data-toggle="collapse" data-target="#collapseSearchContent" aria-expanded="false" aria-controls="collapseSearchContent"
                  onclick="setTimeout(function(){document.getElementsByClassName('pagefind-ui__search-input')[0].focus()},100); return true;">
                  <span>
                      <i class="ai ai-search">
                        <span class="sr-only">Search</span></i>
                  </span>
              </button>
          </li>
          <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <img src="/images/en.svg" class="" alt="Language" style="height: 1.2em; vertical-align: bottom;"/>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle" style="z-index:100000;"><a aria-hidden="true" class="dropdown-item" href="/nb/altinn-studio/v8/guides/integration/sbs/setup/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokmål</span><br></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/en/altinn-studio/v8/guides/integration/sbs/setup/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English ✓</span><br></p>
    </a></div>
</li>
        </ul>

      </div>
    </div> 
  </div> 
</header>

<div id="collapseSearchContent" class="a-collapseContent adocs-collapseSearch collapse">
  <div class="a-collapseContent-inside px-0">
    <div class="bg-white pt-3 pb-3"><div class="container">
    <div class="row">
         
        <div class="form-group a-form-group a-form-group-large col-sm-12">
            <label class="a-h2" for="search-by">What are you looking for?</label>
            <div id="search-by" style="margin: auto;" class=""></div>
        </div>
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
        <script src="/pagefind/pagefind-ui.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search-by",
                    pageSize: 10,
                    excerptLength: 25,
                    showSubResults: true,
                    resetStyles: true,
                    showImages: true,
                    processResult: function (result) {
                        if (result?.meta?.image) {
                            let resultBase = new URL(result.url, window.location);
                            let remappedImage = new URL(result.meta.image, resultBase);
                            if (remappedImage.hostname !== window.location.hostname) {
                                result.meta.image = remappedImage.toString();
                            } else {
                                result.meta.image = remappedImage.pathname;
                            }
                        }
                    }
                });
                
                var searchField = document.getElementsByClassName("pagefind-ui__search-input")[0];
                if (searchField) {
                    searchField.setAttribute('aria-label', 'Search');
                }

                var sKey = "as";
                searchField.addEventListener("blur", () => {
                    sessionStorage.setItem(sKey, searchField.value);
                });

                var searchButton = document.getElementById("search-button");
                searchButton.addEventListener("click", () => {
                    var scrollContainer = document.getElementsByClassName('adocs-scrollcontainer')[0];
                    if (!searchField.checkVisibility()) {
                        scrollContainer.setAttribute('style', 'visibility: hidden !important');
                    } else {
                        scrollContainer.removeAttribute('style');
                    }
                }); 
                
                if (sessionStorage.getItem(sKey)) {
                    searchField.value = sessionStorage.getItem(sKey);
                    searchField.dispatchEvent(new Event("input"));
                }
            });
        </script>
        <style>
          :root {
            --pagefind-ui-scale: 0.9;
            --pagefind-ui-text: #000000;
            --pagefind-ui-border: #1EAEF7;
            --pagefind-ui-border-radius: 0;
          }
          .pagefind-ui__search-input::placeholder {
            color: #757575 !important;
            opacity: 1 !important;
            font-weight: normal !important;
          }
          .pagefind-ui__result-link:hover, .pagefind-ui__result-link:hover {
            text-decoration: none !important;
          }
          .pagefind-ui__form:before {
            opacity: 1 !important;
          }
        </style>
        
    </div>
</div></div>
  </div>
</div>
<div class="container pt-2 pt-md-3 pt-lg-5">      
      <div class="adocs-scrollcontainer">
        <div class="row">
          <div class="col-sm-12 col-md-10 last-modified">Last modified: Sep 29, 2025</div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-10"><nav id="sidebar" class=""><div class="highlightable">
  <ul id="docsmenu" class="topics">
<div id="version-dropdown-top" class="product-version-dropdown">
    <div class="version-selector-wrapper">
        <label class="version-label" for="version-selector-button" id="version-selector-label">
        Version:
        </label>
        <div class="dropdown">
        <button
            type="button"
            id="version-selector-button"
            class="nav-link dropdown-toggle version-switcher"
            role="combobox"
            aria-controls="version-dropdown-menu"
            aria-expanded="false"
            aria-haspopup="listbox"
            aria-labelledby="version-selector-label"
            aria-describedby="version-selector-help"
            data-toggle="dropdown">
            <span id="current-version-top">Current (V8)</span>
        </button>
        <div
            class="dropdown-menu version-dropdown"
            role="listbox"
            aria-labelledby="version-selector-label"
            id="version-dropdown-menu"><a
                class="dropdown-item version-option"
                href="/en/altinn-studio/v8/"
                data-version="v8"
                role="option"
                tabindex="-1"
                aria-selected="true">
                <span class="version-item">Current (V8)</span>
            </a></div>
        </div>
        <div id="version-selector-help" class="sr-only">
          Use the arrow keys to navigate between versions and Enter to select        
        </div>
    </div>
</div>

<style>
   
  .product-version-dropdown {
    background: #f8f9fa;
    padding: 10px;
    border-bottom: 1px solid #ddd !important;
    margin-bottom: 0;
  }
  #sidebar .product-version-dropdown {
    border-bottom: 1px solid #ddd !important;
  }
  .version-selector-wrapper {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  .dropdown {
    position: relative;
  }
  .version-label {
    font-size: 12px;
    font-weight: 600;
    color: #555 !important;
    margin: 0 !important;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .version-switcher {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    color: #333 !important;
    text-decoration: none !important;
    border: 1px solid #ccc;
    border-radius: 4px;
    background: white;
    width: 100%;
    box-sizing: border-box;
    cursor: pointer;
    font-family: inherit;
    font-size: inherit;
    text-align: left;
  }
  .version-switcher::after {
    margin-left: auto;
  }
  #sidebar .version-switcher {
    border-bottom: 1px solid #ccc !important;
  }
  .version-switcher:hover,
  .version-switcher:focus {
    background: #e9ecef;
    outline: none;
    border-color: #007bff;
  }
  .version-switcher:focus {
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
  }
  .version-option:focus,
  .version-option:hover {
    background: #007bff !important;
    color: white !important;
    outline: none;
  }
  .version-option[aria-selected="true"] {
    background: #28a745 !important;
    color: white !important;
  }
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
  .version-dropdown {
    min-width: 200px;
    max-height: none !important;
    overflow-y: visible !important;
    position: absolute;
    z-index: 1000;
  }
  .version-item {
    margin: 0;
    padding: 4px 0;
  }
  .version-section {
    padding-top: 10px;
  }

    
  .version-root-item {
    display: block !important;
  }

   
  .version-content .version-section > li {
    list-style: none;
  }
</style>

<script>
  (function() {
    
    setupVersionSelectorAccessibility();

    function setupVersionSelectorAccessibility() {
      var button = document.getElementById('version-selector-button');
      var dropdown = document.getElementById('version-dropdown-menu');

      if (!button || !dropdown) return;

      var options = dropdown.querySelectorAll('.version-option');
      var currentFocusIndex = -1;

      button.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ' || e.key === 'ArrowDown') {
          e.preventDefault();
          if (dropdown.style.display === 'none' || !dropdown.classList.contains('show')) {
            showDropdown();
            focusOption(0);
          }
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          showDropdown();
          focusOption(options.length - 1);
        }
      });

      dropdown.addEventListener('keydown', function(e) {
        if (e.key === 'ArrowDown') {
          e.preventDefault();
          focusOption(currentFocusIndex + 1);
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          focusOption(currentFocusIndex - 1);
        } else if (e.key === 'Enter') {
          e.preventDefault();
          if (currentFocusIndex >= 0 && options[currentFocusIndex]) {
            window.location.href = options[currentFocusIndex].href;
          }
        } else if (e.key === 'Escape') {
          e.preventDefault();
          hideDropdown();
          button.focus();
        }
      });

      button.addEventListener('click', function(e) {
        e.preventDefault();
        if (dropdown.style.display === 'none' || !dropdown.classList.contains('show')) {
          showDropdown();
        } else {
          hideDropdown();
        }
      });

      function showDropdown() {
        button.setAttribute('aria-expanded', 'true');
        dropdown.classList.add('show');
        dropdown.style.display = 'block';
      }

      function hideDropdown() {
        button.setAttribute('aria-expanded', 'false');
        dropdown.classList.remove('show');
        dropdown.style.display = 'none';
        currentFocusIndex = -1;
        updateAriaSelected();
      }

      function focusOption(index) {
        if (index < 0) index = options.length - 1;
        if (index >= options.length) index = 0;

        currentFocusIndex = index;
        options[currentFocusIndex].focus();
        updateAriaSelected();
      }

      function updateAriaSelected() {
        
        var currentVersion = button.querySelector('#current-version-top').textContent.trim();
        options.forEach(function(option) {
          var optionVersion = option.getAttribute('data-version');
          option.setAttribute(
            'aria-selected',
            optionVersion === currentVersion ? 'true' : 'false'
          );
        });
      }

      
      document.addEventListener('click', function(e) {
        if (!button.contains(e.target) && !dropdown.contains(e.target)) {
          hideDropdown();
        }
      });
    }
  })();
</script>
<li class="dd-item parent version-root-item">
              <a href="/en/altinn-studio/v8/">
                <span>Altinn Studio</span>
                <i class="fa fa-sort-down fa-lg category-icon"></i></a>
              <ul class="version-content">
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/about/"><span>About Altinn Studio</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/about/usecases/"><span>Use Cases for Altinn Studio Apps</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/what-do-you-get/"><span>What do you get?</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/"><span>Getting Started</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/create-user/"><span>Create user</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/navigation/"><span>Navigate Altinn Studio</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/navigation/designer/"><span>Designer</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/navigation/dashboard/"><span>Dashboard</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/navigation/repos/"><span>Repos</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/"><span>Intro Course</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/case/"><span>Case</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/modul1/"><span>Module 1: Create Service</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/modul2/"><span>Module 2: Customize Data Model</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/modul3/"><span>Module 3: Create Form</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/modul4/"><span>Module 4: Create Info Page</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/modul5/"><span>Module 5: Publish Service</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/modul6/"><span>Module 6: Add code lists</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/modul7/"><span>Module 7: Adding Dynamic Behavior</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/getting-started/app-dev-course/authorization-rules/"><span></span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/"><span>User guides</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/"><span>Design</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/insight/"><span>Preliminary considerations</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/prototype/"><span>Prototype</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/usertest/"><span>User testing</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/"><span>Guidelines</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/consistency/"><span>Consistency</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/content/"><span>Content in the form</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/design-principles/"><span>Design principles</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/link-to-app/"><span>Entering the form</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/"><span>UI-components</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/title-and-paragraph/"><span>Typography</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/button/"><span>Buttons and links</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/input/"><span>Input</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/date/"><span>Date</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/checkbox/"><span>Checkboxes</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/radiobutton/"><span>Radio button</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/dropdown/"><span>Dropdown</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/helptext/"><span>Help texts</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/error-message/"><span>Error messages</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/file-upload/"><span>File upload</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/components/picture-component/"><span>Image</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/tone-of-voice/"><span>Language</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/design/guidelines/wcag/"><span>Accessibility</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/"><span>Development</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/organisation-library/"><span>Organisation library</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/basic-form/"><span>Simple Form</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/eformidling/"><span>eFormidling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/eformidling/legacy/"><span>eFormidling legacy</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/eformidling/service-task/"><span>eFormidling service task</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/fiks-arkiv/"><span>Fiks Arkiv</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/pdf/"><span>PDF</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/subform-pdf/"><span>PDF subform</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/branching/"><span>Branches</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/dynamics/"><span>Dynamikk</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/prefill/"><span>Prefill</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/prefill/config/"><span>Configuration</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/prefill/custom/"><span>Custom code</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/prefill/instantiation/"><span>Http post</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/prefill/query-params/"><span>Query parameters</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/"><span>Options</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/sources/"><span>Sources</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/sources/static/"><span>Static</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/sources/dynamic/"><span>Dynamic</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/sources/from-data-model/"><span>From data model</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/sources/organisation-library/"><span>Organisation library</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/sources/shared/"><span>Shared</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/sources/altinn2/"><span>From Altinn 2</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/functionality/"><span>Functionality</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/functionality/data-binding/"><span>Data binding</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/functionality/automatic-cleanup/"><span>Automatic cleanup</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/functionality/texts/"><span>Texts</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/functionality/filtering/"><span>Filtering</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/functionality/preselection/"><span>Pre-selection</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/options/functionality/sorting/"><span>Sorting</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/payment/"><span>Payment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/restricted-data/"><span>Restricted data</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/signing/"><span>Signing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/signing/runtime-delegated-signing/"><span>Runtime delegated</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/signing/role-based-signing/"><span>Role and access package</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/signing/sign-and-submit/"><span>Sign and submit</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/signing/api-signing/"><span>API-based signing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/subform/"><span>Subform</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/subform/config-options/"><span>Configuration</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/summary2/"><span>Summary</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/undeploy/"><span>Unpublishing</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/copy-app/"><span>Copy app</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/multi-app-solution/"><span>Multi-app solution</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/multi-app-solution/instructions/"><span>Instructions</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/multi-app-solution/instructions/app-a/"><span>Application A</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/multi-app-solution/instructions/app-b/"><span>Application B</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/multi-app-solution/testing/"><span>Testing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/local-dev/"><span>Local Development</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/service-tasks/"><span>Service tasks</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/development/service-tasks/custom/"><span>Custom</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/administration/"><span>Administration</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/administration/maintainance/"><span>Maintenance</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/administration/maintainance/dependencies/"><span>Dependencies</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/administration/access-management/"><span>Access management</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/administration/access-management/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/administration/access-management/studio/"><span>Studio</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/administration/monitor-and-instrument/"><span>Monitor and instrument</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/integration/"><span>Integration</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/integration/sbs/"><span>End-user systems</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/integration/sbs/setup/"><span>Setup and configuration</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/integration/sbs/apis/"><span>API integration</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/integration/correspondence/"><span>Correspondence</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul><li class="dd-item">
          <a href="/en/altinn-studio/v8/guides/integration/correspondence/maskinporten/">
            <span>Using Maskinporten</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/integration/maskinporten/"><span>Maskinporten</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/altinn-2/"><span>Altinn 2</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/altinn-2/altinn-2-datamodel/"><span>Altinn 2 Data Model</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/altinn-2/seres-migration/"><span>Sereserstatning</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/altinn-2/migrate-services/"><span>Migrate services</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/contributing/"><span>Contributing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/contributing/create-new-component/"><span>Create a new component</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/guides/contributing/add-new-component/"><span>Add a new component in Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/"><span>Reference</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/data/"><span>Data</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/data/data-modeling/"><span>Data Modeling</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/data/persistence/"><span>Persistence</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/data/prefill/"><span>Prefill</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/data/attachments/"><span>Attachments</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/data/external-api/"><span>External API</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/"><span>User interface</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/"><span>Components</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/commondefs/"><span>CommonProps</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/accordion/"><span>Accordion</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/accordiongroup/"><span>AccordionGroup</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/actionbutton/"><span>ActionButton</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/address/"><span>Address</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/alert/"><span>Alert</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/attachmentlist/"><span>AttachmentList</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/audio/"><span>Audio</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/button/"><span>Button</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/button-group/"><span>ButtonGroup</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/cards/"><span>Cards</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/checkboxes/"><span>Checkboxes</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/custom/"><span>Custom</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/custombutton/"><span>CustomButton</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/date/"><span>Date</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/datepicker/"><span>Datepicker</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/divider/"><span>Divider</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/dropdown/"><span>Dropdown</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/fileupload/"><span>FileUpload</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/fileuploadwithtag/"><span>FileUploadWithTag</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/grid/"><span>Grid</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/group/"><span>Group</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/header/"><span>Header</span></a></li><li class="dd-item">
          <a href="/en/altinn-studio/v8/reference/ux/components/iframe/">
            <span>IFrame</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/image/"><span>Image</span></a></li><li class="dd-item">
          <a href="/en/altinn-studio/v8/reference/ux/components/imageupload/">
            <span>Image Uploader</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/input/"><span>Input</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/instanceinformation/"><span>InstanceInformation</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/instantiationbutton/"><span>InstantiationButton</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/likert/"><span>Likert</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/link/"><span>Link</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/listcomponent/"><span>List</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/map/"><span>Map</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/multipleselect/"><span>MultipleSelect</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/navigationbar/"><span>NavigationBar</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/navigationbuttons/"><span>NavigationButtons</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/number/"><span>Number</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/option/"><span>Option</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/organizationlookup/"><span>OrganisationLookup</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/panel/"><span>Panel</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/paragraph/"><span>Paragraph</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/personlookup/"><span>PersonLookup</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/printbutton/"><span>PrintButton</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/radiobuttons/"><span>RadioButtons</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/signeelist/"><span>SigneeList</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/signingactions/"><span>SigningActions</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/signingdocumentlist/"><span>SigningDocumentList</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/summary/"><span>Summary</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/summary2/"><span>Summary2</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/tabs/"><span>Tabs</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/text/"><span>Text</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/timepicker/"><span>TimePicker</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/components/video/"><span>Video</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/pages/"><span>Pages</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/pages/navigation/"><span>Navigation</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/pages/tracks/"><span>Tracks</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/pages/summary/"><span>Summary</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/"><span>Fields</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/"><span>Grouping</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/repeating/"><span>Repeating</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/repeating/edit/"><span>Edit</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/repeating/table/"><span>Table</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/repeating/attachments/"><span>Attachments</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/repeating/dynamics/"><span>Dynamics</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/repeating/multipage/"><span>MultiPage</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/non-repeating/"><span>Non-repeating</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/grouping/panel/"><span>Panel</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/fields/settings/"><span>Settings</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/footer/"><span>Footer</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/logo/"><span>Logo</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/styling/"><span>Styling</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/texts/"><span>Texts</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/texts/translation/"><span>Translation of texts</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/ux/pdf/"><span>PDF</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/"><span>Logic</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/events/"><span>App Events</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/events/subscribing/"><span>Subscribing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/generic/"><span>Generic</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/notifications/"><span>Notifications</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/notifications/email/"><span>Email</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/notifications/sms/"><span>SMS</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/dataprocessing/"><span>Data processing</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/dynamic/"><span>Dynamics</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/expressions/"><span>Expressions</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/instantiation/"><span>Instantiation</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/services/"><span>Services</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/validation/"><span>Validation</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/validation/files/"><span>File validation</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/logic/validation/expression-validation/"><span>Validation using expressions</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/"><span>Configuration</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/messagebox/"><span>MessageBox</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/messagebox/create_copy/"><span>Create copy</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/messagebox/hide_instances/"><span>Hide instances</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/messagebox/presentationfields/"><span>Presentation fields</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/messagebox/advanced-sync/"><span>Sync settings</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/"><span>Authorization</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul><li class="dd-item">
          <a href="/en/altinn-studio/v8/reference/configuration/authorization/api-scopes/">
            <span>API Scopes</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/"><span>Guidelines</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/"><span>Roles</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/"><span>Altinn Roles</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_administration/"><span>Administration roles</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_enterprices/"><span>Enterprise roles</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_persons/"><span>Person roles</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_er/"><span>ER-Roles</span></a></li><li class="dd-item">
          <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/roles_and_rights/roles_ske/">
            <span>SKE-roles</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/guidelines_authorization/test_authorization_application/"><span>Testing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authorization/rules/"><span>Rule library</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/partytype/"><span>Party types</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/datafields/"><span>Data fields</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/process/"><span>Process</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/process/auto-delete/"><span>Automatic deletion</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/process/customize/"><span>Customize Views</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/process/pre-post-hooks/"><span>Define custom process hooks</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/process/exclusive-gateways/"><span>Exclusive gateways</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/process/message/"><span>Message</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/queryparameters/"><span>Query parameters</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/shadowfields/"><span>Shadow fields</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/secrets/"><span>Secrets</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/eformidling/"><span>eFormidling</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/events/"><span>Events</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/filescan/"><span>Virus scan</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/settings/"><span>Settings</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/startup/"><span>Startup</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/stateless/"><span>Stateless</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/deployment/"><span>Deployment</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/authentication/"><span>Authentication</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/configuration/autosavebehavior/"><span>Auto Save Behavior</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/analysis/"><span>Analyse</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/analysis/rules/altinnapp0500/"><span>ALTINNAPP0500: farlig bruk av IHttpContextAccessor</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/api/"><span>API</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/api/auth/"><span>Authentication</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/api/consume/"><span>Consume</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/api/expose/"><span>Expose</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/api/instance/"><span>Instance</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/testing/"><span>Testing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/testing/local/"><span>Locally</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/testing/local/apitests/"><span>API tests</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/testing/local/apitests/user/"><span>End user</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/testing/local/apitests/org/"><span>Org</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/testing/local/debug/"><span>Debugging</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/testing/local/testusers/"><span>Test users</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/testing/deploy/"><span>In test environment</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/cli/"><span>Altinn Studio CLI</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/cli/install/"><span>Installation</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/deployment/"><span>Deployment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/deployment/firewall/"><span>Firewall &amp; IP Configuration</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/deployment/runtime-environment/"><span>Runtime Environment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/deployment/runtime-environment/resource-allocation-tips/"><span>Practical tips for resource allocation</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/deployment/runtime-environment/resource-allocation/"><span>Resource Allocation</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/process/"><span>Process handling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/process/tasks/"><span>Process tasks</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/process/tasks/signing/"><span>Signing task</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/process/flowcontrol/"><span>Flowcontrol</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/process/actions/"><span>Actions</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/process/actions/serveraction/"><span>Server Action</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/process/actions/process-actions/"><span>Process actions</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/monitoring/"><span>Monitoring</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/monitoring/configuration/"><span>Configuration</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/monitoring/instrumentation/"><span>Instrumentation</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/monitoring/registry/"><span>Telemetry registry</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/monitoring/registry/metrics/"><span>Metrics</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/monitoring/visualisation/"><span>Visualisation</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/monitoring/faq/"><span>FAQ</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/monitoring/references/"><span>Resources</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/access-management/"><span>Access management</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/access-management/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/reference/access-management/studio/"><span>Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/"><span>Concepts</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/data-model/"><span>Data model</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/data-model/restricted-data/"><span>Restricted data</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/organisation-library/"><span>Organisation Library</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/organisation-library/code-lists/"><span>Library Code Lists</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/payment/"><span>Payment</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/prefill/"><span>Prefill</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/signing/"><span>Signing</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/process/"><span>Process</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/concepts/undeploy/"><span>Unpublishing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/news/"><span>Whats&#39;s new</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/news/launched-apps/"><span>Launched app examples</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/news/launched-apps/external/"><span>External</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/news/launched-apps/digdir/"><span>Digdir</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/news/launched-apps/digdir/bli-tjenesteeier/"><span>Bli tjenesteeier</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/news/launched-apps/digdir/godkjenn-bruksvilkaar/"><span>Godkjenn bruksvilkår</span></a></li>
      <li class="dd-item">
        <a href="/en/altinn-studio/v8/news/launched-apps/digdir/be-om-api-nokkel/"><span>Tilgang til REST API</span></a></li></ul></li></ul></li></ul></li></ul>
            </li></ul>
</div>
</nav>

<script>
          $("li.dd-item a[href='/en/altinn-studio/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/altinn-studio/v8/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/altinn-studio/v8/guides/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/altinn-studio/v8/guides/integration/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/altinn-studio/v8/guides/integration/sbs/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/altinn-studio/v8/guides/integration/sbs/setup/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">            
            <div id="breadcrumbs">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links" data-pagefind-meta="🍞"><a href='/en/altinn-studio/'>Altinn Studio</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/altinn-studio/v8/'>Current (V8)</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/altinn-studio/v8/guides/'>User guides</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/altinn-studio/v8/guides/integration/'>Integration</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/altinn-studio/v8/guides/integration/sbs/'>End-user systems</a> <span class='adocs-breadcrumb-divider'> / </span> Setup and configuration</span>
            </div>            
          </div><div id="body-inner" data-pagefind-body><h1 class="a-fontBold">Setup and configuration</h1>
              <p class="a-leadText" id="leadText">Setup and configuration of app and infrastructure for end-user system integration in an app.</p>

<p>End-user systems (SBS) are systems developed by vendors to simplify submissions to Altinn for their customers.
This guide covers concepts and models relevant for integration between an Altinn Studio app and end-user systems.
When integrating an end-user system with an Altinn Studio app, machine-to-machine communication is used between
the vendor&rsquo;s system and the app. There are mainly two ways to create this integration:</p>
<ul>
<li>ID-porten client with token exchange
<ul>
<li>The vendor of the end-user system creates an ID-porten client and adds the scopes required by the app (e.g., <code>altinn:instances.read</code> and <code>altinn:instances.write</code>)</li>
<li>When integrating with Altinn apps, the end-user system exchanges the token for an Altinn token</li>
<li>From the apps perspective, this is a normal flow (there are authenticated end-users)</li>
<li>Suitable for systems where contact with the end-user is important, there is a low degree of automation, and the integration flow is fully user-driven.</li>
</ul>
</li>
<li>System user
<ul>
<li><a href="/en/authorization/getting-started/maskinportenclient/">Vendor creates Maskinporten client</a></li>
<li>Vendor creates a system in the system registry of Altinn Authorization (in the system definition, you specify the need for access to resources, e.g., an app)</li>
<li>Customer registers a system user. The rights are then delegated.</li>
<li>Vendor authenticates with Maskinporten client</li>
<li>When integrating with Altinn apps, the system authenticates with Maskinporten and uses this token when submitting to Altinn</li>
<li>For more information, see <a href="/en/authorization/guides/system-vendor/">Altinn Authorization user guide for system users</a></li>
<li>Suitable for systems with a higher degree of automation (and less need for contact/connection to the end-user), and for submissions on behalf of organizations.</li>
</ul>
</li>
</ul>
<h2 id="integration-using-id-porten">Integration using ID-porten</h2>
<p>When integrating from an end-user system based on an ID-porten client, there is always direct contact with the end-user.
When the end-user logs in to the end-user system via ID-porten, the user must consent to the system performing
<code>altinn:instances.read</code> and <code>altinn:instances.write</code> on their behalf (provided these scopes are registered in the ID-porten client).
The token must then be <a href="/en/api/authentication/spec/">exchanged in Altinn Authorization</a>.
This Altinn token can then be used to submit forms in an Altinn app on behalf of the user.</p>
<div class="notices info" >The scopes <code>altinn:instances.read</code> and <code>altinn:instances.write</code> are not service owner- or app-specific.
When granting consent, the user allows the system to submit to all Altinn apps where the user is authorized (via XACML and other configuration).</div>
<h3 id="better-scope-validation">Better scope validation</h3>
<p>Given that <code>altinn:instances.read</code> and <code>altinn:instances.write</code> grant access to all apps in Altinn (where the user has access),
there is often a need for a higher degree of isolation so that a more specific scope is required, tailored for a particular app.
There is currently no built-in support for this, but it is possible to achieve by developing custom middleware in the app.</p>
<p>The service owner must create an app-specific scope in ID-porten via the collaboration portal and delegate this to organizations
that intend to build end-user systems for the service owner&rsquo;s app. The end-user system must then add this scope to its ID-porten client
<em>in addition to</em> <code>altinn:instances.read</code> and <code>altinn:instances.write</code> (these are still required by the Altinn platform).</p>
<div class="notices info" >In the future, we want an app to be configurable with a custom scope that replaces <code>altinn:instances.read</code> and <code>altinn:instances.write</code>,
which will also apply to platform services in Altinn (e.g., Storage), but it has not yet been decided how or when this will be implemented.</div>
<h4 id="validation-with-aspnet-core-middleware">Validation with ASP.NET Core middleware</h4>
<div class="notices info" ><code>IAuthenticationContext.Current</code> uses information about the logged-in user from the ASP.NET Core authentication stack.
This means that the ASP.NET Core auth middleware must have run for you to get the correct information.
Middleware for auth is added in <code>UseAltinnAppCommonConfiguration</code>. So if you want to access <code>IAuthenticationContext.Current</code>
in a middleware, it must be added <strong>after</strong> <code>UseAltinnAppCommonConfiguration</code> has been called.</div>
<p>The service owner can then create middleware or similar that performs additional authorization based on the authenticated user. Example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebApplication app = builder.Build();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app.Use(
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">async</span> (context, next) =&gt;
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">var</span> authenticationContext = context.RequestServices.GetRequiredService&lt;IAuthenticationContext&gt;();
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">var</span> authenticated = authenticationContext.Current;
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> (authenticated <span style="color:#ff79c6">is</span> Authenticated.User user)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#6272a4">// Here we are expressing that for any API request for the authenticated party is a user, the user either has to</span>
</span></span><span style="display:flex;"><span>            <span style="color:#6272a4">// * Be logged in through Altinn portal</span>
</span></span><span style="display:flex;"><span>            <span style="color:#6272a4">// * Have consented to the custom app scope `myappscope` (it has consent required registered on the scope in ID-porten)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">if</span> (!user.InAltinnPortal &amp;&amp; !user.Scopes.HasScope(<span style="color:#f1fa8c">&#34;myappscope&#34;</span>))
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                context.Response.StatusCode = <span style="color:#bd93f9">403</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">await</span> context.Response.WriteAsync(<span style="color:#f1fa8c">&#34;Forbidden&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#ff79c6">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">await</span> next(context);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><h4 id="validation-with-xacml-policy">Validation with XACML policy</h4>
<p>Scopes from the token can also be used as attributes in XACML.</p>
<div class="notices warning" >The matcher <code>urn:oasis:names:tc:xacml:1.0:function:string-is-in</code> is not necessarily completely safe.
The scope <code>annentest:app.a</code> will also match here, since <code>test:app.a</code> is a substring of this.
We are considering whether a better match function can be implemented.</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;xacml:Rule</span> <span style="color:#50fa7b">RuleId=</span><span style="color:#f1fa8c">&#34;urn:altinn:example:ruleid:1&#34;</span> <span style="color:#50fa7b">Effect=</span><span style="color:#f1fa8c">&#34;Permit&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;xacml:Description&gt;</span>A rule giving clients with scope &#34;test:app.a&#34; the right to instantiate a instance of a given app of [ORG]/[APP]<span style="color:#ff79c6">&lt;/xacml:Description&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;xacml:Target&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:function:string-is-in&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>test:app.a<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:altinn:scope&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:function:string-equal&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>[ORG]<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:altinn:org&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:function:string-equal&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>[APP]<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:altinn:app&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>instantiate<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:action:action-id&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>read<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:action:action-id&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/xacml:Target&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;/xacml:Rule&gt;</span>
</span></span></code></pre></div><h2 id="integration-with-system-user">Integration with System User</h2>
<p>The system user concept from Altinn Authorization is designed to support more automated integrations between end-user systems and Altinn apps, where submissions are made on behalf of an organization. The system user concept consists of the following components:</p>
<ul>
<li>Maskinporten – the authentication mechanism for everything related to system users:
<ul>
<li>Registration of a system in the system registry (API at Altinn Authorization)</li>
<li>Registering a system user (API at Altinn Authorization)</li>
<li>Submission from the system (the vendors system/end-user system)</li>
</ul>
</li>
<li>System Registry
<ul>
<li>A component in Altinn Authorization where all system definitions belonging to end-user systems are stored</li>
</ul>
</li>
<li>System
<ul>
<li>The definition for the end-user system. This definition includes, among other things, which rights the system needs from the system user, and which Maskinporten client (client ID) the system intends to use when authenticating with Maskinporten.</li>
<li>The system is registered and owned by the end-user system vendor in the system registry</li>
</ul>
</li>
<li>System User
<ul>
<li>A virtual user owned by the customer of the vendor/end-user system</li>
<li>When the system user is registered, the rights requested by the system must be delegated to the system user. In practice, the person who creates the system user (at the customer) must have these rights that the system requests</li>
</ul>
</li>
</ul>
<p>This concept allows the system to impersonate the system user in the integration with an Altinn app.
Thus, the system <em>can</em> make calls to Altinn&rsquo;s APIs without an end-user from the organization being present.
This is not possible with an ID-porten integration, as you are always dependent on a valid token from the end-user working at the customer (with sufficient permissions).</p>
<h3 id="example">Example</h3>
<p>Let&rsquo;s walk through a concrete example for SBS based on system user integration.</p>
<div class="notices info" >This is a fictional example, but we use a well-known system, service owner, and form to make the example more relatable.
Note that there are few steps for the service owner to perform here, but it is still important that the service owner is familiar with the process.</div>
<ul>
<li>System: <strong>Fiken AS (913312465)</strong></li>
<li>Service owner: <strong>Brønnøysundregisteret (brg)</strong></li>
<li>App: <strong>aarsregnskap</strong></li>
<li>Customer: <strong>Sindig Oriental Tiger AS (313725138)</strong></li>
<li>Environment: <strong>tt02</strong></li>
</ul>
<p>In this example, Fiken will automatically submit the annual accounts at the end of the year based on the accounts registered in their systems by the customer.
This submission happens fully automatically, but the end-user at the customer must still log in and sign the annual accounts after it has been filled in in <code>årsregnskap</code>.
We will now set up this integration from scratch.</p>
<p><a href="/en/authorization/guides/system-vendor/">More documentation about the system user flow for SBS can be found here</a>.
This guide is intended as an Altinn Studio app-specific example of the same concept.</p>
<h4 id="prerequisites">Prerequisites</h4>
<ul>
<li>Brønnøysundregisteret needs access to Altinn Studio and the tt02 environment</li>
<li>Fiken needs an agreement with Maskinporten for the environment (access to the <a href="https://sjolvbetjening.test.samarbeid.digdir.no/">Collaboration Portal for test</a>)</li>
<li>Fiken needs access to the following Maskinporten/ID-porten scopes:
<ul>
<li><code>altinn:authentication/systemregister.write</code>,</li>
<li><code>altinn:authentication/systemuser.request.read</code>, <code>altinn:authentication/systemuser.request.write</code></li>
<li><code>altinn:instances.read</code>, <code>altinn:instances.write</code></li>
</ul>
</li>
</ul>
<h4 id="1-service-owner-creates-app">1. Service owner creates app</h4>
<p>A developer at Brønnøysundregisteret creates an app in Altinn Studio and names it <code>aarsregnskap</code>.
To support system user-based integration with SBS, no special support is required in the app, so it is developed as usual,
including an XACML policy that allows DAGL to fill in the form and sign.</p>
<h4 id="2-fiken-creates-a-maskinporten-client">2. Fiken creates a Maskinporten client</h4>
<p>A Maskinporten client is required to use the system registry and to utilize the system user integration with <code>aarsregnskap</code>.</p>
<ul>
<li>Go to <a href="https://sjolvbetjening.test.samarbeid.digdir.no/">Collaboration Portal for test</a> -&gt; &ldquo;Administrasjon av tjenester&rdquo; -&gt; &ldquo;Integrasjoner&rdquo; -&gt; &ldquo;Ny integrasjon&rdquo;</li>
<li>Fill out the form and create the client with the following scopes:
<ul>
<li><code>altinn:authentication/systemregister.write</code> – to register the system in the system registry</li>
<li><code>altinn:authentication/systemuser.request.read</code>, <code>altinn:authentication/systemuser.request.write</code> – to request a system user for the system</li>
<li><code>altinn:instances.read</code>, <code>altinn:instances.write</code> – to submit on behalf of the system user</li>
</ul>
</li>
<li>Note down the client ID (for example, <code>a2ed712d-4144-4471-839f-80ae4a68146b</code>)</li>
<li>Generate and register JWKS for the client (keep both the private and public JWK)</li>
</ul>
<p>See documentation for <a href="/en/technology/solutions/cli/configuration/maskinporten-setup/">registering a Maskinporten client here</a>.</p>
<h4 id="3-fiken-registers-system-in-the-system-registry">3. Fiken registers system in the system registry</h4>
<p>With the access token from Maskinporten for the newly created client, Fiken can register itself as a system in the Altinn Authorization system registry.
To obtain a token that can be used for system registration, Fiken must include a scope that grants access to the system registry:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>POST https://test.maskinporten.no/token
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;aud&#34;: &#34;https://test.maskinporten.no/&#34;,
</span></span><span style="display:flex;"><span>  &#34;sub&#34;: &#34;2829136a-1dd4-4a13-8150-d605a3fc39e6&#34;,
</span></span><span style="display:flex;"><span>  &#34;scope&#34;: &#34;altinn:authentication/systemuser.request.read altinn:authentication/systemuser.request.write altinn:authentication/systemregister.write&#34;,
</span></span><span style="display:flex;"><span>  &#34;iss&#34;: &#34;2829136a-1dd4-4a13-8150-d605a3fc39e6&#34;,
</span></span><span style="display:flex;"><span>  &#34;exp&#34;: 1718124835,
</span></span><span style="display:flex;"><span>  &#34;iat&#34;: 1718124715,
</span></span><span style="display:flex;"><span>  &#34;jti&#34;: &#34;89365ecd-772b-4462-a4de-ac36af8ef3e2&#34;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span> <span style="color:#bd93f9">200</span> OK
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;access_token&#34;</span>: <span style="color:#f1fa8c">&#34;&lt;access_token&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This token can be used directly with the system registry API.
In the JSON definition below, the system is registered with the client ID from the previous step and with <code>Rights</code> granting access to Brønnøysundregisteret&rsquo;s aarsregnskap app.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>POST https://platform.tt02.altinn.no/authentication/api/v1/systemregister/vendor/
</span></span><span style="display:flex;"><span>Authorization: Bearer &lt;access-token&gt;
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;Id&#34;: &#34;913312465_Fiken&#34;,
</span></span><span style="display:flex;"><span>  &#34;Vendor&#34;: {
</span></span><span style="display:flex;"><span>    &#34;ID&#34;: &#34;0192:913312465&#34;
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  &#34;Name&#34;: {
</span></span><span style="display:flex;"><span>    &#34;en&#34;: &#34;Fiken&#34;,
</span></span><span style="display:flex;"><span>    &#34;nb&#34;: &#34;Fiken&#34;,
</span></span><span style="display:flex;"><span>    &#34;nn&#34;: &#34;Fiken&#34;
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  &#34;Description&#34;: {
</span></span><span style="display:flex;"><span>    &#34;en&#34;: &#34;Fiken Accounting&#34;,
</span></span><span style="display:flex;"><span>    &#34;nb&#34;: &#34;Fiken Regnskap&#34;,
</span></span><span style="display:flex;"><span>    &#34;nn&#34;: &#34;Fiken Regnskap&#34;
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  &#34;Rights&#34;: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      &#34;Resource&#34;: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          &#34;value&#34;: &#34;app_brg_aarsregnskap&#34;,
</span></span><span style="display:flex;"><span>          &#34;id&#34;: &#34;urn:altinn:resource&#34;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  &#34;AllowedRedirectUrls&#34;: [ &#34;https://fiken.no/receipt&#34; ],
</span></span><span style="display:flex;"><span>  &#34;ClientId&#34;: [ &#34;a2ed712d-4144-4471-839f-80ae4a68146b&#34; ]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span> <span style="color:#bd93f9">200</span> OK
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/json; charset=utf-8
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f1fa8c">&#34;772e52bc-63c3-45c0-80b7-f3bb1581469f&#34;</span>
</span></span></code></pre></div><h4 id="4-fiken-requests-a-system-user-for-the-customer">4. Fiken requests a system user for the customer</h4>
<p>As a system vendor (Fiken), you can request a system user for a customer.
In the response, you receive a <code>confirmUrl</code> that can be forwarded to the customer so that the customer can approve and complete the creation of the system user.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>POST https://platform.tt02.altinn.no/authentication/api/v1/systemuser/request/vendor/
</span></span><span style="display:flex;"><span>Authorization: Bearer &lt;access-token&gt;
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;externalRef&#34;: &#34;313725138_Fikenbruker&#34;,
</span></span><span style="display:flex;"><span>  &#34;systemId&#34;: &#34;913312465_Fiken&#34;,
</span></span><span style="display:flex;"><span>  &#34;partyOrgNo&#34;: &#34;313725138&#34;,
</span></span><span style="display:flex;"><span>  &#34;rights&#34;: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      &#34;resource&#34;: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          &#34;value&#34;: &#34;app_brg_aarsregnskap&#34;,
</span></span><span style="display:flex;"><span>          &#34;id&#34;: &#34;urn:altinn:resource&#34;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  &#34;redirectUrl&#34;: &#34;https://fiken.no/receipt&#34;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span> <span style="color:#bd93f9">201</span> Created
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> application/json; charset=utf-8
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;d111dbab-d619-4f15-bf29-58fe570a9ae6&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;externalRef&#34;</span>: <span style="color:#f1fa8c">&#34;313725138_Fikenbruker&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;systemId&#34;</span>: <span style="color:#f1fa8c">&#34;913312465_Fiken&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;partyOrgNo&#34;</span>: <span style="color:#f1fa8c">&#34;313725138&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;rights&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&#34;resource&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;id&#34;</span>: <span style="color:#f1fa8c">&#34;urn:altinn:resource&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;value&#34;</span>: <span style="color:#f1fa8c">&#34;app_brg_aarsregnskap&#34;</span>,
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;status&#34;</span>: <span style="color:#f1fa8c">&#34;New&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;redirectUrl&#34;</span>: <span style="color:#f1fa8c">&#34;https://fiken.no/receipt&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&#34;confirmUrl&#34;</span>: <span style="color:#f1fa8c">&#34;https://authn.ui.tt02.altinn.no/authfront/ui/auth/vendorrequest?id=d111dbab-d619-4f15-bf29-58fe570a9ae6&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="5-the-customer-approves-the-system-user-request">5. The customer approves the system user request</h4>
<p>A person at the customer, e.g., the general manager, approves the system user request by following the <code>confirmUrl</code> from the response above.
If testing is done in tt02, you can, for example, find the DAGL (general manager) for the organization of the system user.
In this case, the customer, with national identity number <code>14830199986</code>, has the DAGL role (general manager), so this can be used when logging in with TestID.
The person who approves the system user (system access) must themselves have the rights that are to be delegated to the system user.
In this case, where DAGL is to approve, the app must have a rule that gives DAGL <code>instantiate</code> and <code>read</code>.
Since the system user is delegated the same rights as the approver (in this case, DAGL), the system user will get <code>instantiate</code> and <code>read</code> in this case.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;xacml:Rule</span> <span style="color:#50fa7b">RuleId=</span><span style="color:#f1fa8c">&#34;urn:altinn:example:ruleid:1&#34;</span> <span style="color:#50fa7b">Effect=</span><span style="color:#f1fa8c">&#34;Permit&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;xacml:Description&gt;</span>Gives DAGL instantiate and read for the app<span style="color:#ff79c6">&lt;/xacml:Description&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;xacml:Target&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>dagl<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:altinn:rolecode&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:function:string-equal&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>[ORG]<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:altinn:org&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:function:string-equal&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>[APP]<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:altinn:app&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>instantiate<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:action:action-id&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;xacml:Match</span> <span style="color:#50fa7b">MatchId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeValue</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span><span style="color:#ff79c6">&gt;</span>read<span style="color:#ff79c6">&lt;/xacml:AttributeValue&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&lt;xacml:AttributeDesignator</span> <span style="color:#50fa7b">AttributeId=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:1.0:action:action-id&#34;</span> <span style="color:#50fa7b">Category=</span><span style="color:#f1fa8c">&#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action&#34;</span> <span style="color:#50fa7b">DataType=</span><span style="color:#f1fa8c">&#34;http://www.w3.org/2001/XMLSchema#string&#34;</span> <span style="color:#50fa7b">MustBePresent=</span><span style="color:#f1fa8c">&#34;false&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;/xacml:Match&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;/xacml:AllOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/xacml:AnyOf&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/xacml:Target&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">&lt;/xacml:Rule&gt;</span>
</span></span></code></pre></div><h4 id="6-fiken-can-authenticate-against-maskinporten-with-the-system-user">6. Fiken can authenticate against Maskinporten with the system user</h4>
<p>Fiken can now authenticate the system user with Maskinporten.
This is done by adding the <code>authorization_details</code> claim in the assertion with the <code>/token</code> request to Maskinporten.
Here, we only use the scopes <code>altinn:instances.read</code> and <code>altinn:instances.write</code>, which allow us to submit to an Altinn app.</p>
<div class="notices info" >If you use <code>externalRef</code> when requesting a system user, this must also be included in the assertion for the token.
In the example above, <code>313725138_Fikenbruker</code> is sent as <code>externalRef</code>, so we include it below.</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>POST https://test.maskinporten.no/token
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;aud&#34;: &#34;https://test.maskinporten.no/&#34;,
</span></span><span style="display:flex;"><span>  &#34;sub&#34;: &#34;a2ed712d-4144-4471-839f-80ae4a68146b&#34;,
</span></span><span style="display:flex;"><span>  &#34;authorization_details&#34;: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      &#34;systemuser_org&#34;: {
</span></span><span style="display:flex;"><span>        &#34;authority&#34;: &#34;iso6523-actorid-upis&#34;,
</span></span><span style="display:flex;"><span>        &#34;ID&#34;: &#34;0192:313725138&#34;
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      &#34;type&#34;: &#34;urn:altinn:systemuser&#34;,
</span></span><span style="display:flex;"><span>      &#34;externalRef&#34;: &#34;313725138_Fikenbruker&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  &#34;scope&#34;: &#34;altinn:instances.read altinn:instances.write&#34;,
</span></span><span style="display:flex;"><span>  &#34;iss&#34;: &#34;a2ed712d-4144-4471-839f-80ae4a68146b&#34;,
</span></span><span style="display:flex;"><span>  &#34;exp&#34;: 1718124835,
</span></span><span style="display:flex;"><span>  &#34;iat&#34;: 1718124715,
</span></span><span style="display:flex;"><span>  &#34;jti&#34;: &#34;89365ecd-772b-4462-a4de-ac36af8ef3e2&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now that we have the system user token from Maskinporten, we currently need to exchange it for an Altinn token before it can be used with an app.
In the future, this will no longer be necessary, and this documentation will be updated accordingly.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>GET https://platform.tt02.altinn.no/authentication/api/v1/exchange/maskinporten
</span></span><span style="display:flex;"><span>Authorization: Bearer &lt;access-token&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">HTTP</span><span style="color:#ff79c6">/</span><span style="color:#bd93f9">1.1</span> <span style="color:#bd93f9">200</span> OK
</span></span><span style="display:flex;"><span>Content-Type<span style="color:#ff79c6">:</span> text/plain; charset=utf-8
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;access-token&gt;
</span></span></code></pre></div><h4 id="7-fiken-can-instantiate-in-the-app">7. Fiken can instantiate in the app</h4>
<p>We use the <code>access_token</code> from the response in the previous step to create an empty instance in the <code>aarsregnskap</code> app.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>POST https://brg.apps.tt02.altinn.no/brg/aarsregnskap/instances/create
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>Authorization: Bearer &lt;access-token&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;instanceOwner&#34;: {
</span></span><span style="display:flex;"><span>    &#34;organisationNumber&#34;: &#34;313725138&#34;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="8-the-service-owner-can-use-information-about-the-authenticated-party-if-needed">8. The service owner can use information about the authenticated party if needed</h4>
<p>As exemplified above, you can use <code>IAuthenticationContext</code> to implement custom logic based on whether a system user is authenticated in the request:</p>
<div class="notices info" ><code>IAuthenticationContext.Current</code> uses information about the logged-in user from the ASP.NET Core authentication stack.
This means that the ASP.NET Core auth middleware must have run for you to get the correct information.
Middleware for auth is added in <code>UseAltinnAppCommonConfiguration</code>. So if you want to access <code>IAuthenticationContext.Current</code>
in a middleware, it must be added <strong>after</strong> <code>UseAltinnAppCommonConfiguration</code> has been called.</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebApplication app = builder.Build();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app.Use(
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">async</span> (context, next) =&gt;
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">var</span> authenticationContext = context.RequestServices.GetRequiredService&lt;IAuthenticationContext&gt;();
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">var</span> authenticated = authenticationContext.Current;
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> (authenticated <span style="color:#ff79c6">is</span> Authenticated.SystemUser systemUser)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">await</span> next(context);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div>

<footer class=" footline" ></footer>
                </div>
              </div>
              
              
            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/altinn-studio/v8/guides/integration/sbs/setup/_index.en.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Edit page on GitHub
                  </a>
                </div></section>
        </div> 
        <div class="col-md-2 d-none d-md-block">
          <div class="toc-container">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#integration-using-id-porten">Integration using ID-porten</a>
      <ul>
        <li><a href="#better-scope-validation">Better scope validation</a>
          <ul>
            <li><a href="#validation-with-aspnet-core-middleware">Validation with ASP.NET Core middleware</a></li>
            <li><a href="#validation-with-xacml-policy">Validation with XACML policy</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#integration-with-system-user">Integration with System User</a>
      <ul>
        <li><a href="#example">Example</a>
          <ul>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#1-service-owner-creates-app">1. Service owner creates app</a></li>
            <li><a href="#2-fiken-creates-a-maskinporten-client">2. Fiken creates a Maskinporten client</a></li>
            <li><a href="#3-fiken-registers-system-in-the-system-registry">3. Fiken registers system in the system registry</a></li>
            <li><a href="#4-fiken-requests-a-system-user-for-the-customer">4. Fiken requests a system user for the customer</a></li>
            <li><a href="#5-the-customer-approves-the-system-user-request">5. The customer approves the system user request</a></li>
            <li><a href="#6-fiken-can-authenticate-against-maskinporten-with-the-system-user">6. Fiken can authenticate against Maskinporten with the system user</a></li>
            <li><a href="#7-fiken-can-instantiate-in-the-app">7. Fiken can instantiate in the app</a></li>
            <li><a href="#8-the-service-owner-can-use-information-about-the-authenticated-party-if-needed">8. The service owner can use information about the authenticated party if needed</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
        </div>
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">About Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://digdir-samarbeid.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <style>
      #TableOfContents {overflow-x: visible; overflow-y: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      #TableOfContents::-webkit-scrollbar {display: none;  }
      #TableOfContents > ul > li {margin-top: 0.8em !important; list-style-type:none; list-style-position:inside;}
      #TableOfContents li li {margin-left: 0.4em; list-style-type:circle;}
      #TableOfContents li li:has(a.text-active) {list-style-type:disc;}
      #TableOfContents a {border-bottom: 2px solid transparent;}
      #TableOfContents a.text-active, #TableOfContents a:hover {border-bottom: 2px solid #1EAEF7;}
    </style>
    <script>
      
      class Scroller {
        static init() {
          if(document.querySelector('#TableOfContents')) {
            this.tocLinks = document.querySelectorAll('#TableOfContents a');
            this.headers = Array.from(this.tocLinks).map(link => {
              var s = link.href.split('#')[1];
              s = s.replace(/%C3%A6/g, "æ");
              s = s.replace(/%C3%B8/g, "ø");
              s = s.replace(/%C3%A5/g, "å");

              return document.getElementById(s);
            })
            this.ticking = false;
            window.addEventListener('scroll', (e) => {
              this.onScroll()
            })
          }
        }

        static onScroll() {
          if(!this.ticking) {
            requestAnimationFrame(this.update.bind(this));
            this.ticking = true;
          }
        }

        static update() {
          this.activeHeader ||= this.headers[0];
          let activeIndex = this.headers.findIndex((header) => {
            if (header != null) {
              return header.getBoundingClientRect().top > 180;
            }
          });
          if(activeIndex == -1) {
            activeIndex = this.headers.length - 1;
          } else if(activeIndex > 0) {
            activeIndex--;
          }
          let active = this.headers[activeIndex];
          if(active !== this.activeHeader) {
            this.activeHeader = active;
            this.tocLinks.forEach(link => link.classList.remove('text-active'));
            this.tocLinks[activeIndex].classList.add('text-active');
          }
          this.ticking = false;
        }
      }

      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
      if (document.getElementById("TableOfContents")) {
        var a = new StickySidebar('.toc-container', {
          topSpacing: 20,
          bottomSpacing: 60,
          containerSelector: '.adocs-scrollcontainer',
          innerWrapperSelector: '#TableOfContents',
          minWidth: 768
        });
      }
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) { Scroller.init();});
      mermaid.initialize({startOnLoad:true});
    </script>
<script src="/js/custom.js"></script></body>
</html>

