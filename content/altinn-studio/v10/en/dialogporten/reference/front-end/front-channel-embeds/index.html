<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Reference information about front channel embeds" />
<meta name="altinn_pagedir" class="elastic" content="dialogporten/reference/front-end/front-channel-embeds/" />
<meta name="altinn_title" class="elastic" content="Front channel embeds" />
<meta name="product" data-pagefind-filter="Product[content]" content="Dialogporten" />
<meta name="diataxis" data-pagefind-filter="Type[content]" content="Reference" />

<title>Front channel embeds â€“ Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">

    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script>

<script>
if (window.location.hostname != "localhost") {
    
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://siteimproveanalytics.com/js/siteanalyze_6255470.js';
    document.head.appendChild(script);
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/en/dialogporten/reference/front-end/front-channel-embeds/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Jump to the main content</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Jump to the main menu</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/en/" class="a-globalNav-logo">
            <img src="/images/altinn-new-logo-white.svg" alt="Altinn logo" class="adocs-logo">
            <span class="sr-only">To the frontpage</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Show/hide menu</span></button>

          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <span>Product</span>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle">
    <a aria-hidden="true" class="dropdown-item" href="/en/altinn-studio/v8/">
      <p class="product-item">Altinn Studio</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/authorization/">
      <p class="product-item">Authorization</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/dialogporten/">
      <p class="product-item">Dialogporten</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/broker/">
      <p class="product-item">Broker</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/events/">
      <p class="product-item">Events</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/correspondence/">
      <p class="product-item">Correspondence</p>
    </a>
    <a aria-hidden="true" class="dropdown-item" href="/en/notifications/">
      <p class="product-item">Notifications</p>
    </a>
</div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/en/community/">community</a>
              </li>
            </ul>
          </div>
        </nav> 

        <ul class="nav nav-pills a-header-options" id="nav-list">
           <li class="nav-item d-md-block">
              <button id="search-button" class="nav-link adocs-toggle-search" type="button"
                  data-toggle="collapse" data-target="#collapseSearchContent" aria-expanded="false" aria-controls="collapseSearchContent"
                  onclick="setTimeout(function(){document.getElementsByClassName('pagefind-ui__search-input')[0].focus()},100); return true;">
                  <span>
                      <i class="ai ai-search">
                        <span class="sr-only">Search</span></i>
                  </span>
              </button>
          </li>
          <li class="nav-item dropdown d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  <img src="/images/en.svg" class="" alt="Language" style="height: 1.2em; vertical-align: bottom;"/>
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle" style="z-index:100000;"><a aria-hidden="true" class="dropdown-item" href="/nb/dialogporten/reference/front-end/front-channel-embeds/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">BokmÃ¥l</span><br></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/en/dialogporten/reference/front-end/front-channel-embeds/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English âœ“</span><br></p>
    </a></div>
</li>
        </ul>

      </div>
    </div> 
  </div> 
</header>

<div id="collapseSearchContent" class="a-collapseContent adocs-collapseSearch collapse">
  <div class="a-collapseContent-inside px-0">
    <div class="bg-white pt-3 pb-3"><div class="container">
    <div class="row">
         
        <div class="form-group a-form-group a-form-group-large col-sm-12">
            <label class="a-h2" for="search-by">What are you looking for?</label>
            <div id="search-by" style="margin: auto;" class=""></div>
        </div>
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
        <script src="/pagefind/pagefind-ui.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search-by",
                    pageSize: 10,
                    excerptLength: 25,
                    showSubResults: true,
                    resetStyles: true,
                    showImages: true,
                    processResult: function (result) {
                        if (result?.meta?.image) {
                            let resultBase = new URL(result.url, window.location);
                            let remappedImage = new URL(result.meta.image, resultBase);
                            if (remappedImage.hostname !== window.location.hostname) {
                                result.meta.image = remappedImage.toString();
                            } else {
                                result.meta.image = remappedImage.pathname;
                            }
                        }
                    }
                });
                
                var searchField = document.getElementsByClassName("pagefind-ui__search-input")[0];
                if (searchField) {
                    searchField.setAttribute('aria-label', 'Search');
                }

                var sKey = "as";
                searchField.addEventListener("blur", () => {
                    sessionStorage.setItem(sKey, searchField.value);
                });

                var searchButton = document.getElementById("search-button");
                searchButton.addEventListener("click", () => {
                    var scrollContainer = document.getElementsByClassName('adocs-scrollcontainer')[0];
                    if (!searchField.checkVisibility()) {
                        scrollContainer.setAttribute('style', 'visibility: hidden !important');
                    } else {
                        scrollContainer.removeAttribute('style');
                    }
                }); 
                
                if (sessionStorage.getItem(sKey)) {
                    searchField.value = sessionStorage.getItem(sKey);
                    searchField.dispatchEvent(new Event("input"));
                }
            });
        </script>
        <style>
          :root {
            --pagefind-ui-scale: 0.9;
            --pagefind-ui-text: #000000;
            --pagefind-ui-border: #1EAEF7;
            --pagefind-ui-border-radius: 0;
          }
          .pagefind-ui__search-input::placeholder {
            color: #757575 !important;
            opacity: 1 !important;
            font-weight: normal !important;
          }
          .pagefind-ui__result-link:hover, .pagefind-ui__result-link:hover {
            text-decoration: none !important;
          }
          .pagefind-ui__form:before {
            opacity: 1 !important;
          }
        </style>
        
    </div>
</div></div>
  </div>
</div>
<div class="container pt-2 pt-md-3 pt-lg-5">      
      <div class="adocs-scrollcontainer">
        <div class="row">
          <div class="col-sm-12 col-md-10 last-modified">Last modified: Sep 29, 2025</div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-10"><nav id="sidebar" class=""><div class="highlightable">
  <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/en/dialogporten/"><span>Dialogporten</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/about-dialogporten/"><span>About Dialogporten</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/what-do-you-get/"><span>What do you get?</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/"><span>Getting started</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/dialogs/"><span>Dialogs</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/authorization/"><span>Authorization</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/authorization/parties/"><span>Parties</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/authorization/service-resource/"><span>Service Resource</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/authorization/attributes/"><span>Authorization Attributes</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/authorization/dialog-tokens/"><span>Dialog Tokens</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/events/"><span>Events</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/front-channel-embeds/"><span>Front channel embeds</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/write-actions/"><span>Write actions</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/process-identifiers/"><span>Process identifiers</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/seen-log/"><span>Seen Log</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/getting-started/activity-log/"><span>Activity Log</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/"><span>User Guides</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/authenticating/"><span>Authenticating</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/authorized-parties/"><span>Finding authorized parties</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/searching-for-dialogs/"><span>Searching for dialogs</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/getting-dialog-details/"><span>Getting dialog details</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/detecting-changes/"><span>Detecting changes</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/service-owners/"><span>Service Owners</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/service-owners/creating-resources/"><span>Creating resources</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/service-owners/creating-dialogs/"><span>Creating dialogs</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/service-owners/updating-dialogs/"><span>Updating dialogs</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/service-owners/impersonating-users/"><span>Impersonating users</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/service-owners/integrating-altinn-apps/"><span>Integrating Altinn Apps</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/service-owners/api-client/"><span>API client for .NET</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/dialogporten/user-guides/migrating-from-altinn2/"><span>Migrating from Altinn 2</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/"><span>Reference</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/openapi/"><span>OpenAPI</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/graphql/"><span>GraphQL</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/"><span>Entities</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/dialog/"><span>Dialog</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/transmission/"><span>Transmission</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/attachment/"><span>Attachment</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/activity/"><span>Activity</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/seen/"><span>Seen</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/serviceownerlabel/"><span>Service owner labels</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/systemlabel/"><span>System label</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/entities/action/"><span>Action</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/authorization/"><span>Authorization</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/authorization/altinn-authorization/"><span>Altinn Authorization</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/authorization/attributes/"><span>Authorization Attributes</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/authorization/parties/"><span>Authorized Parties</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/authorization/dialog-tokens/"><span>Dialog Tokens</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/front-end/"><span>Front end</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/front-end/front-channel-embeds/"><span>Front channel embeds</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/front-end/write-actions/"><span>Write actions</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/front-end/subscriptions/"><span>GraphQL subscriptions</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/front-end/altinn-apps/"><span>Altinn Apps integration</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/content-types/"><span>Content types</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/reference/events/"><span>Events</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/en/dialogporten/news/"><span>News</span></a></li>
      <li class="dd-item">
        <a href="/en/dialogporten/status-migration/"><span>Status Migration</span></a></li></ul></li></ul>
</div>
</nav>

<script>
          $("li.dd-item a[href='/en/dialogporten/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/dialogporten/reference/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/dialogporten/reference/front-end/']").parent().addClass("parent");
 $("li.dd-item a[href='/en/dialogporten/reference/front-end/front-channel-embeds/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">            
            <div id="breadcrumbs">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links" data-pagefind-meta="ðŸž"><a href='/en/dialogporten/'>Dialogporten</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/dialogporten/reference/'>Reference</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/en/dialogporten/reference/front-end/'>Front end</a> <span class='adocs-breadcrumb-divider'> / </span> Front channel embeds</span>
            </div>            
          </div><div id="body-inner" data-pagefind-body><h1 class="a-fontBold">Front channel embeds</h1>
              <p class="a-leadText" id="leadText">Reference information about front channel embeds</p>

<h2 id="introduction">Introduction</h2>
<p>See <a href="/en/dialogporten/reference/front-end/front-channel-embeds/../../../getting-started/front-channel-embeds/">getting started with front channel embeds</a> for an introduction.</p>
<p>Below are the terms used on this page.</p>
<dl>
<dt>End-user system (EUS)</dt>
<dd>EUS is used to describe the system that the end user uses - usually the client side of a web browser application, running JavaScript or WebAssembly code.</dd>
<dt>Content provider system (CPS)</dt>
<dd>The content provider system is the system that responds to the endpoints (URLs) that the FCE refers to. This is usually the service provider platform (such as Altinn 3).</dd>
</dl>
<h2 id="basic-steps">Basic steps</h2>
<ol>
<li>The end-user systems (EUS) identifies a particular content as a front channel embed</li>
<li>The end-user system performs (without user interaction) a request to the specified end-point with the dialog token</li>
<li>The content provider system (CPS) responds with data in accordance with the defined content media type</li>
<li>The end-user system handles the response, renders the data in accordance with the defined content media type, and embeds the data into the UI</li>
</ol>
<h3 id="step-1-identifying-a-front-channel-embed">Step 1: identifying a front-channel embed</h3>
<p>See <a href="/en/dialogporten/reference/front-end/front-channel-embeds/../../content-types/">content types</a> for a list of content fields for which a FCE may be used as a media type. This list might change, so EUS implementors are adviced to handle FCE media types on any content field.</p>
<p>The FCE media types can be identified by their prefix <code>application/vnd.dialogporten.frontchannelembed-url</code>. All FCEs however, also provide a remote content type suffix, which indicates the type of data that the endpoint at CPS can be expecte to return. Currently, two formats are allowed (for Markdown and HTML), which gives us these valid media types:</p>
<ul>
<li><code>application/vnd.dialogporten.frontchannelembed-url;type=text/markdown</code></li>
<li><code>application/vnd.dialogporten.frontchannelembed-url;type=text/html</code></li>
</ul>
<h4 id="example">Example</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsonc" data-lang="jsonc"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Content on dialog level (defining only a &#34;nb&#34; translation)
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">&#34;content&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">&#34;mainContentReference&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&#34;value&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;value&#34;</span>: <span style="color:#f1fa8c">&#34;https://example.com/fce?lang=nb&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">&#34;languageCode&#34;</span>: <span style="color:#f1fa8c">&#34;nb&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&#34;mediaType&#34;</span>: <span style="color:#f1fa8c">&#34;application/vnd.dialogporten.frontchannelembed-url;type=text/markdown&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Content on transmission level (defining only a &#34;nb&#34; translation)
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">&#34;transmissions&#34;</span>: [{
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">&#34;content&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&#34;contentReference&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;value&#34;</span>: [
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;value&#34;</span>: <span style="color:#f1fa8c">&#34;https://example.com/fce?lang=nb&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;languageCode&#34;</span>: <span style="color:#f1fa8c">&#34;nb&#34;</span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&#34;mediaType&#34;</span>: <span style="color:#f1fa8c">&#34;application/vnd.dialogporten.frontchannelembed-url;type=text/markdown&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="step-2-performing-the-request-using-cors-protocol">Step 2: Performing the request (using CORS protocol)</h3>
<p>Once identified, the EUS MUST perform a GET request to the specified endpoint using a HTTP client mechanism that supports either HTTP 1.1 or 2.0. The request MUST contain a <code>Authorization: Bearer &lt;dialog token&gt;</code> header, using the dialog token supplied with the dialog. The EUS MUST make sure that the dialog token is no older than 10 minutes. A new dialog token is issued with every request to the dialog details endpoint in the Dialgporten end-user API (either REST or GraphQL).</p>
<p>The EUS MAY supply a <code>Origin</code> header in accordance with the CORS protocol. The EUS SHOULD NOT supply any cookies belonging to the domain of the CPS endpoint.</p>
<h3 id="step-3-handling-the-request-at-the-cps-endpoint">Step 3: Handling the request at the CPS endpoint</h3>
<p>The CPS MUST validate the received token by checking the token signature against the Dialogporten published JWKs, and checking that the token is not expired. Additional validations MAY be performed (ie. checking the &ldquo;actions&rdquo; claim). The CPS MAY validate that <code>Origin</code> header, but MUST NOT rely on this header alone for authorization purposes as this can be easily spoofed.</p>
<p>Given a successful authorization and no other error conditions, the CPS MUST respond with a <code>200 OK</code> and a <code>Content-Type</code> header matching the remote content part of the media type for the FCE (currently either <code>text/markdown</code> or <code>text/html</code>) and a body containing the content for the FCE. The body MAY be empty, in which the CPS MAY use the response code <code>204 No Content</code>.</p>
<p>In case of any errors arising, see <a href="#error-handling">error handling</a> below.</p>
<h3 id="step-4-handling-the-response">Step 4. Handling the response</h3>
<p>The EUS MUST follow redirects (3xx) responses, but also MUST handle infinite redirects by limiting the number of redirects to a number no less than 5. The EUS MUST ensure that the returned <code>Content-Type</code> header matches that of the FCE mediatype. The FCE MUST handle an empty response body, in which no UI changes should occur, allowing the CPS to utilize FCEs as a way to trigger remote processes.</p>
<p>Given a successful response (200) and a non-empty body, the EUS should render the content and inject it into the UI at its own discretion.</p>
<p>In case of any errors arising, see <a href="#error-handling">error handling</a> below.</p>
<h2 id="error-handling">Error handling</h2>
<p>Any errors occuring on the CPS side MUST result in a 4xx or 5xx HTTP status code being returned to the EUS. This should follow standard HTTP semantics (ie. 4xx being client side errors and 5xx being server side errors).</p>
<div class="notices info" >Note that the end-user very rarely are &ldquo;to blame&rdquo; for FCE errors to occur, and will have few, if any, ways to remedy the situation. Error messages should therefore be of a generic nature, and only display specific details of the error to the user when there is actionable information available.</div>
<p>The CPS MAY supply a RFC9457 Problem Details response body, adding additional details about the error condition occured, including a &ldquo;details&rdquo; field with human readable information that the EUS MAY display to the end user for support purposes. The error details MUST be localized to the language indicated by the content field.</p>
<p>The EUS MUST handle 5xx and 4xx by displaying a generic, localized error message, and MAY include the CPS provided details, if available. The EUS SHOULD take steps to make it clear for the end user what information was provided by the CPS. Both the EUS and the CPS SHOULD log the error that occured for further diagnosis.</p>
<h2 id="constraints">Constraints</h2>
<p>Here are the constrains of the FCE remote content types that both CPSs and EUSs must adhere to:</p>
<h3 id="generic-http-etc">Generic (HTTP etc)</h3>
<ul>
<li>Response bodys MUST NOT exceed 100KB</li>
<li>EUS clients SHOULD terminate the request if no response has been received after 10 seconds, displaying a generic error message</li>
</ul>
<h3 id="markdown-and-html">Markdown and HTML</h3>
<ul>
<li>CPS implementors MUST ensure that the returned markdown adheres to the current <a href="https://commonmark.org/">CommonMark specification</a> (0.31.2).</li>
<li>EUS implementors SHOULD use a well-known library for rendering, in accordance with the constraints listed below.</li>
<li>The resulting HTML rendered to the end-user MUST consist of only the tags specified below. Both the CPS and the EUS MUST take steps to ensure this.</li>
<li>All attributes causing script execution is disallowed MUST NOT be produced by the CPS and MUST be stripped by the EUS</li>
<li>EUSs SHOULD clearly indicate that any links provided pointing to external URLs are in fact external, and add <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes/rel/noreferrer">rel=&ldquo;noreferrer&rdquo;</a> attributes to the anchor tags</li>
</ul>
<h3 id="allowed-tags">Allowed tags</h3>
<table>
  <thead>
      <tr>
          <th>HTML Tag</th>
          <th>Purpose</th>
          <th>Markdown Equivalent</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>&lt;p&gt;</code></td>
          <td>Paragraphs</td>
          <td>Plain text separated by a blank line</td>
      </tr>
      <tr>
          <td><code>&lt;em&gt;</code></td>
          <td>Italic / emphasis</td>
          <td><code>*italic*</code> or <code>_italic_</code></td>
      </tr>
      <tr>
          <td><code>&lt;strong&gt;</code></td>
          <td>Bold / strong emphasis</td>
          <td><code>**bold**</code> or <code>__bold__</code></td>
      </tr>
      <tr>
          <td><code>&lt;ul&gt;</code> / <code>&lt;ol&gt;</code> / <code>&lt;li&gt;</code></td>
          <td>Lists</td>
          <td><code>- item</code>, <code>1. item</code></td>
      </tr>
      <tr>
          <td><code>&lt;a&gt;</code></td>
          <td>Links</td>
          <td><code>[link](https://example.com)</code></td>
      </tr>
      <tr>
          <td><code>&lt;code&gt;</code></td>
          <td>Inline code</td>
          <td><code>`inline code`</code></td>
      </tr>
      <tr>
          <td><code>&lt;pre&gt;&lt;code&gt;</code></td>
          <td>Code blocks</td>
          <td><pre><code>```js<br>const x = 1;<br>```</code></pre></td>
      </tr>
      <tr>
          <td><code>&lt;blockquote&gt;</code></td>
          <td>Blockquotes</td>
          <td><code>&gt; quoted text</code></td>
      </tr>
      <tr>
          <td><code>&lt;hr&gt;</code></td>
          <td>Horizontal rule/separator</td>
          <td><code>---</code> or <code>***</code></td>
      </tr>
      <tr>
          <td><code>&lt;h1&gt;</code>â€“<code>&lt;h6&gt;</code></td>
          <td>Headings</td>
          <td><code># H1</code>, <code>## H2</code>, &hellip;, <code>###### H6</code></td>
      </tr>
      <tr>
          <td><code>&lt;br&gt;</code></td>
          <td>Line break</td>
          <td>Line ends with 2+ spaces + Enter</td>
      </tr>
  </tbody>
</table>
<ul class="children children-li js-moveChildrenFrom">

	
		
	
</ul>




<footer class=" footline" ></footer>
                </div>
              </div>
              
              
            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/dialogporten/reference/front-end/front-channel-embeds/_index.en.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Edit page on GitHub
                  </a>
                </div></section>
        </div> 
        <div class="col-md-2 d-none d-md-block">
          <div class="toc-container">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#basic-steps">Basic steps</a>
      <ul>
        <li><a href="#step-1-identifying-a-front-channel-embed">Step 1: identifying a front-channel embed</a>
          <ul>
            <li><a href="#example">Example</a></li>
          </ul>
        </li>
        <li><a href="#step-2-performing-the-request-using-cors-protocol">Step 2: Performing the request (using CORS protocol)</a></li>
        <li><a href="#step-3-handling-the-request-at-the-cps-endpoint">Step 3: Handling the request at the CPS endpoint</a></li>
        <li><a href="#step-4-handling-the-response">Step 4. Handling the response</a></li>
      </ul>
    </li>
    <li><a href="#error-handling">Error handling</a></li>
    <li><a href="#constraints">Constraints</a>
      <ul>
        <li><a href="#generic-http-etc">Generic (HTTP etc)</a></li>
        <li><a href="#markdown-and-html">Markdown and HTML</a></li>
        <li><a href="#allowed-tags">Allowed tags</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
        </div>
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">About Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://digdir-samarbeid.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <style>
      #TableOfContents {overflow-x: visible; overflow-y: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      #TableOfContents::-webkit-scrollbar {display: none;  }
      #TableOfContents > ul > li {margin-top: 0.8em !important; list-style-type:none; list-style-position:inside;}
      #TableOfContents li li {margin-left: 0.4em; list-style-type:circle;}
      #TableOfContents li li:has(a.text-active) {list-style-type:disc;}
      #TableOfContents a {border-bottom: 2px solid transparent;}
      #TableOfContents a.text-active, #TableOfContents a:hover {border-bottom: 2px solid #1EAEF7;}
    </style>
    <script>
      
      class Scroller {
        static init() {
          if(document.querySelector('#TableOfContents')) {
            this.tocLinks = document.querySelectorAll('#TableOfContents a');
            this.headers = Array.from(this.tocLinks).map(link => {
              var s = link.href.split('#')[1];
              s = s.replace(/%C3%A6/g, "Ã¦");
              s = s.replace(/%C3%B8/g, "Ã¸");
              s = s.replace(/%C3%A5/g, "Ã¥");

              return document.getElementById(s);
            })
            this.ticking = false;
            window.addEventListener('scroll', (e) => {
              this.onScroll()
            })
          }
        }

        static onScroll() {
          if(!this.ticking) {
            requestAnimationFrame(this.update.bind(this));
            this.ticking = true;
          }
        }

        static update() {
          this.activeHeader ||= this.headers[0];
          let activeIndex = this.headers.findIndex((header) => {
            if (header != null) {
              return header.getBoundingClientRect().top > 180;
            }
          });
          if(activeIndex == -1) {
            activeIndex = this.headers.length - 1;
          } else if(activeIndex > 0) {
            activeIndex--;
          }
          let active = this.headers[activeIndex];
          if(active !== this.activeHeader) {
            this.activeHeader = active;
            this.tocLinks.forEach(link => link.classList.remove('text-active'));
            this.tocLinks[activeIndex].classList.add('text-active');
          }
          this.ticking = false;
        }
      }

      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
      if (document.getElementById("TableOfContents")) {
        var a = new StickySidebar('.toc-container', {
          topSpacing: 20,
          bottomSpacing: 60,
          containerSelector: '.adocs-scrollcontainer',
          innerWrapperSelector: '#TableOfContents',
          minWidth: 768
        });
      }
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) { Scroller.init();});
      mermaid.initialize({startOnLoad:true});
    </script>
<script src="/js/custom.js"></script></body>
</html>

